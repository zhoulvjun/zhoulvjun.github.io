!function(t,e){function o(t){var e=gt[t]={};return J.each(t.split(et),function(t,o){e[o]=!0}),e}function a(t,o,a){if(a===e&&1===t.nodeType){var i="data-"+o.replace(ft,"-$1").toLowerCase();if(a=t.getAttribute(i),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:mt.test(a)?J.parseJSON(a):a}catch(n){}J.data(t,o,a)}else a=e}return a}function i(t){var e;for(e in t)if(("data"!==e||!J.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function n(){return!1}function s(){return!0}function r(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function p(t,e,o){if(e=e||0,J.isFunction(e))return J.grep(t,function(t,a){var i=!!e.call(t,a,t);return i===o});if(e.nodeType)return J.grep(t,function(t,a){return t===e===o});if("string"==typeof e){var a=J.grep(t,function(t){return 1===t.nodeType});if($t.test(e))return J.filter(e,a,!o);e=J.filter(e,a)}return J.grep(t,function(t,a){return J.inArray(t,e)>=0===o})}function h(t){var e=Bt.split("|"),o=t.createDocumentFragment();if(o.createElement)for(;e.length;)o.createElement(e.pop());return o}function u(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function c(t,e){if(1===e.nodeType&&J.hasData(t)){var o,a,i,n=J._data(t),s=J._data(e,n),r=n.events;if(r){delete s.handle,s.events={};for(o in r)for(a=0,i=r[o].length;i>a;a++)J.event.add(e,o,r[o][a])}s.data&&(s.data=J.extend({},s.data))}}function d(t,e){var o;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),o=e.nodeName.toLowerCase(),"object"===o?(e.parentNode&&(e.outerHTML=t.outerHTML),J.support.html5Clone&&t.innerHTML&&!J.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===o&&Ut.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===o?e.selected=t.defaultSelected:"input"===o||"textarea"===o?e.defaultValue=t.defaultValue:"script"===o&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(J.expando))}function g(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){Ut.test(t.type)&&(t.defaultChecked=t.checked)}function f(t,e){if(e in t)return e;for(var o=e.charAt(0).toUpperCase()+e.slice(1),a=e,i=be.length;i--;)if(e=be[i]+o,e in t)return e;return a}function b(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)}function v(t,e){for(var o,a,i=[],n=0,s=t.length;s>n;n++)o=t[n],o.style&&(i[n]=J._data(o,"olddisplay"),e?(i[n]||"none"!==o.style.display||(o.style.display=""),""===o.style.display&&b(o)&&(i[n]=J._data(o,"olddisplay",w(o.nodeName)))):(a=oe(o,"display"),i[n]||"none"===a||J._data(o,"olddisplay",a)));for(n=0;s>n;n++)o=t[n],o.style&&(e&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=e?i[n]||"":"none"));return t}function x(t,e,o){var a=he.exec(e);return a?Math.max(0,a[1]-(o||0))+(a[2]||"px"):e}function y(t,e,o,a){for(var i=o===(a?"border":"content")?4:"width"===e?1:0,n=0;4>i;i+=2)"margin"===o&&(n+=J.css(t,o+fe[i],!0)),a?("content"===o&&(n-=parseFloat(oe(t,"padding"+fe[i]))||0),"margin"!==o&&(n-=parseFloat(oe(t,"border"+fe[i]+"Width"))||0)):(n+=parseFloat(oe(t,"padding"+fe[i]))||0,"padding"!==o&&(n+=parseFloat(oe(t,"border"+fe[i]+"Width"))||0));return n}function q(t,e,o){var a="width"===e?t.offsetWidth:t.offsetHeight,i=!0,n=J.support.boxSizing&&"border-box"===J.css(t,"boxSizing");if(0>=a||null==a){if(a=oe(t,e),(0>a||null==a)&&(a=t.style[e]),ue.test(a))return a;i=n&&(J.support.boxSizingReliable||a===t.style[e]),a=parseFloat(a)||0}return a+y(t,e,o||(n?"border":"content"),i)+"px"}function w(t){if(de[t])return de[t];var e=J("<"+t+">").appendTo(z.body),o=e.css("display");return e.remove(),("none"===o||""===o)&&(ae=z.body.appendChild(ae||J.extend(z.createElement("iframe"),{frameBorder:0,width:0,height:0})),ie&&ae.createElement||(ie=(ae.contentWindow||ae.contentDocument).document,ie.write("<!doctype html><html><body>"),ie.close()),e=ie.body.appendChild(ie.createElement(t)),o=oe(e,"display"),z.body.removeChild(ae)),de[t]=o,o}function S(t,e,o,a){var i;if(J.isArray(e))J.each(e,function(e,i){o||ye.test(t)?a(t,i):S(t+"["+("object"==typeof i?e:"")+"]",i,o,a)});else if(o||"object"!==J.type(e))a(t,e);else for(i in e)S(t+"["+i+"]",e[i],o,a)}function C(t){return function(e,o){"string"!=typeof e&&(o=e,e="*");var a,i,n,s=e.toLowerCase().split(et),r=0,l=s.length;if(J.isFunction(o))for(;l>r;r++)a=s[r],n=/^\+/.test(a),n&&(a=a.substr(1)||"*"),i=t[a]=t[a]||[],i[n?"unshift":"push"](o)}}function I(t,o,a,i,n,s){n=n||o.dataTypes[0],s=s||{},s[n]=!0;for(var r,l=t[n],p=0,h=l?l.length:0,u=t===$e;h>p&&(u||!r);p++)r=l[p](o,a,i),"string"==typeof r&&(!u||s[r]?r=e:(o.dataTypes.unshift(r),r=I(t,o,a,i,r,s)));return!u&&r||s["*"]||(r=I(t,o,a,i,"*",s)),r}function _(t,o){var a,i,n=J.ajaxSettings.flatOptions||{};for(a in o)o[a]!==e&&((n[a]?t:i||(i={}))[a]=o[a]);i&&J.extend(!0,t,i)}function k(t,o,a){var i,n,s,r,l=t.contents,p=t.dataTypes,h=t.responseFields;for(n in h)n in a&&(o[h[n]]=a[n]);for(;"*"===p[0];)p.shift(),i===e&&(i=t.mimeType||o.getResponseHeader("content-type"));if(i)for(n in l)if(l[n]&&l[n].test(i)){p.unshift(n);break}if(p[0]in a)s=p[0];else{for(n in a){if(!p[0]||t.converters[n+" "+p[0]]){s=n;break}r||(r=n)}s=s||r}return s?(s!==p[0]&&p.unshift(s),a[s]):void 0}function T(t,e){var o,a,i,n,s=t.dataTypes.slice(),r=s[0],l={},p=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(;i=s[++p];)if("*"!==i){if("*"!==r&&r!==i){if(o=l[r+" "+i]||l["* "+i],!o)for(a in l)if(n=a.split(" "),n[1]===i&&(o=l[r+" "+n[0]]||l["* "+n[0]])){o===!0?o=l[a]:l[a]!==!0&&(i=n[0],s.splice(p--,0,i));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+r+" to "+i}}}r=i}return{state:"success",data:e}}function M(){try{return new t.XMLHttpRequest}catch(e){}}function L(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function H(){return setTimeout(function(){Re=e},0),Re=J.now()}function D(t,e){J.each(e,function(e,o){for(var a=(Ke[e]||[]).concat(Ke["*"]),i=0,n=a.length;n>i;i++)if(a[i].call(t,e,o))return})}function O(t,e,o){var a,i=0,n=Je.length,s=J.Deferred().always(function(){delete r.elem}),r=function(){for(var e=Re||H(),o=Math.max(0,l.startTime+l.duration-e),a=o/l.duration||0,i=1-a,n=0,r=l.tweens.length;r>n;n++)l.tweens[n].run(i);return s.notifyWith(t,[l,i,o]),1>i&&r?o:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},o),originalProperties:e,originalOptions:o,startTime:Re||H(),duration:o.duration,tweens:[],createTween:function(e,o,a){var i=J.Tween(t,l.opts,e,o,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){for(var o=0,a=e?l.tweens.length:0;a>o;o++)l.tweens[o].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),p=l.props;for(V(p,l.opts.specialEasing);n>i;i++)if(a=Je[i].call(l,t,p,l.opts))return a;return D(l,p),J.isFunction(l.opts.start)&&l.opts.start.call(t,l),J.fx.timer(J.extend(r,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function V(t,e){var o,a,i,n,s;for(o in t)if(a=J.camelCase(o),i=e[a],n=t[o],J.isArray(n)&&(i=n[1],n=t[o]=n[0]),o!==a&&(t[a]=n,delete t[o]),s=J.cssHooks[a],s&&"expand"in s){n=s.expand(n),delete t[a];for(o in n)o in t||(t[o]=n[o],e[o]=i)}else e[a]=i}function F(t,e,o){var a,i,n,s,r,l,p,h,u,c=this,d=t.style,g={},m=[],f=t.nodeType&&b(t);o.queue||(h=J._queueHooks(t,"fx"),null==h.unqueued&&(h.unqueued=0,u=h.empty.fire,h.empty.fire=function(){h.unqueued||u()}),h.unqueued++,c.always(function(){c.always(function(){h.unqueued--,J.queue(t,"fx").length||h.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(o.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===J.css(t,"display")&&"none"===J.css(t,"float")&&(J.support.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?d.zoom=1:d.display="inline-block")),o.overflow&&(d.overflow="hidden",J.support.shrinkWrapBlocks||c.done(function(){d.overflow=o.overflow[0],d.overflowX=o.overflow[1],d.overflowY=o.overflow[2]}));for(a in e)if(n=e[a],Ue.exec(n)){if(delete e[a],l=l||"toggle"===n,n===(f?"hide":"show"))continue;m.push(a)}if(s=m.length){r=J._data(t,"fxshow")||J._data(t,"fxshow",{}),"hidden"in r&&(f=r.hidden),l&&(r.hidden=!f),f?J(t).show():c.done(function(){J(t).hide()}),c.done(function(){var e;J.removeData(t,"fxshow",!0);for(e in g)J.style(t,e,g[e])});for(a=0;s>a;a++)i=m[a],p=c.createTween(i,f?r[i]:0),g[i]=r[i]||J.style(t,i),i in r||(r[i]=p.start,f&&(p.end=p.start,p.start="width"===i||"height"===i?1:0))}}function $(t,e,o,a,i){return new $.prototype.init(t,e,o,a,i)}function A(t,e){var o,a={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)o=fe[i],a["margin"+o]=a["padding"+o]=t;return e&&(a.opacity=a.width=t),a}function P(t){return J.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var B,N,z=t.document,G=t.location,W=t.navigator,j=t.jQuery,Z=t.$,E=Array.prototype.push,R=Array.prototype.slice,Y=Array.prototype.indexOf,U=Object.prototype.toString,X=Object.prototype.hasOwnProperty,Q=String.prototype.trim,J=function(t,e){return new J.fn.init(t,e,B)},K=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,tt=/\S/,et=/\s+/,ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,nt=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,rt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,pt=/^-ms-/,ht=/-([\da-z])/gi,ut=function(t,e){return(e+"").toUpperCase()},ct=function(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",ct,!1),J.ready()):"complete"===z.readyState&&(z.detachEvent("onreadystatechange",ct),J.ready())},dt={};J.fn=J.prototype={constructor:J,init:function(t,o,a){var i,n,s;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:at.exec(t),!i||!i[1]&&o)return!o||o.jquery?(o||a).find(t):this.constructor(o).find(t);if(i[1])return o=o instanceof J?o[0]:o,s=o&&o.nodeType?o.ownerDocument||o:z,t=J.parseHTML(i[1],s,!0),it.test(i[1])&&J.isPlainObject(o)&&this.attr.call(t,o,!0),J.merge(this,t);if(n=z.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return a.find(t);this.length=1,this[0]=n}return this.context=z,this.selector=t,this}return J.isFunction(t)?a.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return R.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,o){var a=J.merge(this.constructor(),t);return a.prevObject=this,a.context=this.context,"find"===e?a.selector=this.selector+(this.selector?" ":"")+o:e&&(a.selector=this.selector+"."+e+"("+o+")"),a},each:function(t,e){return J.each(this,t,e)},ready:function(t){return J.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(R.apply(this,arguments),"slice",R.call(arguments).join(","))},map:function(t){return this.pushStack(J.map(this,function(e,o){return t.call(e,o,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},J.fn.init.prototype=J.fn,J.extend=J.fn.extend=function(){var t,o,a,i,n,s,r=arguments[0]||{},l=1,p=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,r=arguments[1]||{},l=2),"object"==typeof r||J.isFunction(r)||(r={}),p===l&&(r=this,--l);p>l;l++)if(null!=(t=arguments[l]))for(o in t)a=r[o],i=t[o],r!==i&&(h&&i&&(J.isPlainObject(i)||(n=J.isArray(i)))?(n?(n=!1,s=a&&J.isArray(a)?a:[]):s=a&&J.isPlainObject(a)?a:{},r[o]=J.extend(h,s,i)):i!==e&&(r[o]=i));return r},J.extend({noConflict:function(e){return t.$===J&&(t.$=Z),e&&t.jQuery===J&&(t.jQuery=j),J},isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){if(t===!0?!--J.readyWait:!J.isReady){if(!z.body)return setTimeout(J.ready,1);J.isReady=!0,t!==!0&&--J.readyWait>0||(N.resolveWith(z,[J]),J.fn.trigger&&J(z).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray||function(t){return"array"===J.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):dt[U.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==J.type(t)||t.nodeType||J.isWindow(t))return!1;try{if(t.constructor&&!X.call(t,"constructor")&&!X.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(o){return!1}var a;for(a in t);return a===e||X.call(t,a)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,o){var a;return t&&"string"==typeof t?("boolean"==typeof e&&(o=e,e=0),e=e||z,(a=it.exec(t))?[e.createElement(a[1])]:(a=J.buildFragment([t],e,o?null:[]),J.merge([],(a.cacheable?J.clone(a.fragment):a.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=J.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):nt.test(e.replace(rt,"@").replace(lt,"]").replace(st,""))?new Function("return "+e)():void J.error("Invalid JSON: "+e)):null},parseXML:function(o){var a,i;if(!o||"string"!=typeof o)return null;try{t.DOMParser?(i=new DOMParser,a=i.parseFromString(o,"text/xml")):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(o))}catch(n){a=e}return a&&a.documentElement&&!a.getElementsByTagName("parsererror").length||J.error("Invalid XML: "+o),a},noop:function(){},globalEval:function(e){e&&tt.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(pt,"ms-").replace(ht,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,o,a){var i,n=0,s=t.length,r=s===e||J.isFunction(t);if(a)if(r){for(i in t)if(o.apply(t[i],a)===!1)break}else for(;s>n&&o.apply(t[n++],a)!==!1;);else if(r){for(i in t)if(o.call(t[i],i,t[i])===!1)break}else for(;s>n&&o.call(t[n],n,t[n++])!==!1;);return t},trim:Q&&!Q.call("\ufeffÂ ")?function(t){return null==t?"":Q.call(t)}:function(t){return null==t?"":(t+"").replace(ot,"")},makeArray:function(t,e){var o,a=e||[];return null!=t&&(o=J.type(t),null==t.length||"string"===o||"function"===o||"regexp"===o||J.isWindow(t)?E.call(a,t):J.merge(a,t)),a},inArray:function(t,e,o){var a;if(e){if(Y)return Y.call(e,t,o);for(a=e.length,o=o?0>o?Math.max(0,a+o):o:0;a>o;o++)if(o in e&&e[o]===t)return o}return-1},merge:function(t,o){var a=o.length,i=t.length,n=0;if("number"==typeof a)for(;a>n;n++)t[i++]=o[n];else for(;o[n]!==e;)t[i++]=o[n++];return t.length=i,t},grep:function(t,e,o){var a,i=[],n=0,s=t.length;for(o=!!o;s>n;n++)a=!!e(t[n],n),o!==a&&i.push(t[n]);return i},map:function(t,o,a){var i,n,s=[],r=0,l=t.length,p=t instanceof J||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||J.isArray(t));if(p)for(;l>r;r++)i=o(t[r],r,a),null!=i&&(s[s.length]=i);else for(n in t)i=o(t[n],n,a),null!=i&&(s[s.length]=i);return s.concat.apply([],s)},guid:1,proxy:function(t,o){var a,i,n;return"string"==typeof o&&(a=t[o],o=t,t=a),J.isFunction(t)?(i=R.call(arguments,2),n=function(){return t.apply(o,i.concat(R.call(arguments)))},n.guid=t.guid=t.guid||J.guid++,n):e},access:function(t,o,a,i,n,s,r){var l,p=null==a,h=0,u=t.length;if(a&&"object"==typeof a){for(h in a)J.access(t,o,h,a[h],1,s,i);n=1}else if(i!==e){if(l=r===e&&J.isFunction(i),p&&(l?(l=o,o=function(t,e,o){return l.call(J(t),o)}):(o.call(t,i),o=null)),o)for(;u>h;h++)o(t[h],a,l?i.call(t[h],h,o(t[h],a)):i,r);n=1}return n?t:p?o.call(t):u?o(t[0],a):s},now:function(){return(new Date).getTime()}}),J.ready.promise=function(e){if(!N)if(N=J.Deferred(),"complete"===z.readyState)setTimeout(J.ready,1);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",ct,!1),t.addEventListener("load",J.ready,!1);else{z.attachEvent("onreadystatechange",ct),t.attachEvent("onload",J.ready);var o=!1;try{o=null==t.frameElement&&z.documentElement}catch(a){}o&&o.doScroll&&!function i(){if(!J.isReady){try{o.doScroll("left")}catch(t){return setTimeout(i,50)}J.ready()}}()}return N.promise(e)},J.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()}),B=J(z);var gt={};J.Callbacks=function(t){t="string"==typeof t?gt[t]||o(t):J.extend({},t);var a,i,n,s,r,l,p=[],h=!t.once&&[],u=function(e){for(a=t.memory&&e,i=!0,l=s||0,s=0,r=p.length,n=!0;p&&r>l;l++)if(p[l].apply(e[0],e[1])===!1&&t.stopOnFalse){a=!1;break}n=!1,p&&(h?h.length&&u(h.shift()):a?p=[]:c.disable())},c={add:function(){if(p){var e=p.length;!function o(e){J.each(e,function(e,a){var i=J.type(a);"function"===i?t.unique&&c.has(a)||p.push(a):a&&a.length&&"string"!==i&&o(a)})}(arguments),n?r=p.length:a&&(s=e,u(a))}return this},remove:function(){return p&&J.each(arguments,function(t,e){for(var o;(o=J.inArray(e,p,o))>-1;)p.splice(o,1),n&&(r>=o&&r--,l>=o&&l--)}),this},has:function(t){return J.inArray(t,p)>-1},empty:function(){return p=[],this},disable:function(){return p=h=a=e,this},disabled:function(){return!p},lock:function(){return h=e,a||c.disable(),this},locked:function(){return!h},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!p||i&&!h||(n?h.push(e):u(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(o){J.each(e,function(e,a){var n=a[0],s=t[e];i[a[1]](J.isFunction(s)?function(){var t=s.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(o.resolve).fail(o.reject).progress(o.notify):o[n+"With"](this===i?o:this,[t])}:o[n])}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,a):a}},i={};return a.pipe=a.then,J.each(e,function(t,n){var s=n[2],r=n[3];a[n[1]]=s.add,r&&s.add(function(){o=r},e[1^t][2].disable,e[2][2].lock),i[n[0]]=s.fire,i[n[0]+"With"]=s.fireWith}),a.promise(i),t&&t.call(i,i),i},when:function(t){var e,o,a,i=0,n=R.call(arguments),s=n.length,r=1!==s||t&&J.isFunction(t.promise)?s:0,l=1===r?t:J.Deferred(),p=function(t,o,a){return function(i){o[t]=this,a[t]=arguments.length>1?R.call(arguments):i,a===e?l.notifyWith(o,a):--r||l.resolveWith(o,a)}};if(s>1)for(e=new Array(s),o=new Array(s),a=new Array(s);s>i;i++)n[i]&&J.isFunction(n[i].promise)?n[i].promise().done(p(i,a,n)).fail(l.reject).progress(p(i,o,e)):--r;return r||l.resolveWith(a,n),l.promise()}}),J.support=function(){var e,o,a,i,n,s,r,l,p,h,u,c=z.createElement("div");if(c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=c.getElementsByTagName("*"),a=c.getElementsByTagName("a")[0],!o||!a||!o.length)return{};i=z.createElement("select"),n=i.appendChild(z.createElement("option")),s=c.getElementsByTagName("input")[0],a.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:"/a"===a.getAttribute("href"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:"on"===s.value,optSelected:n.selected,getSetAttribute:"t"!==c.className,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===z.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!n.disabled;try{delete c.test}catch(d){e.deleteExpando=!1}if(!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",u=function(){e.noCloneEvent=!1}),c.cloneNode(!0).fireEvent("onclick"),c.detachEvent("onclick",u)),s=z.createElement("input"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),c.appendChild(s),r=z.createDocumentFragment(),r.appendChild(c.lastChild),e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,r.removeChild(s),r.appendChild(c),c.attachEvent)for(p in{submit:!0,change:!0,focusin:!0})l="on"+p,h=l in c,h||(c.setAttribute(l,"return;"),h="function"==typeof c[l]),e[p+"Bubbles"]=h;return J(function(){var o,a,i,n,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",r=z.getElementsByTagName("body")[0];r&&(o=z.createElement("div"),o.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",r.insertBefore(o,r.firstChild),a=z.createElement("div"),o.appendChild(a),a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=a.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",e.reliableHiddenOffsets=h&&0===i[0].offsetHeight,a.innerHTML="",a.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===a.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==r.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(a,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(a,null)||{width:"4px"}).width,n=z.createElement("div"),n.style.cssText=a.style.cssText=s,n.style.marginRight=n.style.width="0",a.style.width="1px",a.appendChild(n),e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),"undefined"!=typeof a.style.zoom&&(a.innerHTML="",a.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===a.offsetWidth,a.style.display="block",a.style.overflow="visible",a.innerHTML="<div></div>",a.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==a.offsetWidth,o.style.zoom=1),r.removeChild(o),o=a=i=n=null)}),r.removeChild(c),o=a=i=n=s=r=c=null,e}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ft=/([A-Z])/g;J.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?J.cache[t[J.expando]]:t[J.expando],!!t&&!i(t)},data:function(t,o,a,i){if(J.acceptData(t)){var n,s,r=J.expando,l="string"==typeof o,p=t.nodeType,h=p?J.cache:t,u=p?t[r]:t[r]&&r;if(u&&h[u]&&(i||h[u].data)||!l||a!==e)return u||(p?t[r]=u=J.deletedIds.pop()||J.guid++:u=r),h[u]||(h[u]={},p||(h[u].toJSON=J.noop)),("object"==typeof o||"function"==typeof o)&&(i?h[u]=J.extend(h[u],o):h[u].data=J.extend(h[u].data,o)),n=h[u],i||(n.data||(n.data={}),n=n.data),a!==e&&(n[J.camelCase(o)]=a),l?(s=n[o],null==s&&(s=n[J.camelCase(o)])):s=n,s}},removeData:function(t,e,o){if(J.acceptData(t)){var a,n,s,r=t.nodeType,l=r?J.cache:t,p=r?t[J.expando]:J.expando;if(l[p]){if(e&&(a=o?l[p]:l[p].data)){J.isArray(e)||(e in a?e=[e]:(e=J.camelCase(e),e=e in a?[e]:e.split(" ")));for(n=0,s=e.length;s>n;n++)delete a[e[n]];if(!(o?i:J.isEmptyObject)(a))return}(o||(delete l[p].data,i(l[p])))&&(r?J.cleanData([t],!0):J.support.deleteExpando||l!=l.window?delete l[p]:l[p]=null)}}},_data:function(t,e,o){return J.data(t,e,o,!0)},acceptData:function(t){var e=t.nodeName&&J.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),J.fn.extend({data:function(t,o){var i,n,s,r,l,p=this[0],h=0,u=null;if(t===e){if(this.length&&(u=J.data(p),1===p.nodeType&&!J._data(p,"parsedAttrs"))){for(s=p.attributes,l=s.length;l>h;h++)r=s[h].name,r.indexOf("data-")||(r=J.camelCase(r.substring(5)),a(p,r,u[r]));J._data(p,"parsedAttrs",!0)}return u}return"object"==typeof t?this.each(function(){J.data(this,t)}):(i=t.split(".",2),i[1]=i[1]?"."+i[1]:"",n=i[1]+"!",J.access(this,function(o){return o===e?(u=this.triggerHandler("getData"+n,[i[0]]),u===e&&p&&(u=J.data(p,t),u=a(p,t,u)),u===e&&i[1]?this.data(i[0]):u):(i[1]=o,void this.each(function(){var e=J(this);e.triggerHandler("setData"+n,i),J.data(this,t,o),e.triggerHandler("changeData"+n,i)}))},null,o,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){J.removeData(this,t)})}}),J.extend({queue:function(t,e,o){var a;return t?(e=(e||"fx")+"queue",a=J._data(t,e),o&&(!a||J.isArray(o)?a=J._data(t,e,J.makeArray(o)):a.push(o)),a||[]):void 0},dequeue:function(t,e){e=e||"fx";var o=J.queue(t,e),a=o.length,i=o.shift(),n=J._queueHooks(t,e),s=function(){J.dequeue(t,e)};"inprogress"===i&&(i=o.shift(),a--),i&&("fx"===e&&o.unshift("inprogress"),delete n.stop,i.call(t,s,n)),!a&&n&&n.empty.fire()},_queueHooks:function(t,e){var o=e+"queueHooks";return J._data(t,o)||J._data(t,o,{empty:J.Callbacks("once memory").add(function(){J.removeData(t,e+"queue",!0),J.removeData(t,o,!0)})})}}),J.fn.extend({queue:function(t,o){var a=2;return"string"!=typeof t&&(o=t,t="fx",a--),arguments.length<a?J.queue(this[0],t):o===e?this:this.each(function(){var e=J.queue(this,t,o);J._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},delay:function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,o){var a=setTimeout(e,t);o.stop=function(){clearTimeout(a)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,o){var a,i=1,n=J.Deferred(),s=this,r=this.length,l=function(){--i||n.resolveWith(s,[s])};for("string"!=typeof t&&(o=t,t=e),t=t||"fx";r--;)a=J._data(s[r],t+"queueHooks"),a&&a.empty&&(i++,a.empty.add(l));return l(),n.promise(o)}});var bt,vt,xt,yt=/[\t\r\n]/g,qt=/\r/g,wt=/^(?:button|input)$/i,St=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,It=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,_t=J.support.getSetAttribute;J.fn.extend({attr:function(t,e){return J.access(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})},prop:function(t,e){return J.access(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return t=J.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(o){}})},addClass:function(t){var e,o,a,i,n,s,r;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(et),o=0,a=this.length;a>o;o++)if(i=this[o],1===i.nodeType)if(i.className||1!==e.length){for(n=" "+i.className+" ",s=0,r=e.length;r>s;s++)n.indexOf(" "+e[s]+" ")<0&&(n+=e[s]+" ");i.className=J.trim(n)}else i.className=t;return this},removeClass:function(t){var o,a,i,n,s,r,l;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(o=(t||"").split(et),r=0,l=this.length;l>r;r++)if(i=this[r],1===i.nodeType&&i.className){for(a=(" "+i.className+" ").replace(yt," "),n=0,s=o.length;s>n;n++)for(;a.indexOf(" "+o[n]+" ")>=0;)a=a.replace(" "+o[n]+" "," ");i.className=t?J.trim(a):""}return this},toggleClass:function(t,e){var o=typeof t,a="boolean"==typeof e;return J.isFunction(t)?this.each(function(o){J(this).toggleClass(t.call(this,o,this.className,e),e)}):this.each(function(){if("string"===o)for(var i,n=0,s=J(this),r=e,l=t.split(et);i=l[n++];)r=a?r:!s.hasClass(i),s[r?"addClass":"removeClass"](i);else("undefined"===o||"boolean"===o)&&(this.className&&J._data(this,"__className__",this.className),this.className=this.className||t===!1?"":J._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",o=0,a=this.length;a>o;o++)if(1===this[o].nodeType&&(" "+this[o].className+" ").replace(yt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var o,a,i,n=this[0];{if(arguments.length)return i=J.isFunction(t),this.each(function(a){var n,s=J(this);1===this.nodeType&&(n=i?t.call(this,a,s.val()):t,null==n?n="":"number"==typeof n?n+="":J.isArray(n)&&(n=J.map(n,function(t){return null==t?"":t+""})),o=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],o&&"set"in o&&o.set(this,n,"value")!==e||(this.value=n))});if(n)return o=J.valHooks[n.type]||J.valHooks[n.nodeName.toLowerCase()],o&&"get"in o&&(a=o.get(n,"value"))!==e?a:(a=n.value,"string"==typeof a?a.replace(qt,""):null==a?"":a)}}}),J.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,o,a=t.options,i=t.selectedIndex,n="select-one"===t.type||0>i,s=n?null:[],r=n?i+1:a.length,l=0>i?r:n?i:0;r>l;l++)if(o=a[l],(o.selected||l===i)&&(J.support.optDisabled?!o.disabled:null===o.getAttribute("disabled"))&&(!o.parentNode.disabled||!J.nodeName(o.parentNode,"optgroup"))){if(e=J(o).val(),n)return e;s.push(e)}return s},set:function(t,e){var o=J.makeArray(e);return J(t).find("option").each(function(){this.selected=J.inArray(J(this).val(),o)>=0}),o.length||(t.selectedIndex=-1),o}}},attrFn:{},attr:function(t,o,a,i){var n,s,r,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return i&&J.isFunction(J.fn[o])?J(t)[o](a):"undefined"==typeof t.getAttribute?J.prop(t,o,a):(r=1!==l||!J.isXMLDoc(t),r&&(o=o.toLowerCase(),s=J.attrHooks[o]||(It.test(o)?vt:bt)),a!==e?null===a?void J.removeAttr(t,o):s&&"set"in s&&r&&(n=s.set(t,a,o))!==e?n:(t.setAttribute(o,a+""),a):s&&"get"in s&&r&&null!==(n=s.get(t,o))?n:(n=t.getAttribute(o),null===n?e:n))},removeAttr:function(t,e){var o,a,i,n,s=0;if(e&&1===t.nodeType)for(a=e.split(et);s<a.length;s++)i=a[s],i&&(o=J.propFix[i]||i,n=It.test(i),n||J.attr(t,i,""),t.removeAttribute(_t?i:o),n&&o in t&&(t[o]=!1))},attrHooks:{type:{set:function(t,e){if(wt.test(t.nodeName)&&t.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&"radio"===e&&J.nodeName(t,"input")){var o=t.value;return t.setAttribute("type",e),o&&(t.value=o),e}}},value:{get:function(t,e){return bt&&J.nodeName(t,"button")?bt.get(t,e):e in t?t.value:null},set:function(t,e,o){return bt&&J.nodeName(t,"button")?bt.set(t,e,o):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,o,a){var i,n,s,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return s=1!==r||!J.isXMLDoc(t),s&&(o=J.propFix[o]||o,n=J.propHooks[o]),a!==e?n&&"set"in n&&(i=n.set(t,a,o))!==e?i:t[o]=a:n&&"get"in n&&null!==(i=n.get(t,o))?i:t[o]},propHooks:{tabIndex:{get:function(t){var o=t.getAttributeNode("tabindex");return o&&o.specified?parseInt(o.value,10):St.test(t.nodeName)||Ct.test(t.nodeName)&&t.href?0:e}}}}),vt={get:function(t,o){var a,i=J.prop(t,o);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(o))&&a.nodeValue!==!1?o.toLowerCase():e},set:function(t,e,o){var a;return e===!1?J.removeAttr(t,o):(a=J.propFix[o]||o,a in t&&(t[a]=!0),t.setAttribute(o,o.toLowerCase())),o}},_t||(xt={name:!0,id:!0,coords:!0},bt=J.valHooks.button={get:function(t,o){var a;return a=t.getAttributeNode(o),a&&(xt[o]?""!==a.value:a.specified)?a.value:e},set:function(t,e,o){var a=t.getAttributeNode(o);return a||(a=z.createAttribute(o),t.setAttributeNode(a)),a.value=e+""}},J.each(["width","height"],function(t,e){J.attrHooks[e]=J.extend(J.attrHooks[e],{
set:function(t,o){return""===o?(t.setAttribute(e,"auto"),o):void 0}})}),J.attrHooks.contenteditable={get:bt.get,set:function(t,e,o){""===e&&(e="false"),bt.set(t,e,o)}}),J.support.hrefNormalized||J.each(["href","src","width","height"],function(t,o){J.attrHooks[o]=J.extend(J.attrHooks[o],{get:function(t){var a=t.getAttribute(o,2);return null===a?e:a}})}),J.support.style||(J.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=e+""}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),J.support.enctype||(J.propFix.enctype="encoding"),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}})});var kt=/^(?:textarea|input|select)$/i,Tt=/^([^\.]*|)(?:\.(.+)|)$/,Mt=/(?:^|\s)hover(\.\S+|)\b/,Lt=/^key/,Ht=/^(?:mouse|contextmenu)|click/,Dt=/^(?:focusinfocus|focusoutblur)$/,Ot=function(t){return J.event.special.hover?t:t.replace(Mt,"mouseenter$1 mouseleave$1")};J.event={add:function(t,o,a,i,n){var s,r,l,p,h,u,c,d,g,m,f;if(3!==t.nodeType&&8!==t.nodeType&&o&&a&&(s=J._data(t))){for(a.handler&&(g=a,a=g.handler,n=g.selector),a.guid||(a.guid=J.guid++),l=s.events,l||(s.events=l={}),r=s.handle,r||(s.handle=r=function(t){return"undefined"==typeof J||t&&J.event.triggered===t.type?e:J.event.dispatch.apply(r.elem,arguments)},r.elem=t),o=J.trim(Ot(o)).split(" "),p=0;p<o.length;p++)h=Tt.exec(o[p])||[],u=h[1],c=(h[2]||"").split(".").sort(),f=J.event.special[u]||{},u=(n?f.delegateType:f.bindType)||u,f=J.event.special[u]||{},d=J.extend({type:u,origType:h[1],data:i,handler:a,guid:a.guid,selector:n,needsContext:n&&J.expr.match.needsContext.test(n),namespace:c.join(".")},g),m=l[u],m||(m=l[u]=[],m.delegateCount=0,f.setup&&f.setup.call(t,i,c,r)!==!1||(t.addEventListener?t.addEventListener(u,r,!1):t.attachEvent&&t.attachEvent("on"+u,r))),f.add&&(f.add.call(t,d),d.handler.guid||(d.handler.guid=a.guid)),n?m.splice(m.delegateCount++,0,d):m.push(d),J.event.global[u]=!0;t=null}},global:{},remove:function(t,e,o,a,i){var n,s,r,l,p,h,u,c,d,g,m,f=J.hasData(t)&&J._data(t);if(f&&(c=f.events)){for(e=J.trim(Ot(e||"")).split(" "),n=0;n<e.length;n++)if(s=Tt.exec(e[n])||[],r=l=s[1],p=s[2],r){for(d=J.event.special[r]||{},r=(a?d.delegateType:d.bindType)||r,g=c[r]||[],h=g.length,p=p?new RegExp("(^|\\.)"+p.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=0;u<g.length;u++)m=g[u],!i&&l!==m.origType||o&&o.guid!==m.guid||p&&!p.test(m.namespace)||a&&a!==m.selector&&("**"!==a||!m.selector)||(g.splice(u--,1),m.selector&&g.delegateCount--,d.remove&&d.remove.call(t,m));0===g.length&&h!==g.length&&(d.teardown&&d.teardown.call(t,p,f.handle)!==!1||J.removeEvent(t,r,f.handle),delete c[r])}else for(r in c)J.event.remove(t,r+e[n],o,a,!0);J.isEmptyObject(c)&&(delete f.handle,J.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(o,a,i,n){if(!i||3!==i.nodeType&&8!==i.nodeType){var s,r,l,p,h,u,c,d,g,m,f=o.type||o,b=[];if(!Dt.test(f+J.event.triggered)&&(f.indexOf("!")>=0&&(f=f.slice(0,-1),r=!0),f.indexOf(".")>=0&&(b=f.split("."),f=b.shift(),b.sort()),i&&!J.event.customEvent[f]||J.event.global[f]))if(o="object"==typeof o?o[J.expando]?o:new J.Event(f,o):new J.Event(f),o.type=f,o.isTrigger=!0,o.exclusive=r,o.namespace=b.join("."),o.namespace_re=o.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=f.indexOf(":")<0?"on"+f:"",i){if(o.result=e,o.target||(o.target=i),a=null!=a?J.makeArray(a):[],a.unshift(o),c=J.event.special[f]||{},!c.trigger||c.trigger.apply(i,a)!==!1){if(g=[[i,c.bindType||f]],!n&&!c.noBubble&&!J.isWindow(i)){for(m=c.delegateType||f,p=Dt.test(m+f)?i:i.parentNode,h=i;p;p=p.parentNode)g.push([p,m]),h=p;h===(i.ownerDocument||z)&&g.push([h.defaultView||h.parentWindow||t,m])}for(l=0;l<g.length&&!o.isPropagationStopped();l++)p=g[l][0],o.type=g[l][1],d=(J._data(p,"events")||{})[o.type]&&J._data(p,"handle"),d&&d.apply(p,a),d=u&&p[u],d&&J.acceptData(p)&&d.apply&&d.apply(p,a)===!1&&o.preventDefault();return o.type=f,n||o.isDefaultPrevented()||c._default&&c._default.apply(i.ownerDocument,a)!==!1||"click"===f&&J.nodeName(i,"a")||!J.acceptData(i)||u&&i[f]&&("focus"!==f&&"blur"!==f||0!==o.target.offsetWidth)&&!J.isWindow(i)&&(h=i[u],h&&(i[u]=null),J.event.triggered=f,i[f](),J.event.triggered=e,h&&(i[u]=h)),o.result}}else{s=J.cache;for(l in s)s[l].events&&s[l].events[f]&&J.event.trigger(o,a,s[l].handle.elem,!0)}}},dispatch:function(o){o=J.event.fix(o||t.event);var a,i,n,s,r,l,p,h,u,c=(J._data(this,"events")||{})[o.type]||[],d=c.delegateCount,g=R.call(arguments),m=!o.exclusive&&!o.namespace,f=J.event.special[o.type]||{},b=[];if(g[0]=o,o.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,o)!==!1){if(d&&(!o.button||"click"!==o.type))for(n=o.target;n!=this;n=n.parentNode||this)if(n.disabled!==!0||"click"!==o.type){for(r={},p=[],a=0;d>a;a++)h=c[a],u=h.selector,r[u]===e&&(r[u]=h.needsContext?J(u,this).index(n)>=0:J.find(u,this,null,[n]).length),r[u]&&p.push(h);p.length&&b.push({elem:n,matches:p})}for(c.length>d&&b.push({elem:this,matches:c.slice(d)}),a=0;a<b.length&&!o.isPropagationStopped();a++)for(l=b[a],o.currentTarget=l.elem,i=0;i<l.matches.length&&!o.isImmediatePropagationStopped();i++)h=l.matches[i],(m||!o.namespace&&!h.namespace||o.namespace_re&&o.namespace_re.test(h.namespace))&&(o.data=h.data,o.handleObj=h,s=((J.event.special[h.origType]||{}).handle||h.handler).apply(l.elem,g),s!==e&&(o.result=s,s===!1&&(o.preventDefault(),o.stopPropagation())));return f.postDispatch&&f.postDispatch.call(this,o),o.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,o){var a,i,n,s=o.button,r=o.fromElement;return null==t.pageX&&null!=o.clientX&&(a=t.target.ownerDocument||z,i=a.documentElement,n=a.body,t.pageX=o.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),t.pageY=o.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?o.toElement:r),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,o,a=t,i=J.event.fixHooks[t.type]||{},n=i.props?this.props.concat(i.props):this.props;for(t=J.Event(a),e=n.length;e;)o=n[--e],t[o]=a[o];return t.target||(t.target=a.srcElement||z),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,i.filter?i.filter(t,a):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,o){J.isWindow(this)&&(this.onbeforeunload=o)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,o,a){var i=J.extend(new J.Event,o,{type:t,isSimulated:!0,originalEvent:{}});a?J.event.trigger(i,null,e):J.event.dispatch.call(e,i),i.isDefaultPrevented()&&o.preventDefault()}},J.event.handle=J.event.dispatch,J.removeEvent=z.removeEventListener?function(t,e,o){t.removeEventListener&&t.removeEventListener(e,o,!1)}:function(t,e,o){var a="on"+e;t.detachEvent&&("undefined"==typeof t[a]&&(t[a]=null),t.detachEvent(a,o))},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?s:n):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n},J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var o,a=this,i=t.relatedTarget,n=t.handleObj;n.selector;return(!i||i!==a&&!J.contains(a,i))&&(t.type=n.origType,o=n.handler.apply(this,arguments),t.type=e),o}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){return J.nodeName(this,"form")?!1:void J.event.add(this,"click._submit keypress._submit",function(t){var o=t.target,a=J.nodeName(o,"input")||J.nodeName(o,"button")?o.form:e;a&&!J._data(a,"_submit_attached")&&(J.event.add(a,"submit._submit",function(t){t._submit_bubble=!0}),J._data(a,"_submit_attached",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&J.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return J.nodeName(this,"form")?!1:void J.event.remove(this,"._submit")}}),J.support.changeBubbles||(J.event.special.change={setup:function(){return kt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(J.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),J.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),J.event.simulate("change",this,t,!0)})),!1):void J.event.add(this,"beforeactivate._change",function(t){var e=t.target;kt.test(e.nodeName)&&!J._data(e,"_change_attached")&&(J.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||J.event.simulate("change",this.parentNode,t,!0)}),J._data(e,"_change_attached",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return J.event.remove(this,"._change"),!kt.test(this.nodeName)}}),J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var o=0,a=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){0===o++&&z.addEventListener(t,a,!0)},teardown:function(){0===--o&&z.removeEventListener(t,a,!0)}}}),J.fn.extend({on:function(t,o,a,i,s){var r,l;if("object"==typeof t){"string"!=typeof o&&(a=a||o,o=e);for(l in t)this.on(l,o,a,t[l],s);return this}if(null==a&&null==i?(i=o,a=o=e):null==i&&("string"==typeof o?(i=a,a=e):(i=a,a=o,o=e)),i===!1)i=n;else if(!i)return this;return 1===s&&(r=i,i=function(t){return J().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=J.guid++)),this.each(function(){J.event.add(this,t,i,a,o)})},one:function(t,e,o,a){return this.on(t,e,o,a,1)},off:function(t,o,a){var i,s;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,J(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(s in t)this.off(s,o,t[s]);return this}return(o===!1||"function"==typeof o)&&(a=o,o=e),a===!1&&(a=n),this.each(function(){J.event.remove(this,t,a,o)})},bind:function(t,e,o){return this.on(t,null,e,o)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,o){return J(this.context).on(t,this.selector,e,o),this},die:function(t,e){return J(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,o,a){return this.on(e,t,o,a)},undelegate:function(t,e,o){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",o)},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?J.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,o=t.guid||J.guid++,a=0,i=function(o){var i=(J._data(this,"lastToggle"+t.guid)||0)%a;return J._data(this,"lastToggle"+t.guid,i+1),o.preventDefault(),e[i].apply(this,arguments)||!1};for(i.guid=o;a<e.length;)e[a++].guid=o;return this.click(i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,o){return null==o&&(o=t,t=null),arguments.length>0?this.on(e,null,t,o):this.trigger(e)},Lt.test(e)&&(J.event.fixHooks[e]=J.event.keyHooks),Ht.test(e)&&(J.event.fixHooks[e]=J.event.mouseHooks)}),function(t,e){function o(t,e,o,a){o=o||[],e=e||H;var i,n,s,r,l=e.nodeType;if(!t||"string"!=typeof t)return o;if(1!==l&&9!==l)return[];if(s=q(e),!s&&!a&&(i=ot.exec(t)))if(r=i[1]){if(9===l){if(n=e.getElementById(r),!n||!n.parentNode)return o;if(n.id===r)return o.push(n),o}else if(e.ownerDocument&&(n=e.ownerDocument.getElementById(r))&&w(e,n)&&n.id===r)return o.push(n),o}else{if(i[2])return $.apply(o,A.call(e.getElementsByTagName(t),0)),o;if((r=i[3])&&ct&&e.getElementsByClassName)return $.apply(o,A.call(e.getElementsByClassName(r),0)),o}return m(t.replace(Q,"$1"),e,o,a,s)}function a(t){return function(e){var o=e.nodeName.toLowerCase();return"input"===o&&e.type===t}}function i(t){return function(e){var o=e.nodeName.toLowerCase();return("input"===o||"button"===o)&&e.type===t}}function n(t){return B(function(e){return e=+e,B(function(o,a){for(var i,n=t([],o.length,e),s=n.length;s--;)o[i=n[s]]&&(o[i]=!(a[i]=o[i]))})})}function s(t,e,o){if(t===e)return o;for(var a=t.nextSibling;a;){if(a===e)return-1;a=a.nextSibling}return 1}function r(t,e){var a,i,n,s,r,l,p,h=G[M][t+" "];if(h)return e?0:h.slice(0);for(r=t,l=[],p=x.preFilter;r;){(!a||(i=K.exec(r)))&&(i&&(r=r.slice(i[0].length)||r),l.push(n=[])),a=!1,(i=tt.exec(r))&&(n.push(a=new L(i.shift())),r=r.slice(a.length),a.type=i[0].replace(Q," "));for(s in x.filter)!(i=rt[s].exec(r))||p[s]&&!(i=p[s](i))||(n.push(a=new L(i.shift())),r=r.slice(a.length),a.type=s,a.matches=i);if(!a)break}return e?r.length:r?o.error(t):G(t,l).slice(0)}function l(t,e,o){var a=e.dir,i=o&&"parentNode"===e.dir,n=V++;return e.first?function(e,o,n){for(;e=e[a];)if(i||1===e.nodeType)return t(e,o,n)}:function(e,o,s){if(s){for(;e=e[a];)if((i||1===e.nodeType)&&t(e,o,s))return e}else for(var r,l=O+" "+n+" ",p=l+b;e=e[a];)if(i||1===e.nodeType){if((r=e[M])===p)return e.sizset;if("string"==typeof r&&0===r.indexOf(l)){if(e.sizset)return e}else{if(e[M]=p,t(e,o,s))return e.sizset=!0,e;e.sizset=!1}}}}function p(t){return t.length>1?function(e,o,a){for(var i=t.length;i--;)if(!t[i](e,o,a))return!1;return!0}:t[0]}function h(t,e,o,a,i){for(var n,s=[],r=0,l=t.length,p=null!=e;l>r;r++)(n=t[r])&&(!o||o(n,a,i))&&(s.push(n),p&&e.push(r));return s}function u(t,e,o,a,i,n){return a&&!a[M]&&(a=u(a)),i&&!i[M]&&(i=u(i,n)),B(function(n,s,r,l){var p,u,c,d=[],m=[],f=s.length,b=n||g(e||"*",r.nodeType?[r]:r,[]),v=!t||!n&&e?b:h(b,d,t,r,l),x=o?i||(n?t:f||a)?[]:s:v;if(o&&o(v,x,r,l),a)for(p=h(x,m),a(p,[],r,l),u=p.length;u--;)(c=p[u])&&(x[m[u]]=!(v[m[u]]=c));if(n){if(i||t){if(i){for(p=[],u=x.length;u--;)(c=x[u])&&p.push(v[u]=c);i(null,x=[],p,l)}for(u=x.length;u--;)(c=x[u])&&(p=i?P.call(n,c):d[u])>-1&&(n[p]=!(s[p]=c))}}else x=h(x===s?x.splice(f,x.length):x),i?i(null,s,x,l):$.apply(s,x)})}function c(t){for(var e,o,a,i=t.length,n=x.relative[t[0].type],s=n||x.relative[" "],r=n?1:0,h=l(function(t){return t===e},s,!0),d=l(function(t){return P.call(e,t)>-1},s,!0),g=[function(t,o,a){return!n&&(a||o!==_)||((e=o).nodeType?h(t,o,a):d(t,o,a))}];i>r;r++)if(o=x.relative[t[r].type])g=[l(p(g),o)];else{if(o=x.filter[t[r].type].apply(null,t[r].matches),o[M]){for(a=++r;i>a&&!x.relative[t[a].type];a++);return u(r>1&&p(g),r>1&&t.slice(0,r-1).join("").replace(Q,"$1"),o,a>r&&c(t.slice(r,a)),i>a&&c(t=t.slice(a)),i>a&&t.join(""))}g.push(o)}return p(g)}function d(t,e){var a=e.length>0,i=t.length>0,n=function(s,r,l,p,u){var c,d,g,m=[],f=0,v="0",y=s&&[],q=null!=u,w=_,S=s||i&&x.find.TAG("*",u&&r.parentNode||r),C=O+=null==w?1:Math.E;for(q&&(_=r!==H&&r,b=n.el);null!=(c=S[v]);v++){if(i&&c){for(d=0;g=t[d];d++)if(g(c,r,l)){p.push(c);break}q&&(O=C,b=++n.el)}a&&((c=!g&&c)&&f--,s&&y.push(c))}if(f+=v,a&&v!==f){for(d=0;g=e[d];d++)g(y,m,r,l);if(s){if(f>0)for(;v--;)y[v]||m[v]||(m[v]=F.call(p));m=h(m)}$.apply(p,m),q&&!s&&m.length>0&&f+e.length>1&&o.uniqueSort(p)}return q&&(O=C,_=w),y};return n.el=0,a?B(n):n}function g(t,e,a){for(var i=0,n=e.length;n>i;i++)o(t,e[i],a);return a}function m(t,e,o,a,i){var n,s,l,p,h,u=r(t);u.length;if(!a&&1===u.length){if(s=u[0]=u[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===e.nodeType&&!i&&x.relative[s[1].type]){if(e=x.find.ID(l.matches[0].replace(st,""),e,i)[0],!e)return o;t=t.slice(s.shift().length)}for(n=rt.POS.test(t)?-1:s.length-1;n>=0&&(l=s[n],!x.relative[p=l.type]);n--)if((h=x.find[p])&&(a=h(l.matches[0].replace(st,""),at.test(s[0].type)&&e.parentNode||e,i))){if(s.splice(n,1),t=a.length&&s.join(""),!t)return $.apply(o,A.call(a,0)),o;break}}return S(t,u)(a,e,i,o,at.test(t)),o}function f(){}var b,v,x,y,q,w,S,C,I,_,k=!0,T="undefined",M=("sizcache"+Math.random()).replace(".",""),L=String,H=t.document,D=H.documentElement,O=0,V=0,F=[].pop,$=[].push,A=[].slice,P=[].indexOf||function(t){for(var e=0,o=this.length;o>e;e++)if(this[e]===t)return e;return-1},B=function(t,e){return t[M]=null==e||e,t},N=function(){var t={},e=[];return B(function(o,a){return e.push(o)>x.cacheLength&&delete t[e.shift()],t[o+" "]=a},t)},z=N(),G=N(),W=N(),j="[\\x20\\t\\r\\n\\f]",Z="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",E=Z.replace("w","w#"),R="([*^$|!~]?=)",Y="\\["+j+"*("+Z+")"+j+"*(?:"+R+j+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+E+")|)|)"+j+"*\\]",U=":("+Z+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Y+")|[^:]|\\\\.)*|.*))\\)|)",X=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),K=new RegExp("^"+j+"*,"+j+"*"),tt=new RegExp("^"+j+"*([\\x20\\t\\r\\n\\f>+~])"+j+"*"),et=new RegExp(U),ot=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,at=/[\x20\t\r\n\f]*[+~]/,it=/h\d/i,nt=/input|select|textarea|button/i,st=/\\(?!\\)/g,rt={ID:new RegExp("^#("+Z+")"),CLASS:new RegExp("^\\.("+Z+")"),NAME:new RegExp("^\\[name=['\"]?("+Z+")['\"]?\\]"),TAG:new RegExp("^("+Z.replace("w","w*")+")"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+U),POS:new RegExp(X,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),needsContext:new RegExp("^"+j+"*[>+~]|"+X,"i")},lt=function(t){var e=H.createElement("div");try{return t(e)}catch(o){return!1}finally{e=null}},pt=lt(function(t){return t.appendChild(H.createComment("")),!t.getElementsByTagName("*").length}),ht=lt(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==T&&"#"===t.firstChild.getAttribute("href")}),ut=lt(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),ct=lt(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),dt=lt(function(t){t.id=M+0,t.innerHTML="<a name='"+M+"'></a><div name='"+M+"'></div>",D.insertBefore(t,D.firstChild);var e=H.getElementsByName&&H.getElementsByName(M).length===2+H.getElementsByName(M+0).length;return v=!H.getElementById(M),D.removeChild(t),e});try{A.call(D.childNodes,0)[0].nodeType}catch(gt){A=function(t){for(var e,o=[];e=this[t];t++)o.push(e);return o}}o.matches=function(t,e){return o(t,null,null,e)},o.matchesSelector=function(t,e){return o(e,null,null,[t]).length>0},y=o.getText=function(t){var e,o="",a=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=y(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[a];a++)o+=y(e);return o},q=o.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},w=o.contains=D.contains?function(t,e){var o=9===t.nodeType?t.documentElement:t,a=e&&e.parentNode;return t===a||!!(a&&1===a.nodeType&&o.contains&&o.contains(a))}:D.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},o.attr=function(t,e){var o,a=q(t);return a||(e=e.toLowerCase()),(o=x.attrHandle[e])?o(t):a||ut?t.getAttribute(e):(o=t.getAttributeNode(e),o?"boolean"==typeof t[e]?t[e]?e:null:o.specified?o.value:null:null)},x=o.selectors={cacheLength:50,createPseudo:B,match:rt,attrHandle:ht?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:v?function(t,e,o){if(typeof e.getElementById!==T&&!o){var a=e.getElementById(t);return a&&a.parentNode?[a]:[]}}:function(t,o,a){if(typeof o.getElementById!==T&&!a){var i=o.getElementById(t);return i?i.id===t||typeof i.getAttributeNode!==T&&i.getAttributeNode("id").value===t?[i]:e:[]}},TAG:pt?function(t,e){return typeof e.getElementsByTagName!==T?e.getElementsByTagName(t):void 0}:function(t,e){var o=e.getElementsByTagName(t);if("*"===t){for(var a,i=[],n=0;a=o[n];n++)1===a.nodeType&&i.push(a);return i}return o},NAME:dt&&function(t,e){return typeof e.getElementsByName!==T?e.getElementsByName(name):void 0},CLASS:ct&&function(t,e,o){return typeof e.getElementsByClassName===T||o?void 0:e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(st,""),t[3]=(t[4]||t[5]||"").replace(st,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||o.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&o.error(t[0]),t},PSEUDO:function(t){var e,o;return rt.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(e=t[4])&&(et.test(e)&&(o=r(e,!0))&&(o=e.indexOf(")",e.length-o)-e.length)&&(e=e.slice(0,o),t[0]=t[0].slice(0,o)),t[2]=e),t.slice(0,3))}},filter:{ID:v?function(t){return t=t.replace(st,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(st,""),function(e){var o=typeof e.getAttributeNode!==T&&e.getAttributeNode("id");return o&&o.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(st,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=z[M][t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&z(t,function(t){return e.test(t.className||typeof t.getAttribute!==T&&t.getAttribute("class")||"")})},ATTR:function(t,e,a){return function(i,n){var s=o.attr(i,t);return null==s?"!="===e:e?(s+="","="===e?s===a:"!="===e?s!==a:"^="===e?a&&0===s.indexOf(a):"*="===e?a&&s.indexOf(a)>-1:"$="===e?a&&s.substr(s.length-a.length)===a:"~="===e?(" "+s+" ").indexOf(a)>-1:"|="===e?s===a||s.substr(0,a.length+1)===a+"-":!1):!0}},CHILD:function(t,e,o,a){return"nth"===t?function(t){var e,i,n=t.parentNode;if(1===o&&0===a)return!0;if(n)for(i=0,e=n.firstChild;e&&(1!==e.nodeType||(i++,t!==e));e=e.nextSibling);return i-=a,i===o||i%o===0&&i/o>=0}:function(e){var o=e;switch(t){case"only":case"first":for(;o=o.previousSibling;)if(1===o.nodeType)return!1;if("first"===t)return!0;o=e;case"last":for(;o=o.nextSibling;)if(1===o.nodeType)return!1;return!0}}},PSEUDO:function(t,e){var a,i=x.pseudos[t]||x.setFilters[t.toLowerCase()]||o.error("unsupported pseudo: "+t);return i[M]?i(e):i.length>1?(a=[t,t,"",e],x.setFilters.hasOwnProperty(t.toLowerCase())?B(function(t,o){for(var a,n=i(t,e),s=n.length;s--;)a=P.call(t,n[s]),t[a]=!(o[a]=n[s])}):function(t){return i(t,0,a)}):i}},pseudos:{not:B(function(t){var e=[],o=[],a=S(t.replace(Q,"$1"));return a[M]?B(function(t,e,o,i){for(var n,s=a(t,null,i,[]),r=t.length;r--;)(n=s[r])&&(t[r]=!(e[r]=n))}):function(t,i,n){return e[0]=t,a(e,null,n,o),!o.pop()}}),has:B(function(t){return function(e){return o(t,e).length>0}}),contains:B(function(t){return function(e){return(e.textContent||e.innerText||y(e)).indexOf(t)>-1}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!x.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},header:function(t){return it.test(t.nodeName)},text:function(t){var e,o;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(o=t.getAttribute("type"))||o.toLowerCase()===e)},radio:a("radio"),checkbox:a("checkbox"),file:a("file"),password:a("password"),image:a("image"),submit:i("submit"),reset:i("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return nt.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},active:function(t){return t===t.ownerDocument.activeElement},first:n(function(){return[0]}),last:n(function(t,e){return[e-1]}),eq:n(function(t,e,o){return[0>o?o+e:o]}),even:n(function(t,e){for(var o=0;e>o;o+=2)t.push(o);return t}),odd:n(function(t,e){for(var o=1;e>o;o+=2)t.push(o);return t}),lt:n(function(t,e,o){for(var a=0>o?o+e:o;--a>=0;)t.push(a);return t}),gt:n(function(t,e,o){for(var a=0>o?o+e:o;++a<e;)t.push(a);return t})}},C=D.compareDocumentPosition?function(t,e){return t===e?(I=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return I=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var o,a,i=[],n=[],r=t.parentNode,l=e.parentNode,p=r;if(r===l)return s(t,e);if(!r)return-1;if(!l)return 1;for(;p;)i.unshift(p),p=p.parentNode;for(p=l;p;)n.unshift(p),p=p.parentNode;o=i.length,a=n.length;for(var h=0;o>h&&a>h;h++)if(i[h]!==n[h])return s(i[h],n[h]);return h===o?s(t,n[h],-1):s(i[h],e,1)},[0,0].sort(C),k=!I,o.uniqueSort=function(t){var e,o=[],a=1,i=0;if(I=k,t.sort(C),I){for(;e=t[a];a++)e===t[a-1]&&(i=o.push(a));for(;i--;)t.splice(o[i],1)}return t},o.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},S=o.compile=function(t,e){var o,a=[],i=[],n=W[M][t+" "];if(!n){for(e||(e=r(t)),o=e.length;o--;)n=c(e[o]),n[M]?a.push(n):i.push(n);n=W(t,d(i,a))}return n},H.querySelectorAll&&!function(){var t,e=m,a=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,n=[":focus"],s=[":active"],l=D.matchesSelector||D.mozMatchesSelector||D.webkitMatchesSelector||D.oMatchesSelector||D.msMatchesSelector;lt(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||n.push("\\["+j+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||n.push(":checked")}),lt(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&n.push("[*^$]="+j+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||n.push(":enabled",":disabled")}),n=new RegExp(n.join("|")),m=function(t,o,i,s,l){if(!s&&!l&&!n.test(t)){var p,h,u=!0,c=M,d=o,g=9===o.nodeType&&t;if(1===o.nodeType&&"object"!==o.nodeName.toLowerCase()){for(p=r(t),(u=o.getAttribute("id"))?c=u.replace(a,"\\$&"):o.setAttribute("id",c),c="[id='"+c+"'] ",h=p.length;h--;)p[h]=c+p[h].join("");d=at.test(t)&&o.parentNode||o,g=p.join(",")}if(g)try{return $.apply(i,A.call(d.querySelectorAll(g),0)),i}catch(m){}finally{u||o.removeAttribute("id")}}return e(t,o,i,s,l)},l&&(lt(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),s.push("!=",U)}catch(o){}}),s=new RegExp(s.join("|")),o.matchesSelector=function(e,a){if(a=a.replace(i,"='$1']"),!q(e)&&!s.test(a)&&!n.test(a))try{var r=l.call(e,a);if(r||t||e.document&&11!==e.document.nodeType)return r}catch(p){}return o(a,null,null,[e]).length>0})}(),x.pseudos.nth=x.pseudos.eq,x.filters=f.prototype=x.pseudos,x.setFilters=new f,o.attr=J.attr,J.find=o,J.expr=o.selectors,J.expr[":"]=J.expr.pseudos,J.unique=o.uniqueSort,J.text=o.getText,J.isXMLDoc=o.isXML,J.contains=o.contains}(t);var Vt=/Until$/,Ft=/^(?:parents|prev(?:Until|All))/,$t=/^.[^:#\[\.,]*$/,At=J.expr.match.needsContext,Pt={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(t){var e,o,a,i,n,s,r=this;if("string"!=typeof t)return J(t).filter(function(){for(e=0,o=r.length;o>e;e++)if(J.contains(r[e],this))return!0});for(s=this.pushStack("","find",t),e=0,o=this.length;o>e;e++)if(a=s.length,J.find(t,this[e],s),e>0)for(i=a;i<s.length;i++)for(n=0;a>n;n++)if(s[n]===s[i]){s.splice(i--,1);break}return s},has:function(t){var e,o=J(t,this),a=o.length;return this.filter(function(){for(e=0;a>e;e++)if(J.contains(this,o[e]))return!0})},not:function(t){return this.pushStack(p(this,t,!1),"not",t)},filter:function(t){return this.pushStack(p(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?At.test(t)?J(t,this.context).index(this[0])>=0:J.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var o,a=0,i=this.length,n=[],s=At.test(t)||"string"!=typeof t?J(t,e||this.context):0;i>a;a++)for(o=this[a];o&&o.ownerDocument&&o!==e&&11!==o.nodeType;){if(s?s.index(o)>-1:J.find.matchesSelector(o,t)){n.push(o);break}o=o.parentNode}return n=n.length>1?J.unique(n):n,this.pushStack(n,"closest",t)},index:function(t){return t?"string"==typeof t?J.inArray(this[0],J(t)):J.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var o="string"==typeof t?J(t,e):J.makeArray(t&&t.nodeType?[t]:t),a=J.merge(this.get(),o);return this.pushStack(r(o[0])||r(a[0])?a:J.unique(a))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.fn.andSelf=J.fn.addBack,J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,o){return J.dir(t,"parentNode",o)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,o){return J.dir(t,"nextSibling",o)},prevUntil:function(t,e,o){return J.dir(t,"previousSibling",o)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return J.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(o,a){var i=J.map(this,e,o);return Vt.test(t)||(a=o),a&&"string"==typeof a&&(i=J.filter(a,i)),i=this.length>1&&!Pt[t]?J.unique(i):i,this.length>1&&Ft.test(t)&&(i=i.reverse()),this.pushStack(i,t,R.call(arguments).join(","))}}),J.extend({filter:function(t,e,o){return o&&(t=":not("+t+")"),1===e.length?J.find.matchesSelector(e[0],t)?[e[0]]:[]:J.find.matches(t,e)},dir:function(t,o,a){for(var i=[],n=t[o];n&&9!==n.nodeType&&(a===e||1!==n.nodeType||!J(n).is(a));)1===n.nodeType&&i.push(n),n=n[o];return i},sibling:function(t,e){for(var o=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&o.push(t);return o}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Nt=/ jQuery\d+="(?:null|\d+)"/g,zt=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,jt=/<tbody/i,Zt=/<|&#?\w+;/,Et=/<(?:script|style|link)/i,Rt=/<(?:script|object|embed|option|style)/i,Yt=new RegExp("<(?:"+Bt+")[\\s/>]","i"),Ut=/^(?:checkbox|radio)$/,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Jt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Kt={
option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},te=h(z),ee=te.appendChild(z.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,J.support.htmlSerialize||(Kt._default=[1,"X<div>","</div>"]),J.fn.extend({text:function(t){return J.access(this,function(t){return t===e?J.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(J.isFunction(t))return this.each(function(e){J(this).wrapAll(t.call(this,e))});if(this[0]){var e=J(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return J.isFunction(t)?this.each(function(e){J(this).wrapInner(t.call(this,e))}):this.each(function(){var e=J(this),o=e.contents();o.length?o.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(o){J(this).wrapAll(e?t.call(this,o):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=J.clean(arguments);return this.pushStack(J.merge(t,this),"before",this.selector)}},after:function(){if(!r(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=J.clean(arguments);return this.pushStack(J.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var o,a=0;null!=(o=this[a]);a++)(!t||J.filter(t,[o]).length)&&(e||1!==o.nodeType||(J.cleanData(o.getElementsByTagName("*")),J.cleanData([o])),o.parentNode&&o.parentNode.removeChild(o));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&J.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return J.access(this,function(t){var o=this[0]||{},a=0,i=this.length;if(t===e)return 1===o.nodeType?o.innerHTML.replace(Nt,""):e;if("string"==typeof t&&!Et.test(t)&&(J.support.htmlSerialize||!Yt.test(t))&&(J.support.leadingWhitespace||!zt.test(t))&&!Kt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Gt,"<$1></$2>");try{for(;i>a;a++)o=this[a]||{},1===o.nodeType&&(J.cleanData(o.getElementsByTagName("*")),o.innerHTML=t);o=0}catch(n){}}o&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return r(this[0])?this.length?this.pushStack(J(J.isFunction(t)?t():t),"replaceWith",t):this:J.isFunction(t)?this.each(function(e){var o=J(this),a=o.html();o.replaceWith(t.call(this,e,a))}):("string"!=typeof t&&(t=J(t).detach()),this.each(function(){var e=this.nextSibling,o=this.parentNode;J(this).remove(),e?J(e).before(t):J(o).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,o,a){t=[].concat.apply([],t);var i,n,s,r,l=0,p=t[0],h=[],c=this.length;if(!J.support.checkClone&&c>1&&"string"==typeof p&&Xt.test(p))return this.each(function(){J(this).domManip(t,o,a)});if(J.isFunction(p))return this.each(function(i){var n=J(this);t[0]=p.call(this,i,o?n.html():e),n.domManip(t,o,a)});if(this[0]){if(i=J.buildFragment(t,this,h),s=i.fragment,n=s.firstChild,1===s.childNodes.length&&(s=n),n)for(o=o&&J.nodeName(n,"tr"),r=i.cacheable||c-1;c>l;l++)a.call(o&&J.nodeName(this[l],"table")?u(this[l],"tbody"):this[l],l===r?s:J.clone(s,!0,!0));s=n=null,h.length&&J.each(h,function(t,e){e.src?J.ajax?J.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):J.error("no ajax"):J.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Jt,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),J.buildFragment=function(t,o,a){var i,n,s,r=t[0];return o=o||z,o=!o.nodeType&&o[0]||o,o=o.ownerDocument||o,!(1===t.length&&"string"==typeof r&&r.length<512&&o===z&&"<"===r.charAt(0))||Rt.test(r)||!J.support.checkClone&&Xt.test(r)||!J.support.html5Clone&&Yt.test(r)||(n=!0,i=J.fragments[r],s=i!==e),i||(i=o.createDocumentFragment(),J.clean(t,o,i,a),n&&(J.fragments[r]=s&&i)),{fragment:i,cacheable:n}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(o){var a,i=0,n=[],s=J(o),r=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===r)return s[e](this[0]),this;for(;r>i;i++)a=(i>0?this.clone(!0):this).get(),J(s[i])[e](a),n=n.concat(a);return this.pushStack(n,t,s.selector)}}),J.extend({clone:function(t,e,o){var a,i,n,s;if(J.support.html5Clone||J.isXMLDoc(t)||!Yt.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(ee.innerHTML=t.outerHTML,ee.removeChild(s=ee.firstChild)),!(J.support.noCloneEvent&&J.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(d(t,s),a=g(t),i=g(s),n=0;a[n];++n)i[n]&&d(a[n],i[n]);if(e&&(c(t,s),o))for(a=g(t),i=g(s),n=0;a[n];++n)c(a[n],i[n]);return a=i=null,s},clean:function(t,e,o,a){var i,n,s,r,l,p,u,c,d,g,f,b=e===z&&te,v=[];for(e&&"undefined"!=typeof e.createDocumentFragment||(e=z),i=0;null!=(s=t[i]);i++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Zt.test(s)){for(b=b||h(e),u=e.createElement("div"),b.appendChild(u),s=s.replace(Gt,"<$1></$2>"),r=(Wt.exec(s)||["",""])[1].toLowerCase(),l=Kt[r]||Kt._default,p=l[0],u.innerHTML=l[1]+s+l[2];p--;)u=u.lastChild;if(!J.support.tbody)for(c=jt.test(s),d="table"!==r||c?"<table>"!==l[1]||c?[]:u.childNodes:u.firstChild&&u.firstChild.childNodes,n=d.length-1;n>=0;--n)J.nodeName(d[n],"tbody")&&!d[n].childNodes.length&&d[n].parentNode.removeChild(d[n]);!J.support.leadingWhitespace&&zt.test(s)&&u.insertBefore(e.createTextNode(zt.exec(s)[0]),u.firstChild),s=u.childNodes,u.parentNode.removeChild(u)}else s=e.createTextNode(s);s.nodeType?v.push(s):J.merge(v,s)}if(u&&(s=u=b=null),!J.support.appendChecked)for(i=0;null!=(s=v[i]);i++)J.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&J.grep(s.getElementsByTagName("input"),m);if(o)for(g=function(t){return!t.type||Qt.test(t.type)?a?a.push(t.parentNode?t.parentNode.removeChild(t):t):o.appendChild(t):void 0},i=0;null!=(s=v[i]);i++)J.nodeName(s,"script")&&g(s)||(o.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(f=J.grep(J.merge([],s.getElementsByTagName("script")),g),v.splice.apply(v,[i+1,0].concat(f)),i+=f.length));return v},cleanData:function(t,e){for(var o,a,i,n,s=0,r=J.expando,l=J.cache,p=J.support.deleteExpando,h=J.event.special;null!=(i=t[s]);s++)if((e||J.acceptData(i))&&(a=i[r],o=a&&l[a])){if(o.events)for(n in o.events)h[n]?J.event.remove(i,n):J.removeEvent(i,n,o.handle);l[a]&&(delete l[a],p?delete i[r]:i.removeAttribute?i.removeAttribute(r):i[r]=null,J.deletedIds.push(a))}}}),function(){var t,e;J.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=J.uaMatch(W.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),J.browser=e,J.sub=function(){function t(e,o){return new t.fn.init(e,o)}J.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(o,a){return a&&a instanceof J&&!(a instanceof t)&&(a=t(a)),J.fn.init.call(this,o,a,e)},t.fn.init.prototype=t.fn;var e=t(z);return t}}();var oe,ae,ie,ne=/alpha\([^)]*\)/i,se=/opacity=([^)]*)/,re=/^(top|right|bottom|left)$/,le=/^(none|table(?!-c[ea]).+)/,pe=/^margin/,he=new RegExp("^("+K+")(.*)$","i"),ue=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),ce=new RegExp("^([-+])=("+K+")","i"),de={BODY:"block"},ge={position:"absolute",visibility:"hidden",display:"block"},me={letterSpacing:0,fontWeight:400},fe=["Top","Right","Bottom","Left"],be=["Webkit","O","Moz","ms"],ve=J.fn.toggle;J.fn.extend({css:function(t,o){return J.access(this,function(t,o,a){return a!==e?J.style(t,o,a):J.css(t,o)},t,o,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t,e){var o="boolean"==typeof t;return J.isFunction(t)&&J.isFunction(e)?ve.apply(this,arguments):this.each(function(){(o?t:b(this))?J(this).show():J(this).hide()})}}),J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var o=oe(t,"opacity");return""===o?"1":o}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,o,a,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,r,l=J.camelCase(o),p=t.style;if(o=J.cssProps[l]||(J.cssProps[l]=f(p,l)),r=J.cssHooks[o]||J.cssHooks[l],a===e)return r&&"get"in r&&(n=r.get(t,!1,i))!==e?n:p[o];if(s=typeof a,"string"===s&&(n=ce.exec(a))&&(a=(n[1]+1)*n[2]+parseFloat(J.css(t,o)),s="number"),!(null==a||"number"===s&&isNaN(a)||("number"!==s||J.cssNumber[l]||(a+="px"),r&&"set"in r&&(a=r.set(t,a,i))===e)))try{p[o]=a}catch(h){}}},css:function(t,o,a,i){var n,s,r,l=J.camelCase(o);return o=J.cssProps[l]||(J.cssProps[l]=f(t.style,l)),r=J.cssHooks[o]||J.cssHooks[l],r&&"get"in r&&(n=r.get(t,!0,i)),n===e&&(n=oe(t,o)),"normal"===n&&o in me&&(n=me[o]),a||i!==e?(s=parseFloat(n),a||J.isNumeric(s)?s||0:n):n},swap:function(t,e,o){var a,i,n={};for(i in e)n[i]=t.style[i],t.style[i]=e[i];a=o.call(t);for(i in e)t.style[i]=n[i];return a}}),t.getComputedStyle?oe=function(e,o){var a,i,n,s,r=t.getComputedStyle(e,null),l=e.style;return r&&(a=r.getPropertyValue(o)||r[o],""!==a||J.contains(e.ownerDocument,e)||(a=J.style(e,o)),ue.test(a)&&pe.test(o)&&(i=l.width,n=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=r.width,l.width=i,l.minWidth=n,l.maxWidth=s)),a}:z.documentElement.currentStyle&&(oe=function(t,e){var o,a,i=t.currentStyle&&t.currentStyle[e],n=t.style;return null==i&&n&&n[e]&&(i=n[e]),ue.test(i)&&!re.test(e)&&(o=n.left,a=t.runtimeStyle&&t.runtimeStyle.left,a&&(t.runtimeStyle.left=t.currentStyle.left),n.left="fontSize"===e?"1em":i,i=n.pixelLeft+"px",n.left=o,a&&(t.runtimeStyle.left=a)),""===i?"auto":i}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,o,a){return o?0===t.offsetWidth&&le.test(oe(t,"display"))?J.swap(t,ge,function(){return q(t,e,a)}):q(t,e,a):void 0},set:function(t,o,a){return x(t,o,a?y(t,e,a,J.support.boxSizing&&"border-box"===J.css(t,"boxSizing")):0)}}}),J.support.opacity||(J.cssHooks.opacity={get:function(t,e){return se.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var o=t.style,a=t.currentStyle,i=J.isNumeric(e)?"alpha(opacity="+100*e+")":"",n=a&&a.filter||o.filter||"";o.zoom=1,e>=1&&""===J.trim(n.replace(ne,""))&&o.removeAttribute&&(o.removeAttribute("filter"),a&&!a.filter)||(o.filter=ne.test(n)?n.replace(ne,i):n+" "+i)}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(t,e){return J.swap(t,{display:"inline-block"},function(){return e?oe(t,"marginRight"):void 0})}}),!J.support.pixelPosition&&J.fn.position&&J.each(["top","left"],function(t,e){J.cssHooks[e]={get:function(t,o){if(o){var a=oe(t,e);return ue.test(a)?J(t).position()[e]+"px":a}}}})}),J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!J.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||oe(t,"display"))},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(o){var a,i="string"==typeof o?o.split(" "):[o],n={};for(a=0;4>a;a++)n[t+fe[a]+e]=i[a]||i[a-2]||i[0];return n}},pe.test(t)||(J.cssHooks[t+e].set=x)});var xe=/%20/g,ye=/\[\]$/,qe=/\r?\n/g,we=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Se=/^(?:select|textarea)/i;J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Se.test(this.nodeName)||we.test(this.type))}).map(function(t,e){var o=J(this).val();return null==o?null:J.isArray(o)?J.map(o,function(t,o){return{name:e.name,value:t.replace(qe,"\r\n")}}):{name:e.name,value:o.replace(qe,"\r\n")}}).get()}}),J.param=function(t,o){var a,i=[],n=function(t,e){e=J.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(o===e&&(o=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){n(this.name,this.value)});else for(a in t)S(a,t[a],o,n);return i.join("&").replace(xe,"+")};var Ce,Ie,_e=/#.*$/,ke=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Te=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Me=/^(?:GET|HEAD)$/,Le=/^\/\//,He=/\?/,De=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Oe=/([?&])_=[^&]*/,Ve=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fe=J.fn.load,$e={},Ae={},Pe=["*/"]+["*"];try{Ie=G.href}catch(Be){Ie=z.createElement("a"),Ie.href="",Ie=Ie.href}Ce=Ve.exec(Ie.toLowerCase())||[],J.fn.load=function(t,o,a){if("string"!=typeof t&&Fe)return Fe.apply(this,arguments);if(!this.length)return this;var i,n,s,r=this,l=t.indexOf(" ");return l>=0&&(i=t.slice(l,t.length),t=t.slice(0,l)),J.isFunction(o)?(a=o,o=e):o&&"object"==typeof o&&(n="POST"),J.ajax({url:t,type:n,dataType:"html",data:o,complete:function(t,e){a&&r.each(a,s||[t.responseText,e,t])}}).done(function(t){s=arguments,r.html(i?J("<div>").append(t.replace(De,"")).find(i):t)}),this},J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.each(["get","post"],function(t,o){J[o]=function(t,a,i,n){return J.isFunction(a)&&(n=n||i,i=a,a=e),J.ajax({type:o,url:t,data:a,success:i,dataType:n})}}),J.extend({getScript:function(t,o){return J.get(t,e,o,"script")},getJSON:function(t,e,o){return J.get(t,e,o,"json")},ajaxSetup:function(t,e){return e?_(t,J.ajaxSettings):(e=t,t=J.ajaxSettings),_(t,e),t},ajaxSettings:{url:Ie,isLocal:Te.test(Ce[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Pe},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C($e),ajaxTransport:C(Ae),ajax:function(t,o){function a(t,o,a,s){var p,u,v,x,q,S=o;2!==y&&(y=2,l&&clearTimeout(l),r=e,n=s||"",w.readyState=t>0?4:0,a&&(x=k(c,w,a)),t>=200&&300>t||304===t?(c.ifModified&&(q=w.getResponseHeader("Last-Modified"),q&&(J.lastModified[i]=q),q=w.getResponseHeader("Etag"),q&&(J.etag[i]=q)),304===t?(S="notmodified",p=!0):(p=T(c,x),S=p.state,u=p.data,v=p.error,p=!v)):(v=S,(!S||t)&&(S="error",0>t&&(t=0))),w.status=t,w.statusText=(o||S)+"",p?m.resolveWith(d,[u,S,w]):m.rejectWith(d,[w,S,v]),w.statusCode(b),b=e,h&&g.trigger("ajax"+(p?"Success":"Error"),[w,c,p?u:v]),f.fireWith(d,[w,S]),h&&(g.trigger("ajaxComplete",[w,c]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(o=t,t=e),o=o||{};var i,n,s,r,l,p,h,u,c=J.ajaxSetup({},o),d=c.context||c,g=d!==c&&(d.nodeType||d instanceof J)?J(d):J.event,m=J.Deferred(),f=J.Callbacks("once memory"),b=c.statusCode||{},v={},x={},y=0,q="canceled",w={readyState:0,setRequestHeader:function(t,e){if(!y){var o=t.toLowerCase();t=x[o]=x[o]||t,v[t]=e}return this},getAllResponseHeaders:function(){return 2===y?n:null},getResponseHeader:function(t){var o;if(2===y){if(!s)for(s={};o=ke.exec(n);)s[o[1].toLowerCase()]=o[2];o=s[t.toLowerCase()]}return o===e?null:o},overrideMimeType:function(t){return y||(c.mimeType=t),this},abort:function(t){return t=t||q,r&&r.abort(t),a(0,t),this}};if(m.promise(w),w.success=w.done,w.error=w.fail,w.complete=f.add,w.statusCode=function(t){if(t){var e;if(2>y)for(e in t)b[e]=[b[e],t[e]];else e=t[w.status],w.always(e)}return this},c.url=((t||c.url)+"").replace(_e,"").replace(Le,Ce[1]+"//"),c.dataTypes=J.trim(c.dataType||"*").toLowerCase().split(et),null==c.crossDomain&&(p=Ve.exec(c.url.toLowerCase()),c.crossDomain=!(!p||p[1]===Ce[1]&&p[2]===Ce[2]&&(p[3]||("http:"===p[1]?80:443))==(Ce[3]||("http:"===Ce[1]?80:443)))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=J.param(c.data,c.traditional)),I($e,c,o,w),2===y)return w;if(h=c.global,c.type=c.type.toUpperCase(),c.hasContent=!Me.test(c.type),h&&0===J.active++&&J.event.trigger("ajaxStart"),!c.hasContent&&(c.data&&(c.url+=(He.test(c.url)?"&":"?")+c.data,delete c.data),i=c.url,c.cache===!1)){var S=J.now(),C=c.url.replace(Oe,"$1_="+S);c.url=C+(C===c.url?(He.test(c.url)?"&":"?")+"_="+S:"")}(c.data&&c.hasContent&&c.contentType!==!1||o.contentType)&&w.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(i=i||c.url,J.lastModified[i]&&w.setRequestHeader("If-Modified-Since",J.lastModified[i]),J.etag[i]&&w.setRequestHeader("If-None-Match",J.etag[i])),w.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Pe+"; q=0.01":""):c.accepts["*"]);for(u in c.headers)w.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(c.beforeSend.call(d,w,c)===!1||2===y))return w.abort();q="abort";for(u in{success:1,error:1,complete:1})w[u](c[u]);if(r=I(Ae,c,o,w)){w.readyState=1,h&&g.trigger("ajaxSend",[w,c]),c.async&&c.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},c.timeout));try{y=1,r.send(v,a)}catch(_){if(!(2>y))throw _;a(-1,_)}}else a(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Ne=[],ze=/\?/,Ge=/(=)\?(?=&|$)|\?\?/,We=J.now();J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||J.expando+"_"+We++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(o,a,i){var n,s,r,l=o.data,p=o.url,h=o.jsonp!==!1,u=h&&Ge.test(p),c=h&&!u&&"string"==typeof l&&!(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(l);return"jsonp"===o.dataTypes[0]||u||c?(n=o.jsonpCallback=J.isFunction(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,s=t[n],u?o.url=p.replace(Ge,"$1"+n):c?o.data=l.replace(Ge,"$1"+n):h&&(o.url+=(ze.test(p)?"&":"?")+o.jsonp+"="+n),o.converters["script json"]=function(){return r||J.error(n+" was not called"),r[0]},o.dataTypes[0]="json",t[n]=function(){r=arguments},i.always(function(){t[n]=s,o[n]&&(o.jsonpCallback=a.jsonpCallback,Ne.push(n)),r&&J.isFunction(s)&&s(r[0]),r=s=e}),"script"):void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),J.ajaxTransport("script",function(t){if(t.crossDomain){var o,a=z.head||z.getElementsByTagName("head")[0]||z.documentElement;return{send:function(i,n){o=z.createElement("script"),o.async="async",t.scriptCharset&&(o.charset=t.scriptCharset),o.src=t.url,o.onload=o.onreadystatechange=function(t,i){(i||!o.readyState||/loaded|complete/.test(o.readyState))&&(o.onload=o.onreadystatechange=null,a&&o.parentNode&&a.removeChild(o),o=e,i||n(200,"success"))},a.insertBefore(o,a.firstChild)},abort:function(){o&&o.onload(0,1)}}}});var je,Ze=t.ActiveXObject?function(){for(var t in je)je[t](0,1)}:!1,Ee=0;J.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&M()||L()}:M,function(t){J.extend(J.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(o){if(!o.crossDomain||J.support.cors){var a;return{send:function(i,n){var s,r,l=o.xhr();if(o.username?l.open(o.type,o.url,o.async,o.username,o.password):l.open(o.type,o.url,o.async),o.xhrFields)for(r in o.xhrFields)l[r]=o.xhrFields[r];o.mimeType&&l.overrideMimeType&&l.overrideMimeType(o.mimeType),o.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(r in i)l.setRequestHeader(r,i[r])}catch(p){}l.send(o.hasContent&&o.data||null),a=function(t,i){var r,p,h,u,c;try{if(a&&(i||4===l.readyState))if(a=e,s&&(l.onreadystatechange=J.noop,Ze&&delete je[s]),i)4!==l.readyState&&l.abort();else{r=l.status,h=l.getAllResponseHeaders(),u={},c=l.responseXML,c&&c.documentElement&&(u.xml=c);try{u.text=l.responseText}catch(d){}try{p=l.statusText}catch(d){p=""}r||!o.isLocal||o.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(g){i||n(-1,g)}u&&n(r,p,u,h)},o.async?4===l.readyState?setTimeout(a,0):(s=++Ee,Ze&&(je||(je={},J(t).unload(Ze)),je[s]=a),l.onreadystatechange=a):a()},abort:function(){a&&a(0,1)}}}});var Re,Ye,Ue=/^(?:toggle|show|hide)$/,Xe=new RegExp("^(?:([-+])=|)("+K+")([a-z%]*)$","i"),Qe=/queueHooks$/,Je=[F],Ke={"*":[function(t,e){var o,a,i=this.createTween(t,e),n=Xe.exec(e),s=i.cur(),r=+s||0,l=1,p=20;if(n){if(o=+n[2],a=n[3]||(J.cssNumber[t]?"":"px"),"px"!==a&&r){r=J.css(i.elem,t,!0)||o||1;do l=l||".5",r/=l,J.style(i.elem,t,r+a);while(l!==(l=i.cur()/s)&&1!==l&&--p)}i.unit=a,i.start=r,i.end=n[1]?r+(n[1]+1)*o:o}return i}]};J.Animation=J.extend(O,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var o,a=0,i=t.length;i>a;a++)o=t[a],Ke[o]=Ke[o]||[],Ke[o].unshift(e)},prefilter:function(t,e){e?Je.unshift(t):Je.push(t)}}),J.Tween=$,$.prototype={constructor:$,init:function(t,e,o,a,i,n){this.elem=t,this.prop=o,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=a,this.unit=n||(J.cssNumber[o]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,o=$.propHooks[this.prop];return this.options.duration?this.pos=e=J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.each(["toggle","show","hide"],function(t,e){var o=J.fn[e];J.fn[e]=function(a,i,n){return null==a||"boolean"==typeof a||!t&&J.isFunction(a)&&J.isFunction(i)?o.apply(this,arguments):this.animate(A(e,!0),a,i,n)}}),J.fn.extend({fadeTo:function(t,e,o,a){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,o,a)},animate:function(t,e,o,a){var i=J.isEmptyObject(t),n=J.speed(e,o,a),s=function(){var e=O(this,J.extend({},t),n);i&&e.stop(!0)};return i||n.queue===!1?this.each(s):this.queue(n.queue,s)},stop:function(t,o,a){var i=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof t&&(a=o,o=t,t=e),o&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",n=J.timers,s=J._data(this);if(o)s[o]&&s[o].stop&&i(s[o]);else for(o in s)s[o]&&s[o].stop&&Qe.test(o)&&i(s[o]);for(o=n.length;o--;)n[o].elem!==this||null!=t&&n[o].queue!==t||(n[o].anim.stop(a),e=!1,n.splice(o,1));(e||!a)&&J.dequeue(this,t)})}}),J.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,o,a){return this.animate(e,t,o,a)}}),J.speed=function(t,e,o){var a=t&&"object"==typeof t?J.extend({},t):{complete:o||!o&&e||J.isFunction(t)&&t,duration:t,easing:o&&e||e&&!J.isFunction(e)&&e};return a.duration=J.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in J.fx.speeds?J.fx.speeds[a.duration]:J.fx.speeds._default,(null==a.queue||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){J.isFunction(a.old)&&a.old.call(this),a.queue&&J.dequeue(this,a.queue)},a},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.timers=[],J.fx=$.prototype.init,J.fx.tick=function(){var t,o=J.timers,a=0;for(Re=J.now();a<o.length;a++)t=o[a],t()||o[a]!==t||o.splice(a--,1);o.length||J.fx.stop(),Re=e},J.fx.timer=function(t){t()&&J.timers.push(t)&&!Ye&&(Ye=setInterval(J.fx.tick,J.fx.interval))},J.fx.interval=13,J.fx.stop=function(){clearInterval(Ye),Ye=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fx.step={},J.expr&&J.expr.filters&&(J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length});var to=/^(?:body|html)$/i;J.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){J.offset.setOffset(this,t,e)});var o,a,i,n,s,r,l,p={top:0,left:0},h=this[0],u=h&&h.ownerDocument;if(u)return(a=u.body)===h?J.offset.bodyOffset(h):(o=u.documentElement,J.contains(o,h)?("undefined"!=typeof h.getBoundingClientRect&&(p=h.getBoundingClientRect()),i=P(u),n=o.clientTop||a.clientTop||0,s=o.clientLeft||a.clientLeft||0,r=i.pageYOffset||o.scrollTop,l=i.pageXOffset||o.scrollLeft,{top:p.top+r-n,left:p.left+l-s}):p)},J.offset={bodyOffset:function(t){var e=t.offsetTop,o=t.offsetLeft;return J.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(J.css(t,"marginTop"))||0,o+=parseFloat(J.css(t,"marginLeft"))||0),{top:e,left:o}},setOffset:function(t,e,o){var a=J.css(t,"position");"static"===a&&(t.style.position="relative");var i,n,s=J(t),r=s.offset(),l=J.css(t,"top"),p=J.css(t,"left"),h=("absolute"===a||"fixed"===a)&&J.inArray("auto",[l,p])>-1,u={},c={};h?(c=s.position(),i=c.top,n=c.left):(i=parseFloat(l)||0,n=parseFloat(p)||0),J.isFunction(e)&&(e=e.call(t,o,r)),null!=e.top&&(u.top=e.top-r.top+i),null!=e.left&&(u.left=e.left-r.left+n),"using"in e?e.using.call(t,u):s.css(u)}},J.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),o=this.offset(),a=to.test(e[0].nodeName)?{top:0,left:0}:e.offset();return o.top-=parseFloat(J.css(t,"marginTop"))||0,o.left-=parseFloat(J.css(t,"marginLeft"))||0,a.top+=parseFloat(J.css(e[0],"borderTopWidth"))||0,a.left+=parseFloat(J.css(e[0],"borderLeftWidth"))||0,{top:o.top-a.top,left:o.left-a.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||z.body;t&&!to.test(t.nodeName)&&"static"===J.css(t,"position");)t=t.offsetParent;return t||z.body})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var a=/Y/.test(o);J.fn[t]=function(i){return J.access(this,function(t,i,n){var s=P(t);return n===e?s?o in s?s[o]:s.document.documentElement[i]:t[i]:void(s?s.scrollTo(a?J(s).scrollLeft():n,a?n:J(s).scrollTop()):t[i]=n)},t,i,arguments.length,null)}}),J.each({Height:"height",Width:"width"},function(t,o){J.each({padding:"inner"+t,content:o,"":"outer"+t},function(a,i){J.fn[i]=function(i,n){var s=arguments.length&&(a||"boolean"!=typeof i),r=a||(i===!0||n===!0?"margin":"border");return J.access(this,function(o,a,i){var n;return J.isWindow(o)?o.document.documentElement["client"+t]:9===o.nodeType?(n=o.documentElement,Math.max(o.body["scroll"+t],n["scroll"+t],o.body["offset"+t],n["offset"+t],n["client"+t])):i===e?J.css(o,a,i,r):J.style(o,a,i,r)},o,s?i:e,s,null)}})}),t.jQuery=t.$=J,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return J})}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return r.raw?t:encodeURIComponent(t)}function o(t){return r.raw?t:decodeURIComponent(t)}function a(t){return e(r.json?JSON.stringify(t):String(t))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),r.json?JSON.parse(t):t}catch(e){}}function n(e,o){var a=r.raw?e:i(e);return t.isFunction(o)?o(a):a}var s=/\+/g,r=t.cookie=function(i,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},r.defaults,l),"number"==typeof l.expires){var p=l.expires,h=l.expires=new Date;h.setTime(+h+864e5*p)}return document.cookie=[e(i),"=",a(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=i?void 0:{},c=document.cookie?document.cookie.split("; "):[],d=0,g=c.length;g>d;d++){var m=c[d].split("="),f=o(m.shift()),b=m.join("=");if(i&&i===f){u=n(b,s);break}i||void 0===(b=n(b))||(u[f]=b)}return u};r.defaults={},t.removeCookie=function(e,o){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},o,{expires:-1})),!t.cookie(e))}}),function(){function t(t,e){if(t!==e){var o=null===t,a=t===y,i=t===t,n=null===e,s=e===y,r=e===e;if(t>e&&!n||!i||o&&!s&&r||a&&r)return 1;if(e>t&&!o||!r||n&&!a&&i||s&&i)return-1}return 0}function e(t,e,o){for(var a=t.length,i=o?a:-1;o?i--:++i<a;)if(e(t[i],i,t))return i;return-1}function o(t,e,o){if(e!==e)return c(t,o);o-=1;for(var a=t.length;++o<a;)if(t[o]===e)return o;return-1}function a(t){return"function"==typeof t||!1}function i(t){return null==t?"":t+""}function n(t,e){for(var o=-1,a=t.length;++o<a&&-1<e.indexOf(t.charAt(o)););return o}function s(t,e){for(var o=t.length;o--&&-1<e.indexOf(t.charAt(o)););return o}function r(e,o){return t(e.a,o.a)||e.b-o.b}function l(t){return Ft[t]}function p(t){return $t[t]}function h(t,e,o){return e?t=Bt[t]:o&&(t=Nt[t]),"\\"+t}function u(t){return"\\"+Nt[t]}function c(t,e,o){var a=t.length;for(e+=o?0:-1;o?e--:++e<a;){var i=t[e];if(i!==i)return e}return-1}function d(t){return!!t&&"object"==typeof t}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var o=-1,a=t.length,i=-1,n=[];++o<a;)t[o]===e&&(t[o]=B,n[++i]=o);return n}function f(t){for(var e=-1,o=t.length;++e<o&&g(t.charCodeAt(e)););return e}function b(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function v(t){return At[t]}function x(g){function Ft(t){if(d(t)&&!(Tn(t)||t instanceof Pt)){if(t instanceof At)return t;if(ti.call(t,"__chain__")&&ti.call(t,"__wrapped__"))return Go(t)}return new At(t)}function $t(){}function At(t,e,o){this.__wrapped__=t,this.__actions__=o||[],this.__chain__=!!e}function Pt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ki,this.__views__=[]}function Bt(){this.__data__={}}function Nt(t){var e=t?t.length:0;for(this.data={hash:fi(null),set:new hi};e--;)this.push(t[e])}function zt(t,e){var o=t.data;return("string"==typeof e||fa(e)?o.set.has(e):o.hash[e])?0:-1}function Gt(t,e){var o=-1,a=t.length;for(e||(e=Na(a));++o<a;)e[o]=t[o];return e}function Wt(t,e){for(var o=-1,a=t.length;++o<a&&!1!==e(t[o],o,t););return t}function jt(t,e){for(var o=-1,a=t.length;++o<a;)if(!e(t[o],o,t))return!1;return!0}function Zt(t,e){
for(var o=-1,a=t.length,i=-1,n=[];++o<a;){var s=t[o];e(s,o,t)&&(n[++i]=s)}return n}function Yt(t,e){for(var o=-1,a=t.length,i=Na(a);++o<a;)i[o]=e(t[o],o,t);return i}function Ut(t,e){for(var o=-1,a=e.length,i=t.length;++o<a;)t[i+o]=e[o];return t}function Xt(t,e,o,a){var i=-1,n=t.length;for(a&&n&&(o=t[++i]);++i<n;)o=e(o,t[i],i,t);return o}function Qt(t,e){for(var o=-1,a=t.length;++o<a;)if(e(t[o],o,t))return!0;return!1}function Jt(t,e,o,a){return t!==y&&ti.call(a,o)?t:e}function Kt(t,e,o){for(var a=-1,i=Bn(e),n=i.length;++a<n;){var s=i[a],r=t[s],l=o(r,e[s],s,t,e);(l===l?l===r:r!==r)&&(r!==y||s in t)||(t[s]=l)}return t}function te(t,e){return null==e?t:oe(e,Bn(e),t)}function ee(t,e){for(var o=-1,a=null==t,i=!a&&Mo(t),n=i?t.length:0,s=e.length,r=Na(s);++o<s;){var l=e[o];r[o]=i?Lo(l,n)?t[l]:y:a?y:t[l]}return r}function oe(t,e,o){o||(o={});for(var a=-1,i=e.length;++a<i;){var n=e[a];o[n]=t[n]}return o}function ae(t,e,o){var a=typeof t;return"function"==a?e===y?t:Be(t,e,o):null==t?Fa:"object"==a?ye(t):e===y?Ba(t):qe(t,e)}function ie(t,e,o,a,i,n,s){var r;if(o&&(r=i?o(t,a,i):o(t)),r!==y)return r;if(!fa(t))return t;if(a=Tn(t)){if(r=Io(t),!e)return Gt(t,r)}else{var l=oi.call(t),p=l==Z;if(l!=R&&l!=N&&(!p||i))return Vt[l]?ko(t,l,e):i?t:{};if(r=_o(p?{}:t),!e)return te(r,t)}for(n||(n=[]),s||(s=[]),i=n.length;i--;)if(n[i]==t)return s[i];return n.push(t),s.push(r),(a?Wt:de)(t,function(a,i){r[i]=ie(a,e,o,i,t,n,s)}),r}function ne(t,e,o){if("function"!=typeof t)throw new Ua(P);return ui(function(){t.apply(y,o)},e)}function se(t,e){var a=t?t.length:0,i=[];if(!a)return i;var n=-1,s=wo(),r=s===o,l=r&&e.length>=F&&fi&&hi?new Nt(e):null,p=e.length;l&&(s=zt,r=!1,e=l);t:for(;++n<a;)if(l=t[n],r&&l===l){for(var h=p;h--;)if(e[h]===l)continue t;i.push(l)}else 0>s(e,l,0)&&i.push(l);return i}function re(t,e){var o=!0;return Vi(t,function(t,a,i){return o=!!e(t,a,i)}),o}function le(t,e,o,a){var i=a,n=i;return Vi(t,function(t,s,r){s=+e(t,s,r),(o(s,i)||s===a&&s===n)&&(i=s,n=t)}),n}function pe(t,e){var o=[];return Vi(t,function(t,a,i){e(t,a,i)&&o.push(t)}),o}function he(t,e,o,a){var i;return o(t,function(t,o,n){return e(t,o,n)?(i=a?o:t,!1):void 0}),i}function ue(t,e,o,a){a||(a=[]);for(var i=-1,n=t.length;++i<n;){var s=t[i];d(s)&&Mo(s)&&(o||Tn(s)||ca(s))?e?ue(s,e,o,a):Ut(a,s):o||(a[a.length]=s)}return a}function ce(t,e){$i(t,e,ka)}function de(t,e){return $i(t,e,Bn)}function ge(t,e){return Ai(t,e,Bn)}function me(t,e){for(var o=-1,a=e.length,i=-1,n=[];++o<a;){var s=e[o];ma(t[s])&&(n[++i]=s)}return n}function fe(t,e,o){if(null!=t){o!==y&&o in No(t)&&(e=[o]),o=0;for(var a=e.length;null!=t&&a>o;)t=t[e[o++]];return o&&o==a?t:y}}function be(t,e,o,a,i,n){if(t===e)t=!0;else if(null==t||null==e||!fa(t)&&!d(e))t=t!==t&&e!==e;else t:{var s=be,r=Tn(t),l=Tn(e),p=z,h=z;r||(p=oi.call(t),p==N?p=R:p!=R&&(r=wa(t))),l||(h=oi.call(e),h==N?h=R:h!=R&&wa(e));var u=p==R,l=h==R,h=p==h;if(!h||r||u){if(!a&&(p=u&&ti.call(t,"__wrapped__"),l=l&&ti.call(e,"__wrapped__"),p||l)){t=s(p?t.value():t,l?e.value():e,o,a,i,n);break t}if(h){for(i||(i=[]),n||(n=[]),p=i.length;p--;)if(i[p]==t){t=n[p]==e;break t}i.push(t),n.push(e),t=(r?bo:xo)(t,e,s,o,a,i,n),i.pop(),n.pop()}else t=!1}else t=vo(t,e,p)}return t}function ve(t,e,o){var a=e.length,i=a,n=!o;if(null==t)return!i;for(t=No(t);a--;){var s=e[a];if(n&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){var s=e[a],r=s[0],l=t[r],p=s[1];if(n&&s[2]){if(l===y&&!(r in t))return!1}else if(s=o?o(l,p,r):y,s===y?!be(p,l,o,!0):!s)return!1}return!0}function xe(t,e){var o=-1,a=Mo(t)?Na(t.length):[];return Vi(t,function(t,i,n){a[++o]=e(t,i,n)}),a}function ye(t){var e=So(t);if(1==e.length&&e[0][2]){var o=e[0][0],a=e[0][1];return function(t){return null==t?!1:t[o]===a&&(a!==y||o in No(t))}}return function(t){return ve(t,e)}}function qe(t,e){var o=Tn(t),a=Do(t)&&e===e&&!fa(e),i=t+"";return t=zo(t),function(n){if(null==n)return!1;var s=i;if(n=No(n),!(!o&&a||s in n)){if(n=1==t.length?n:fe(n,Te(t,0,-1)),null==n)return!1;s=Ro(t),n=No(n)}return n[s]===e?e!==y||s in n:be(e,n[s],y,!0)}}function we(t,e,o,a,i){if(!fa(t))return t;var n=Mo(e)&&(Tn(e)||wa(e)),s=n?y:Bn(e);return Wt(s||e,function(r,l){if(s&&(l=r,r=e[l]),d(r)){a||(a=[]),i||(i=[]);t:{for(var p=l,h=a,u=i,c=h.length,g=e[p];c--;)if(h[c]==g){t[p]=u[c];break t}var c=t[p],m=o?o(c,g,p,t,e):y,f=m===y;f&&(m=g,Mo(g)&&(Tn(g)||wa(g))?m=Tn(c)?c:Mo(c)?Gt(c):[]:xa(g)||ca(g)?m=ca(c)?Ia(c):xa(c)?c:{}:f=!1),h.push(g),u.push(m),f?t[p]=we(m,g,o,h,u):(m===m?m!==c:c===c)&&(t[p]=m)}}else p=t[l],h=o?o(p,r,l,t,e):y,(u=h===y)&&(h=r),h===y&&(!n||l in t)||!u&&(h===h?h===p:p!==p)||(t[l]=h)}),t}function Se(t){return function(e){return null==e?y:e[t]}}function Ce(t){var e=t+"";return t=zo(t),function(o){return fe(o,t,e)}}function Ie(t,e){for(var o=t?e.length:0;o--;){var a=e[o];if(a!=i&&Lo(a)){var i=a;ci.call(t,a,1)}}}function _e(t,e){return t+bi(Ii()*(e-t+1))}function ke(t,e,o,a,i){return i(t,function(t,i,n){o=a?(a=!1,t):e(o,t,i,n)}),o}function Te(t,e,o){var a=-1,i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),o=o===y||o>i?i:+o||0,0>o&&(o+=i),i=e>o?0:o-e>>>0,e>>>=0,o=Na(i);++a<i;)o[a]=t[a+e];return o}function Me(t,e){var o;return Vi(t,function(t,a,i){return o=e(t,a,i),!o}),!!o}function Le(t,e){var o=t.length;for(t.sort(e);o--;)t[o]=t[o].c;return t}function He(e,o,a){var i=yo(),n=-1;return o=Yt(o,function(t){return i(t)}),e=xe(e,function(t){return{a:Yt(o,function(e){return e(t)}),b:++n,c:t}}),Le(e,function(e,o){var i;t:{for(var n=-1,s=e.a,r=o.a,l=s.length,p=a.length;++n<l;)if(i=t(s[n],r[n])){if(n>=p)break t;n=a[n],i*="asc"===n||!0===n?1:-1;break t}i=e.b-o.b}return i})}function De(t,e){var o=0;return Vi(t,function(t,a,i){o+=+e(t,a,i)||0}),o}function Oe(t,e){var a=-1,i=wo(),n=t.length,s=i===o,r=s&&n>=F,l=r&&fi&&hi?new Nt(void 0):null,p=[];l?(i=zt,s=!1):(r=!1,l=e?[]:p);t:for(;++a<n;){var h=t[a],u=e?e(h,a,t):h;if(s&&h===h){for(var c=l.length;c--;)if(l[c]===u)continue t;e&&l.push(u),p.push(h)}else 0>i(l,u,0)&&((e||r)&&l.push(u),p.push(h))}return p}function Ve(t,e){for(var o=-1,a=e.length,i=Na(a);++o<a;)i[o]=t[e[o]];return i}function Fe(t,e,o,a){for(var i=t.length,n=a?i:-1;(a?n--:++n<i)&&e(t[n],n,t););return o?Te(t,a?0:n,a?n+1:i):Te(t,a?n+1:0,a?i:n)}function $e(t,e){var o=t;o instanceof Pt&&(o=o.value());for(var a=-1,i=e.length;++a<i;)var n=e[a],o=n.func.apply(n.thisArg,Ut([o],n.args));return o}function Ae(t,e,o){var a=0,i=t?t.length:a;if("number"==typeof e&&e===e&&Mi>=i){for(;i>a;){var n=a+i>>>1,s=t[n];(o?e>=s:e>s)&&null!==s?a=n+1:i=n}return i}return Pe(t,e,Fa,o)}function Pe(t,e,o,a){e=o(e);for(var i=0,n=t?t.length:0,s=e!==e,r=null===e,l=e===y;n>i;){var p=bi((i+n)/2),h=o(t[p]),u=h!==y,c=h===h;(s?c||a:r?c&&u&&(a||null!=h):l?c&&(a||u):null==h?0:a?e>=h:e>h)?i=p+1:n=p}return wi(n,Ti)}function Be(t,e,o){if("function"!=typeof t)return Fa;if(e===y)return t;switch(o){case 1:return function(o){return t.call(e,o)};case 3:return function(o,a,i){return t.call(e,o,a,i)};case 4:return function(o,a,i,n){return t.call(e,o,a,i,n)};case 5:return function(o,a,i,n,s){return t.call(e,o,a,i,n,s)}}return function(){return t.apply(e,arguments)}}function Ne(t){var e=new ni(t.byteLength);return new di(e).set(new di(t)),e}function ze(t,e,o){for(var a=o.length,i=-1,n=qi(t.length-a,0),s=-1,r=e.length,l=Na(r+n);++s<r;)l[s]=e[s];for(;++i<a;)l[o[i]]=t[i];for(;n--;)l[s++]=t[i++];return l}function Ge(t,e,o){for(var a=-1,i=o.length,n=-1,s=qi(t.length-i,0),r=-1,l=e.length,p=Na(s+l);++n<s;)p[n]=t[n];for(s=n;++r<l;)p[s+r]=e[r];for(;++a<i;)p[s+o[a]]=t[n++];return p}function We(t,e){return function(o,a,i){var n=e?e():{};if(a=yo(a,i,3),Tn(o)){i=-1;for(var s=o.length;++i<s;){var r=o[i];t(n,r,a(r,i,o),o)}}else Vi(o,function(e,o,i){t(n,e,a(e,o,i),i)});return n}}function je(t){return ha(function(e,o){var a=-1,i=null==e?0:o.length,n=i>2?o[i-2]:y,s=i>2?o[2]:y,r=i>1?o[i-1]:y;for("function"==typeof n?(n=Be(n,r,5),i-=2):(n="function"==typeof r?r:y,i-=n?1:0),s&&Ho(o[0],o[1],s)&&(n=3>i?y:n,i=1);++a<i;)(s=o[a])&&t(e,s,n);return e})}function Ze(t,e){return function(o,a){var i=o?Ni(o):0;if(!Vo(i))return t(o,a);for(var n=e?i:-1,s=No(o);(e?n--:++n<i)&&!1!==a(s[n],n,s););return o}}function Ee(t){return function(e,o,a){var i=No(e);a=a(e);for(var n=a.length,s=t?n:-1;t?s--:++s<n;){var r=a[s];if(!1===o(i[r],r,i))break}return e}}function Re(t,e){function o(){return(this&&this!==Et&&this instanceof o?a:t).apply(e,arguments)}var a=Ue(t);return o}function Ye(t){return function(e){var o=-1;e=Oa(La(e));for(var a=e.length,i="";++o<a;)i=t(i,e[o],o);return i}}function Ue(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=Oi(t.prototype),e=t.apply(o,e);return fa(e)?e:o}}function Xe(t){function e(o,a,i){return i&&Ho(o,a,i)&&(a=y),o=fo(o,t,y,y,y,y,y,a),o.placeholder=e.placeholder,o}return e}function Qe(t,e){return ha(function(o){var a=o[0];return null==a?a:(o.push(e),t.apply(y,o))})}function Je(t,e){return function(o,a,i){if(i&&Ho(o,a,i)&&(a=y),a=yo(a,i,3),1==a.length){i=o=Tn(o)?o:Bo(o);for(var n=a,s=-1,r=i.length,l=e,p=l;++s<r;){var h=i[s],u=+n(h);t(u,l)&&(l=u,p=h)}if(i=p,!o.length||i!==e)return i}return le(o,a,t,e)}}function Ke(t,o){return function(a,i,n){return i=yo(i,n,3),Tn(a)?(i=e(a,i,o),i>-1?a[i]:y):he(a,i,t)}}function to(t){return function(o,a,i){return o&&o.length?(a=yo(a,i,3),e(o,a,t)):-1}}function eo(t){return function(e,o,a){return o=yo(o,a,3),he(e,o,t,!0)}}function oo(t){return function(){for(var e,o=arguments.length,a=t?o:-1,i=0,n=Na(o);t?a--:++a<o;){var s=n[i++]=arguments[a];if("function"!=typeof s)throw new Ua(P);!e&&At.prototype.thru&&"wrapper"==qo(s)&&(e=new At([],!0))}for(a=e?-1:o;++a<o;){var s=n[a],i=qo(s),r="wrapper"==i?Bi(s):y;e=r&&Oo(r[0])&&r[1]==(M|I|k|L)&&!r[4].length&&1==r[9]?e[qo(r[0])].apply(e,r[3]):1==s.length&&Oo(s)?e[i]():e.thru(s)}return function(){var t=arguments,a=t[0];if(e&&1==t.length&&Tn(a)&&a.length>=F)return e.plant(a).value();for(var i=0,t=o?n[i].apply(this,t):a;++i<o;)t=n[i].call(this,t);return t}}}function ao(t,e){return function(o,a,i){return"function"==typeof a&&i===y&&Tn(o)?t(o,a):e(o,Be(a,i,3))}}function io(t){return function(e,o,a){return("function"!=typeof o||a!==y)&&(o=Be(o,a,3)),t(e,o,ka)}}function no(t){return function(e,o,a){return("function"!=typeof o||a!==y)&&(o=Be(o,a,3)),t(e,o)}}function so(t){return function(e,o,a){var i={};return o=yo(o,a,3),de(e,function(e,a,n){n=o(e,a,n),a=t?n:a,e=t?e:n,i[a]=e}),i}}function ro(t){return function(e,o,a){return e=i(e),(t?e:"")+uo(e,o,a)+(t?"":e)}}function lo(t){var e=ha(function(o,a){var i=m(a,e.placeholder);return fo(o,t,y,a,i)});return e}function po(t,e){return function(o,a,i,n){var s=3>arguments.length;return"function"==typeof a&&n===y&&Tn(o)?t(o,a,i,s):ke(o,yo(a,n,4),i,s,e)}}function ho(t,e,o,a,i,n,s,r,l,p){function h(){for(var x=arguments.length,q=x,C=Na(x);q--;)C[q]=arguments[q];if(a&&(C=ze(C,a,i)),n&&(C=Ge(C,n,s)),g||b){var q=h.placeholder,I=m(C,q),x=x-I.length;if(p>x){var _=r?Gt(r):y,x=qi(p-x,0),M=g?I:y,I=g?y:I,L=g?C:y,C=g?y:C;return e|=g?k:T,e&=~(g?T:k),f||(e&=~(w|S)),C=[t,e,o,L,M,C,I,_,l,x],_=ho.apply(y,C),Oo(t)&&zi(_,C),_.placeholder=q,_}}if(q=c?o:this,_=d?q[t]:t,r)for(x=C.length,M=wi(r.length,x),I=Gt(C);M--;)L=r[M],C[M]=Lo(L,x)?I[L]:y;return u&&l<C.length&&(C.length=l),this&&this!==Et&&this instanceof h&&(_=v||Ue(t)),_.apply(q,C)}var u=e&M,c=e&w,d=e&S,g=e&I,f=e&C,b=e&_,v=d?y:Ue(t);return h}function uo(t,e,o){return t=t.length,e=+e,e>t&&xi(e)?(e-=t,o=null==o?" ":o+"",Ha(o,mi(e/o.length)).slice(0,e)):""}function co(t,e,o,a){function i(){for(var e=-1,r=arguments.length,l=-1,p=a.length,h=Na(p+r);++l<p;)h[l]=a[l];for(;r--;)h[l++]=arguments[++e];return(this&&this!==Et&&this instanceof i?s:t).apply(n?o:this,h)}var n=e&w,s=Ue(t);return i}function go(t){var e=ja[t];return function(t,o){return(o=o===y?0:+o||0)?(o=li(10,o),e(t*o)/o):e(t)}}function mo(t){return function(e,o,a,i){var n=yo(a);return null==a&&n===ae?Ae(e,o,t):Pe(e,o,n(a,i,1),t)}}function fo(t,e,o,a,i,n,s,r){var l=e&S;if(!l&&"function"!=typeof t)throw new Ua(P);var p=a?a.length:0;if(p||(e&=~(k|T),a=i=y),p-=i?i.length:0,e&T){var h=a,u=i;a=i=y}var c=l?y:Bi(t);return o=[t,e,o,a,i,h,u,n,s,r],c&&(a=o[1],e=c[1],r=a|e,i=e==M&&a==I||e==M&&a==L&&o[7].length<=c[8]||e==(M|L)&&a==I,(M>r||i)&&(e&w&&(o[2]=c[2],r|=a&w?0:C),(a=c[3])&&(i=o[3],o[3]=i?ze(i,a,c[4]):Gt(a),o[4]=i?m(o[3],B):Gt(c[4])),(a=c[5])&&(i=o[5],o[5]=i?Ge(i,a,c[6]):Gt(a),o[6]=i?m(o[5],B):Gt(c[6])),(a=c[7])&&(o[7]=Gt(a)),e&M&&(o[8]=null==o[8]?c[8]:wi(o[8],c[8])),null==o[9]&&(o[9]=c[9]),o[0]=c[0],o[1]=r),e=o[1],r=o[9]),o[9]=null==r?l?0:t.length:qi(r-p,0)||0,(c?Pi:zi)(e==w?Re(o[0],o[2]):e!=k&&e!=(w|k)||o[4].length?ho.apply(y,o):co.apply(y,o),o)}function bo(t,e,o,a,i,n,s){var r=-1,l=t.length,p=e.length;if(l!=p&&(!i||l>=p))return!1;for(;++r<l;){var h=t[r],p=e[r],u=a?a(i?p:h,i?h:p,r):y;if(u!==y){if(u)continue;return!1}if(i){if(!Qt(e,function(t){return h===t||o(h,t,a,i,n,s)}))return!1}else if(h!==p&&!o(h,p,a,i,n,s))return!1}return!0}function vo(t,e,o){switch(o){case G:case W:return+t==+e;case j:return t.name==e.name&&t.message==e.message;case E:return t!=+t?e!=+e:t==+e;case Y:case U:return t==e+""}return!1}function xo(t,e,o,a,i,n,s){var r=Bn(t),l=r.length,p=Bn(e).length;if(l!=p&&!i)return!1;for(p=l;p--;){var h=r[p];if(!(i?h in e:ti.call(e,h)))return!1}for(var u=i;++p<l;){var h=r[p],c=t[h],d=e[h],g=a?a(i?d:c,i?c:d,h):y;if(g===y?!o(c,d,a,i,n,s):!g)return!1;u||(u="constructor"==h)}return u||(o=t.constructor,a=e.constructor,!(o!=a&&"constructor"in t&&"constructor"in e)||"function"==typeof o&&o instanceof o&&"function"==typeof a&&a instanceof a)?!0:!1}function yo(t,e,o){var a=Ft.callback||Va,a=a===Va?ae:a;return o?a(t,e,o):a}function qo(t){for(var e=t.name+"",o=Di[e],a=o?o.length:0;a--;){var i=o[a],n=i.func;if(null==n||n==t)return i.name}return e}function wo(t,e,a){var i=Ft.indexOf||Eo,i=i===Eo?o:i;return t?i(t,e,a):i}function So(t){t=Ta(t);for(var e=t.length;e--;){var o=t[e][1];t[e][2]=o===o&&!fa(o)}return t}function Co(t,e){var o=null==t?y:t[e];return ba(o)?o:y}function Io(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&ti.call(t,"index")&&(o.index=t.index,o.input=t.input),o}function _o(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=Ea),new t}function ko(t,e,o){var a=t.constructor;switch(e){case X:return Ne(t);case G:case W:return new a(+t);case Q:case J:case K:case tt:case et:case ot:case at:case it:case nt:return e=t.buffer,new a(o?Ne(e):e,t.byteOffset,t.length);case E:case U:return new a(t);case Y:var i=new a(t.source,Ct.exec(t));i.lastIndex=t.lastIndex}return i}function To(t,e,o){return null==t||Do(e,t)||(e=zo(e),t=1==e.length?t:fe(t,Te(e,0,-1)),e=Ro(e)),e=null==t?t:t[e],null==e?y:e.apply(t,o)}function Mo(t){return null!=t&&Vo(Ni(t))}function Lo(t,e){return t="number"==typeof t||kt.test(t)?+t:-1,e=null==e?Li:e,t>-1&&0==t%1&&e>t}function Ho(t,e,o){if(!fa(o))return!1;var a=typeof e;return("number"==a?Mo(o)&&Lo(e,o.length):"string"==a&&e in o)?(e=o[e],t===t?t===e:e!==e):!1}function Do(t,e){var o=typeof t;return"string"==o&&bt.test(t)||"number"==o?!0:Tn(t)?!1:!ft.test(t)||null!=e&&t in No(e)}function Oo(t){var e=qo(t),o=Ft[e];return"function"==typeof o&&e in Pt.prototype?t===o?!0:(e=Bi(o),!!e&&t===e[0]):!1}function Vo(t){return"number"==typeof t&&t>-1&&0==t%1&&Li>=t}function Fo(t,e){return t===y?e:Mn(t,e,Fo)}function $o(t,e){t=No(t);for(var o=-1,a=e.length,i={};++o<a;){var n=e[o];n in t&&(i[n]=t[n])}return i}function Ao(t,e){var o={};return ce(t,function(t,a,i){e(t,a,i)&&(o[a]=t)}),o}function Po(t){for(var e=ka(t),o=e.length,a=o&&t.length,i=!!a&&Vo(a)&&(Tn(t)||ca(t)),n=-1,s=[];++n<o;){var r=e[n];(i&&Lo(r,a)||ti.call(t,r))&&s.push(r)}return s}function Bo(t){return null==t?[]:Mo(t)?fa(t)?t:Ea(t):Ma(t)}function No(t){return fa(t)?t:Ea(t)}function zo(t){if(Tn(t))return t;var e=[];return i(t).replace(vt,function(t,o,a,i){e.push(a?i.replace(wt,"$1"):o||t)}),e}function Go(t){return t instanceof Pt?t.clone():new At(t.__wrapped__,t.__chain__,Gt(t.__actions__))}function Wo(t,e,o){return t&&t.length?((o?Ho(t,e,o):null==e)&&(e=1),Te(t,0>e?0:e)):[]}function jo(t,e,o){var a=t?t.length:0;return a?((o?Ho(t,e,o):null==e)&&(e=1),e=a-(+e||0),Te(t,0,0>e?0:e)):[]}function Zo(t){return t?t[0]:y}function Eo(t,e,a){var i=t?t.length:0;if(!i)return-1;if("number"==typeof a)a=0>a?qi(i+a,0):a;else if(a)return a=Ae(t,e),i>a&&(e===e?e===t[a]:t[a]!==t[a])?a:-1;return o(t,e,a||0)}function Ro(t){var e=t?t.length:0;return e?t[e-1]:y}function Yo(t){return Wo(t,1)}function Uo(t,e,a,i){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(i=a,a=Ho(t,e,i)?y:e,e=!1);var n=yo();if((null!=a||n!==ae)&&(a=n(a,i,3)),e&&wo()===o){e=a;var s;a=-1,i=t.length;for(var n=-1,r=[];++a<i;){var l=t[a],p=e?e(l,a,t):l;a&&s===p||(s=p,r[++n]=l)}t=r}else t=Oe(t,a);return t}function Xo(t){if(!t||!t.length)return[];var e=-1,o=0;t=Zt(t,function(t){return Mo(t)?(o=qi(t.length,o),!0):void 0});for(var a=Na(o);++e<o;)a[e]=Yt(t,Se(e));return a}function Qo(t,e,o){return t&&t.length?(t=Xo(t),null==e?t:(e=Be(e,o,4),Yt(t,function(t){return Xt(t,e,y,!0)}))):[]}function Jo(t,e){var o=-1,a=t?t.length:0,i={};for(!a||e||Tn(t[0])||(e=[]);++o<a;){var n=t[o];e?i[n]=e[o]:n&&(i[n[0]]=n[1])}return i}function Ko(t){return t=Ft(t),t.__chain__=!0,t}function ta(t,e,o){return e.call(o,t)}function ea(t,e,o){var a=Tn(t)?jt:re;return o&&Ho(t,e,o)&&(e=y),("function"!=typeof e||o!==y)&&(e=yo(e,o,3)),a(t,e)}function oa(t,e,o){var a=Tn(t)?Zt:pe;return e=yo(e,o,3),a(t,e)}function aa(t,e,o,a){var i=t?Ni(t):0;return Vo(i)||(t=Ma(t),i=t.length),o="number"!=typeof o||a&&Ho(e,o,a)?0:0>o?qi(i+o,0):o||0,"string"==typeof t||!Tn(t)&&qa(t)?i>=o&&-1<t.indexOf(e,o):!!i&&-1<wo(t,e,o)}function ia(t,e,o){var a=Tn(t)?Yt:xe;return e=yo(e,o,3),a(t,e)}function na(t,e,o){if(o?Ho(t,e,o):null==e){t=Bo(t);var a=t.length;return a>0?t[_e(0,a-1)]:y}o=-1,t=Ca(t);var a=t.length,i=a-1;for(e=wi(0>e?0:+e||0,a);++o<e;){var a=_e(o,i),n=t[a];t[a]=t[o],t[o]=n}return t.length=e,t}function sa(t,e,o){var a=Tn(t)?Qt:Me;return o&&Ho(t,e,o)&&(e=y),("function"!=typeof e||o!==y)&&(e=yo(e,o,3)),a(t,e)}function ra(t,e){var o;if("function"!=typeof e){if("function"!=typeof t)throw new Ua(P);var a=t;t=e,e=a}return function(){return 0<--t&&(o=e.apply(this,arguments)),1>=t&&(e=y),o}}function la(t,e,o){function a(e,o){o&&si(o),l=c=d=y,e&&(g=gn(),p=t.apply(u,r),c||l||(r=u=y))}function i(){var t=e-(gn()-h);0>=t||t>e?a(d,l):c=ui(i,t)}function n(){a(f,c)}function s(){if(r=arguments,h=gn(),u=this,d=f&&(c||!b),!1===m)var o=b&&!c;else{l||b||(g=h);var a=m-(h-g),s=0>=a||a>m;s?(l&&(l=si(l)),g=h,p=t.apply(u,r)):l||(l=ui(n,a))}return s&&c?c=si(c):c||e===m||(c=ui(i,e)),o&&(s=!0,p=t.apply(u,r)),!s||c||l||(r=u=y),p}var r,l,p,h,u,c,d,g=0,m=!1,f=!0;if("function"!=typeof t)throw new Ua(P);if(e=0>e?0:+e||0,!0===o)var b=!0,f=!1;else fa(o)&&(b=!!o.leading,m="maxWait"in o&&qi(+o.maxWait||0,e),f="trailing"in o?!!o.trailing:f);return s.cancel=function(){c&&si(c),l&&si(l),g=0,l=c=d=y},s}function pa(t,e){function o(){var a=arguments,i=e?e.apply(this,a):a[0],n=o.cache;return n.has(i)?n.get(i):(a=t.apply(this,a),o.cache=n.set(i,a),a)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Ua(P);return o.cache=new pa.Cache,o}function ha(t,e){if("function"!=typeof t)throw new Ua(P);return e=qi(e===y?t.length-1:+e||0,0),function(){for(var o=arguments,a=-1,i=qi(o.length-e,0),n=Na(i);++a<i;)n[a]=o[e+a];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,o[0],n);case 2:return t.call(this,o[0],o[1],n)}for(i=Na(e+1),a=-1;++a<e;)i[a]=o[a];return i[e]=n,t.apply(this,i)}}function ua(t,e){return t>e}function ca(t){return d(t)&&Mo(t)&&ti.call(t,"callee")&&!pi.call(t,"callee")}function da(t,e,o,a){return a=(o="function"==typeof o?Be(o,a,3):y)?o(t,e):y,a===y?be(t,e,o):!!a}function ga(t){return d(t)&&"string"==typeof t.message&&oi.call(t)==j}function ma(t){return fa(t)&&oi.call(t)==Z}function fa(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ba(t){return null==t?!1:ma(t)?ii.test(Ka.call(t)):d(t)&&_t.test(t)}function va(t){return"number"==typeof t||d(t)&&oi.call(t)==E}function xa(t){var e;if(!d(t)||oi.call(t)!=R||ca(t)||!(ti.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))return!1;var o;return ce(t,function(t,e){o=e}),o===y||ti.call(t,o)}function ya(t){return fa(t)&&oi.call(t)==Y}function qa(t){return"string"==typeof t||d(t)&&oi.call(t)==U}function wa(t){return d(t)&&Vo(t.length)&&!!Ot[oi.call(t)]}function Sa(t,e){return e>t}function Ca(t){var e=t?Ni(t):0;return Vo(e)?e?Gt(t):[]:Ma(t)}function Ia(t){return oe(t,ka(t))}function _a(t){return me(t,ka(t))}function ka(t){if(null==t)return[];fa(t)||(t=Ea(t));for(var e=t.length,e=e&&Vo(e)&&(Tn(t)||ca(t))&&e||0,o=t.constructor,a=-1,o="function"==typeof o&&o.prototype===t,i=Na(e),n=e>0;++a<e;)i[a]=a+"";for(var s in t)n&&Lo(s,e)||"constructor"==s&&(o||!ti.call(t,s))||i.push(s);return i}function Ta(t){t=No(t);for(var e=-1,o=Bn(t),a=o.length,i=Na(a);++e<a;){var n=o[e];i[e]=[n,t[n]]}return i}function Ma(t){return Ve(t,Bn(t))}function La(t){return(t=i(t))&&t.replace(Tt,l).replace(qt,"")}function Ha(t,e){var o="";if(t=i(t),e=+e,1>e||!t||!xi(e))return o;do e%2&&(o+=t),e=bi(e/2),t+=t;while(e);return o}function Da(t,e,o){var a=t;return(t=i(t))?(o?Ho(a,e,o):null==e)?t.slice(f(t),b(t)+1):(e+="",t.slice(n(t,e),s(t,e)+1)):t}function Oa(t,e,o){return o&&Ho(t,e,o)&&(e=y),t=i(t),t.match(e||Ht)||[]}function Va(t,e,o){return o&&Ho(t,e,o)&&(e=y),d(t)?$a(t):ae(t,e)}function Fa(t){return t}function $a(t){return ye(ie(t,!0))}function Aa(t,e,o){if(null==o){var a=fa(e),i=a?Bn(e):y;((i=i&&i.length?me(e,i):y)?i.length:a)||(i=!1,o=e,e=t,t=this)}i||(i=me(e,Bn(e)));var n=!0,a=-1,s=ma(t),r=i.length;!1===o?n=!1:fa(o)&&"chain"in o&&(n=o.chain);for(;++a<r;){o=i[a];var l=e[o];t[o]=l,s&&(t.prototype[o]=function(e){return function(){var o=this.__chain__;if(n||o){var a=t(this.__wrapped__);return(a.__actions__=Gt(this.__actions__)).push({func:e,args:arguments,thisArg:t}),a.__chain__=o,a}return e.apply(t,Ut([this.value()],arguments))}}(l))}return t}function Pa(){}function Ba(t){return Do(t)?Se(t):Ce(t)}g=g?Rt.defaults(Et.Object(),g,Rt.pick(Et,Dt)):Et;var Na=g.Array,za=g.Date,Ga=g.Error,Wa=g.Function,ja=g.Math,Za=g.Number,Ea=g.Object,Ra=g.RegExp,Ya=g.String,Ua=g.TypeError,Xa=Na.prototype,Qa=Ea.prototype,Ja=Ya.prototype,Ka=Wa.prototype.toString,ti=Qa.hasOwnProperty,ei=0,oi=Qa.toString,ai=Et._,ii=Ra("^"+Ka.call(ti).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ni=g.ArrayBuffer,si=g.clearTimeout,ri=g.parseFloat,li=ja.pow,pi=Qa.propertyIsEnumerable,hi=Co(g,"Set"),ui=g.setTimeout,ci=Xa.splice,di=g.Uint8Array,gi=Co(g,"WeakMap"),mi=ja.ceil,fi=Co(Ea,"create"),bi=ja.floor,vi=Co(Na,"isArray"),xi=g.isFinite,yi=Co(Ea,"keys"),qi=ja.max,wi=ja.min,Si=Co(za,"now"),Ci=g.parseInt,Ii=ja.random,_i=Za.NEGATIVE_INFINITY,ki=Za.POSITIVE_INFINITY,Ti=4294967294,Mi=2147483647,Li=9007199254740991,Hi=gi&&new gi,Di={};Ft.support={},Ft.templateSettings={escape:dt,evaluate:gt,interpolate:mt,variable:"",imports:{_:Ft}};var Oi=function(){function t(){}return function(e){if(fa(e)){t.prototype=e;var o=new t;t.prototype=y}return o||{}}}(),Vi=Ze(de),Fi=Ze(ge,!0),$i=Ee(),Ai=Ee(!0),Pi=Hi?function(t,e){return Hi.set(t,e),t}:Fa,Bi=Hi?function(t){return Hi.get(t)}:Pa,Ni=Se("length"),zi=function(){var t=0,e=0;return function(o,a){var i=gn(),n=V-(i-e);if(e=i,n>0){if(++t>=O)return o}else t=0;return Pi(o,a)}}(),Gi=ha(function(t,e){return d(t)&&Mo(t)?se(t,ue(e,!1,!0)):[]}),Wi=to(),ji=to(!0),Zi=ha(function(t){for(var e=t.length,a=e,i=Na(h),n=wo(),s=n===o,r=[];a--;){var l=t[a]=Mo(l=t[a])?l:[];i[a]=s&&120<=l.length&&fi&&hi?new Nt(a&&l):null}var s=t[0],p=-1,h=s?s.length:0,u=i[0];t:for(;++p<h;)if(l=s[p],0>(u?zt(u,l):n(r,l,0))){for(a=e;--a;){var c=i[a];if(0>(c?zt(c,l):n(t[a],l,0)))continue t}u&&u.push(l),r.push(l)}return r}),Ei=ha(function(e,o){o=ue(o);var a=ee(e,o);return Ie(e,o.sort(t)),a}),Ri=mo(),Yi=mo(!0),Ui=ha(function(t){return Oe(ue(t,!1,!0))}),Xi=ha(function(t,e){return Mo(t)?se(t,e):[]}),Qi=ha(Xo),Ji=ha(function(t){var e=t.length,o=e>2?t[e-2]:y,a=e>1?t[e-1]:y;return e>2&&"function"==typeof o?e-=2:(o=e>1&&"function"==typeof a?(--e,a):y,a=y),t.length=e,Qo(t,o,a)}),Ki=ha(function(t){return t=ue(t),this.thru(function(e){e=Tn(e)?e:[No(e)];for(var o=t,a=-1,i=e.length,n=-1,s=o.length,r=Na(i+s);++a<i;)r[a]=e[a];for(;++n<s;)r[a++]=o[n];return r})}),tn=ha(function(t,e){return ee(t,ue(e))}),en=We(function(t,e,o){ti.call(t,o)?++t[o]:t[o]=1}),on=Ke(Vi),an=Ke(Fi,!0),nn=ao(Wt,Vi),sn=ao(function(t,e){for(var o=t.length;o--&&!1!==e(t[o],o,t););return t},Fi),rn=We(function(t,e,o){ti.call(t,o)?t[o].push(e):t[o]=[e]}),ln=We(function(t,e,o){t[o]=e}),pn=ha(function(t,e,o){var a=-1,i="function"==typeof e,n=Do(e),s=Mo(t)?Na(t.length):[];return Vi(t,function(t){var r=i?e:n&&null!=t?t[e]:y;s[++a]=r?r.apply(t,o):To(t,e,o)}),s}),hn=We(function(t,e,o){t[o?0:1].push(e)},function(){return[[],[]]}),un=po(Xt,Vi),cn=po(function(t,e,o,a){var i=t.length;for(a&&i&&(o=t[--i]);i--;)o=e(o,t[i],i,t);return o},Fi),dn=ha(function(t,e){if(null==t)return[];var o=e[2];return o&&Ho(e[0],e[1],o)&&(e.length=1),He(t,ue(e),[])}),gn=Si||function(){return(new za).getTime()},mn=ha(function(t,e,o){var a=w;if(o.length)var i=m(o,mn.placeholder),a=a|k;return fo(t,a,e,o,i)}),fn=ha(function(t,e){e=e.length?ue(e):_a(t);for(var o=-1,a=e.length;++o<a;){var i=e[o];t[i]=fo(t[i],w,t)}return t}),bn=ha(function(t,e,o){var a=w|S;if(o.length)var i=m(o,bn.placeholder),a=a|k;return fo(e,a,t,o,i)}),vn=Xe(I),xn=Xe(_),yn=ha(function(t,e){return ne(t,1,e)}),qn=ha(function(t,e,o){return ne(t,e,o)}),wn=oo(),Sn=oo(!0),Cn=ha(function(t,e){if(e=ue(e),"function"!=typeof t||!jt(e,a))throw new Ua(P);var o=e.length;return ha(function(a){for(var i=wi(a.length,o);i--;)a[i]=e[i](a[i]);return t.apply(this,a)})}),In=lo(k),_n=lo(T),kn=ha(function(t,e){return fo(t,L,y,y,y,ue(e))}),Tn=vi||function(t){return d(t)&&Vo(t.length)&&oi.call(t)==z},Mn=je(we),Ln=je(function(t,e,o){return o?Kt(t,e,o):te(t,e)}),Hn=Qe(Ln,function(t,e){return t===y?e:t}),Dn=Qe(Mn,Fo),On=eo(de),Vn=eo(ge),Fn=io($i),$n=io(Ai),An=no(de),Pn=no(ge),Bn=yi?function(t){var e=null==t?y:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Mo(t)?Po(t):fa(t)?yi(t):[]}:Po,Nn=so(!0),zn=so(),Gn=ha(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Yt(ue(e),Ya),$o(t,se(ka(t),e));var o=Be(e[0],e[1],3);return Ao(t,function(t,e,a){return!o(t,e,a)})}),Wn=ha(function(t,e){return null==t?{}:"function"==typeof e[0]?Ao(t,Be(e[0],e[1],3)):$o(t,ue(e))}),jn=Ye(function(t,e,o){return e=e.toLowerCase(),t+(o?e.charAt(0).toUpperCase()+e.slice(1):e)}),Zn=Ye(function(t,e,o){return t+(o?"-":"")+e.toLowerCase()}),En=ro(),Rn=ro(!0),Yn=Ye(function(t,e,o){return t+(o?"_":"")+e.toLowerCase()}),Un=Ye(function(t,e,o){return t+(o?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Xn=ha(function(t,e){try{return t.apply(y,e)}catch(o){return ga(o)?o:new Ga(o)}}),Qn=ha(function(t,e){return function(o){return To(o,t,e)}}),Jn=ha(function(t,e){return function(o){return To(t,o,e)}}),Kn=go("ceil"),ts=go("floor"),es=Je(ua,_i),os=Je(Sa,ki),as=go("round");return Ft.prototype=$t.prototype,At.prototype=Oi($t.prototype),At.prototype.constructor=At,Pt.prototype=Oi($t.prototype),Pt.prototype.constructor=Pt,Bt.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Bt.prototype.get=function(t){return"__proto__"==t?y:this.__data__[t]},Bt.prototype.has=function(t){return"__proto__"!=t&&ti.call(this.__data__,t)},Bt.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Nt.prototype.push=function(t){var e=this.data;"string"==typeof t||fa(t)?e.set.add(t):e.hash[t]=!0},pa.Cache=Bt,Ft.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ua(P);var o=t;t=e,e=o}return t=xi(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Ft.ary=function(t,e,o){return o&&Ho(t,e,o)&&(e=y),e=t&&null==e?t.length:qi(+e||0,0),fo(t,M,y,y,y,y,e)},Ft.assign=Ln,Ft.at=tn,Ft.before=ra,Ft.bind=mn,Ft.bindAll=fn,Ft.bindKey=bn,Ft.callback=Va,Ft.chain=Ko,Ft.chunk=function(t,e,o){e=(o?Ho(t,e,o):null==e)?1:qi(bi(e)||1,1),o=0;for(var a=t?t.length:0,i=-1,n=Na(mi(a/e));a>o;)n[++i]=Te(t,o,o+=e);return n},Ft.compact=function(t){for(var e=-1,o=t?t.length:0,a=-1,i=[];++e<o;){var n=t[e];n&&(i[++a]=n)}return i},Ft.constant=function(t){return function(){return t}},Ft.countBy=en,Ft.create=function(t,e,o){var a=Oi(t);return o&&Ho(t,e,o)&&(e=y),e?te(a,e):a},Ft.curry=vn,Ft.curryRight=xn,Ft.debounce=la,Ft.defaults=Hn,Ft.defaultsDeep=Dn,Ft.defer=yn,Ft.delay=qn,Ft.difference=Gi,Ft.drop=Wo,Ft.dropRight=jo,Ft.dropRightWhile=function(t,e,o){return t&&t.length?Fe(t,yo(e,o,3),!0,!0):[]},Ft.dropWhile=function(t,e,o){return t&&t.length?Fe(t,yo(e,o,3),!0):[]},Ft.fill=function(t,e,o,a){var i=t?t.length:0;if(!i)return[];for(o&&"number"!=typeof o&&Ho(t,e,o)&&(o=0,a=i),i=t.length,o=null==o?0:+o||0,0>o&&(o=-o>i?0:i+o),a=a===y||a>i?i:+a||0,0>a&&(a+=i),i=o>a?0:a>>>0,o>>>=0;i>o;)t[o++]=e;return t},Ft.filter=oa,Ft.flatten=function(t,e,o){var a=t?t.length:0;return o&&Ho(t,e,o)&&(e=!1),a?ue(t,e):[]},Ft.flattenDeep=function(t){return t&&t.length?ue(t,!0):[]},Ft.flow=wn,Ft.flowRight=Sn,Ft.forEach=nn,Ft.forEachRight=sn,Ft.forIn=Fn,Ft.forInRight=$n,Ft.forOwn=An,Ft.forOwnRight=Pn,Ft.functions=_a,Ft.groupBy=rn,Ft.indexBy=ln,Ft.initial=function(t){return jo(t,1)},Ft.intersection=Zi,Ft.invert=function(t,e,o){o&&Ho(t,e,o)&&(e=y),o=-1;for(var a=Bn(t),i=a.length,n={};++o<i;){var s=a[o],r=t[s];e?ti.call(n,r)?n[r].push(s):n[r]=[s]:n[r]=s}return n},Ft.invoke=pn,Ft.keys=Bn,Ft.keysIn=ka,Ft.map=ia,Ft.mapKeys=Nn,Ft.mapValues=zn,Ft.matches=$a,Ft.matchesProperty=function(t,e){return qe(t,ie(e,!0))},Ft.memoize=pa,Ft.merge=Mn,Ft.method=Qn,Ft.methodOf=Jn,Ft.mixin=Aa,Ft.modArgs=Cn,Ft.negate=function(t){if("function"!=typeof t)throw new Ua(P);return function(){return!t.apply(this,arguments)}},Ft.omit=Gn,Ft.once=function(t){return ra(2,t)},Ft.pairs=Ta,Ft.partial=In,Ft.partialRight=_n,Ft.partition=hn,Ft.pick=Wn,Ft.pluck=function(t,e){return ia(t,Ba(e))},Ft.property=Ba,Ft.propertyOf=function(t){return function(e){return fe(t,zo(e),e+"")}},Ft.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var o=0,a=wo(),i=t.length;++o<i;)for(var n=0,s=t[o];-1<(n=a(e,s,n));)ci.call(e,n,1);return e},Ft.pullAt=Ei,Ft.range=function(t,e,o){o&&Ho(t,e,o)&&(e=o=y),t=+t||0,o=null==o?1:+o||0,null==e?(e=t,t=0):e=+e||0;var a=-1;e=qi(mi((e-t)/(o||1)),0);for(var i=Na(e);++a<e;)i[a]=t,t+=o;return i},Ft.rearg=kn,Ft.reject=function(t,e,o){var a=Tn(t)?Zt:pe;return e=yo(e,o,3),a(t,function(t,o,a){return!e(t,o,a)})},Ft.remove=function(t,e,o){var a=[];if(!t||!t.length)return a;var i=-1,n=[],s=t.length;for(e=yo(e,o,3);++i<s;)o=t[i],e(o,i,t)&&(a.push(o),n.push(i));return Ie(t,n),a},Ft.rest=Yo,Ft.restParam=ha,Ft.set=function(t,e,o){if(null==t)return t;var a=e+"";e=null!=t[a]||Do(e,t)?[a]:zo(e);for(var a=-1,i=e.length,n=i-1,s=t;null!=s&&++a<i;){var r=e[a];fa(s)&&(a==n?s[r]=o:null==s[r]&&(s[r]=Lo(e[a+1])?[]:{})),s=s[r]}return t},Ft.shuffle=function(t){return na(t,ki)},Ft.slice=function(t,e,o){var a=t?t.length:0;return a?(o&&"number"!=typeof o&&Ho(t,e,o)&&(e=0,o=a),Te(t,e,o)):[]},Ft.sortBy=function(t,e,o){if(null==t)return[];o&&Ho(t,e,o)&&(e=y);var a=-1;return e=yo(e,o,3),t=xe(t,function(t,o,i){return{a:e(t,o,i),b:++a,c:t}}),Le(t,r)},Ft.sortByAll=dn,Ft.sortByOrder=function(t,e,o,a){return null==t?[]:(a&&Ho(e,o,a)&&(o=y),Tn(e)||(e=null==e?[]:[e]),Tn(o)||(o=null==o?[]:[o]),He(t,e,o))},Ft.spread=function(t){if("function"!=typeof t)throw new Ua(P);return function(e){return t.apply(this,e)}},Ft.take=function(t,e,o){return t&&t.length?((o?Ho(t,e,o):null==e)&&(e=1),Te(t,0,0>e?0:e)):[]},Ft.takeRight=function(t,e,o){var a=t?t.length:0;return a?((o?Ho(t,e,o):null==e)&&(e=1),e=a-(+e||0),Te(t,0>e?0:e)):[]},Ft.takeRightWhile=function(t,e,o){return t&&t.length?Fe(t,yo(e,o,3),!1,!0):[]},Ft.takeWhile=function(t,e,o){
return t&&t.length?Fe(t,yo(e,o,3)):[]},Ft.tap=function(t,e,o){return e.call(o,t),t},Ft.throttle=function(t,e,o){var a=!0,i=!0;if("function"!=typeof t)throw new Ua(P);return!1===o?a=!1:fa(o)&&(a="leading"in o?!!o.leading:a,i="trailing"in o?!!o.trailing:i),la(t,e,{leading:a,maxWait:+e,trailing:i})},Ft.thru=ta,Ft.times=function(t,e,o){if(t=bi(t),1>t||!xi(t))return[];var a=-1,i=Na(wi(t,4294967295));for(e=Be(e,o,1);++a<t;)4294967295>a?i[a]=e(a):e(a);return i},Ft.toArray=Ca,Ft.toPlainObject=Ia,Ft.transform=function(t,e,o,a){var i=Tn(t)||wa(t);return e=yo(e,a,4),null==o&&(i||fa(t)?(a=t.constructor,o=i?Tn(t)?new a:[]:Oi(ma(a)?a.prototype:y)):o={}),(i?Wt:de)(t,function(t,a,i){return e(o,t,a,i)}),o},Ft.union=Ui,Ft.uniq=Uo,Ft.unzip=Xo,Ft.unzipWith=Qo,Ft.values=Ma,Ft.valuesIn=function(t){return Ve(t,ka(t))},Ft.where=function(t,e){return oa(t,ye(e))},Ft.without=Xi,Ft.wrap=function(t,e){return e=null==e?Fa:e,fo(e,k,y,[t],[])},Ft.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var o=arguments[t];if(Mo(o))var a=a?Ut(se(a,o),se(o,a)):o}return a?Oe(a):[]},Ft.zip=Qi,Ft.zipObject=Jo,Ft.zipWith=Ji,Ft.backflow=Sn,Ft.collect=ia,Ft.compose=Sn,Ft.each=nn,Ft.eachRight=sn,Ft.extend=Ln,Ft.iteratee=Va,Ft.methods=_a,Ft.object=Jo,Ft.select=oa,Ft.tail=Yo,Ft.unique=Uo,Aa(Ft,Ft),Ft.add=function(t,e){return(+t||0)+(+e||0)},Ft.attempt=Xn,Ft.camelCase=jn,Ft.capitalize=function(t){return(t=i(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Ft.ceil=Kn,Ft.clone=function(t,e,o,a){return e&&"boolean"!=typeof e&&Ho(t,e,o)?e=!1:"function"==typeof e&&(a=o,o=e,e=!1),"function"==typeof o?ie(t,e,Be(o,a,3)):ie(t,e)},Ft.cloneDeep=function(t,e,o){return"function"==typeof e?ie(t,!0,Be(e,o,3)):ie(t,!0)},Ft.deburr=La,Ft.endsWith=function(t,e,o){t=i(t),e+="";var a=t.length;return o=o===y?a:wi(0>o?0:+o||0,a),o-=e.length,o>=0&&t.indexOf(e,o)==o},Ft.escape=function(t){return(t=i(t))&&ct.test(t)?t.replace(ht,p):t},Ft.escapeRegExp=function(t){return(t=i(t))&&yt.test(t)?t.replace(xt,h):t||"(?:)"},Ft.every=ea,Ft.find=on,Ft.findIndex=Wi,Ft.findKey=On,Ft.findLast=an,Ft.findLastIndex=ji,Ft.findLastKey=Vn,Ft.findWhere=function(t,e){return on(t,ye(e))},Ft.first=Zo,Ft.floor=ts,Ft.get=function(t,e,o){return t=null==t?y:fe(t,zo(e),e+""),t===y?o:t},Ft.gt=ua,Ft.gte=function(t,e){return t>=e},Ft.has=function(t,e){if(null==t)return!1;var o=ti.call(t,e);if(!o&&!Do(e)){if(e=zo(e),t=1==e.length?t:fe(t,Te(e,0,-1)),null==t)return!1;e=Ro(e),o=ti.call(t,e)}return o||Vo(t.length)&&Lo(e,t.length)&&(Tn(t)||ca(t))},Ft.identity=Fa,Ft.includes=aa,Ft.indexOf=Eo,Ft.inRange=function(t,e,o){return e=+e||0,o===y?(o=e,e=0):o=+o||0,t>=wi(e,o)&&t<qi(e,o)},Ft.isArguments=ca,Ft.isArray=Tn,Ft.isBoolean=function(t){return!0===t||!1===t||d(t)&&oi.call(t)==G},Ft.isDate=function(t){return d(t)&&oi.call(t)==W},Ft.isElement=function(t){return!!t&&1===t.nodeType&&d(t)&&!xa(t)},Ft.isEmpty=function(t){return null==t?!0:Mo(t)&&(Tn(t)||qa(t)||ca(t)||d(t)&&ma(t.splice))?!t.length:!Bn(t).length},Ft.isEqual=da,Ft.isError=ga,Ft.isFinite=function(t){return"number"==typeof t&&xi(t)},Ft.isFunction=ma,Ft.isMatch=function(t,e,o,a){return o="function"==typeof o?Be(o,a,3):y,ve(t,So(e),o)},Ft.isNaN=function(t){return va(t)&&t!=+t},Ft.isNative=ba,Ft.isNull=function(t){return null===t},Ft.isNumber=va,Ft.isObject=fa,Ft.isPlainObject=xa,Ft.isRegExp=ya,Ft.isString=qa,Ft.isTypedArray=wa,Ft.isUndefined=function(t){return t===y},Ft.kebabCase=Zn,Ft.last=Ro,Ft.lastIndexOf=function(t,e,o){var a=t?t.length:0;if(!a)return-1;var i=a;if("number"==typeof o)i=(0>o?qi(a+o,0):wi(o||0,a-1))+1;else if(o)return i=Ae(t,e,!0)-1,t=t[i],(e===e?e===t:t!==t)?i:-1;if(e!==e)return c(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Ft.lt=Sa,Ft.lte=function(t,e){return e>=t},Ft.max=es,Ft.min=os,Ft.noConflict=function(){return Et._=ai,this},Ft.noop=Pa,Ft.now=gn,Ft.pad=function(t,e,o){t=i(t),e=+e;var a=t.length;return e>a&&xi(e)?(a=(e-a)/2,e=bi(a),a=mi(a),o=uo("",a,o),o.slice(0,e)+t+o):t},Ft.padLeft=En,Ft.padRight=Rn,Ft.parseInt=function(t,e,o){return(o?Ho(t,e,o):null==e)?e=0:e&&(e=+e),t=Da(t),Ci(t,e||(It.test(t)?16:10))},Ft.random=function(t,e,o){o&&Ho(t,e,o)&&(e=o=y);var a=null==t,i=null==e;return null==o&&(i&&"boolean"==typeof t?(o=t,t=1):"boolean"==typeof e&&(o=e,i=!0)),a&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,o||t%1||e%1?(o=Ii(),wi(t+o*(e-t+ri("1e-"+((o+"").length-1))),e)):_e(t,e)},Ft.reduce=un,Ft.reduceRight=cn,Ft.repeat=Ha,Ft.result=function(t,e,o){var a=null==t?y:t[e];return a===y&&(null==t||Do(e,t)||(e=zo(e),t=1==e.length?t:fe(t,Te(e,0,-1)),a=null==t?y:t[Ro(e)]),a=a===y?o:a),ma(a)?a.call(t):a},Ft.round=as,Ft.runInContext=x,Ft.size=function(t){var e=t?Ni(t):0;return Vo(e)?e:Bn(t).length},Ft.snakeCase=Yn,Ft.some=sa,Ft.sortedIndex=Ri,Ft.sortedLastIndex=Yi,Ft.startCase=Un,Ft.startsWith=function(t,e,o){return t=i(t),o=null==o?0:wi(0>o?0:+o||0,t.length),t.lastIndexOf(e,o)==o},Ft.sum=function(t,e,o){if(o&&Ho(t,e,o)&&(e=y),e=yo(e,o,3),1==e.length){t=Tn(t)?t:Bo(t),o=t.length;for(var a=0;o--;)a+=+e(t[o])||0;t=a}else t=De(t,e);return t},Ft.template=function(t,e,o){var a=Ft.templateSettings;o&&Ho(t,e,o)&&(e=o=y),t=i(t),e=Kt(te({},o||e),a,Jt),o=Kt(te({},e.imports),a.imports,Jt);var n,s,r=Bn(o),l=Ve(o,r),p=0;o=e.interpolate||Mt;var h="__p+='";o=Ra((e.escape||Mt).source+"|"+o.source+"|"+(o===mt?St:Mt).source+"|"+(e.evaluate||Mt).source+"|$","g");var c="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(o,function(e,o,a,i,r,l){return a||(a=i),h+=t.slice(p,l).replace(Lt,u),o&&(n=!0,h+="'+__e("+o+")+'"),r&&(s=!0,h+="';"+r+";\n__p+='"),a&&(h+="'+((__t=("+a+"))==null?'':__t)+'"),p=l+e.length,e}),h+="';",(e=e.variable)||(h="with(obj){"+h+"}"),h=(s?h.replace(st,""):h).replace(rt,"$1").replace(lt,"$1;"),h="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(n?",__e=_.escape":"")+(s?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+h+"return __p}",e=Xn(function(){return Wa(r,c+"return "+h).apply(y,l)}),e.source=h,ga(e))throw e;return e},Ft.trim=Da,Ft.trimLeft=function(t,e,o){var a=t;return(t=i(t))?t.slice((o?Ho(a,e,o):null==e)?f(t):n(t,e+"")):t},Ft.trimRight=function(t,e,o){var a=t;return(t=i(t))?(o?Ho(a,e,o):null==e)?t.slice(0,b(t)+1):t.slice(0,s(t,e+"")+1):t},Ft.trunc=function(t,e,o){o&&Ho(t,e,o)&&(e=y);var a=H;if(o=D,null!=e)if(fa(e)){var n="separator"in e?e.separator:n,a="length"in e?+e.length||0:a;o="omission"in e?i(e.omission):o}else a=+e||0;if(t=i(t),a>=t.length)return t;if(a-=o.length,1>a)return o;if(e=t.slice(0,a),null==n)return e+o;if(ya(n)){if(t.slice(a).search(n)){var s,r=t.slice(0,a);for(n.global||(n=Ra(n.source,(Ct.exec(n)||"")+"g")),n.lastIndex=0;t=n.exec(r);)s=t.index;e=e.slice(0,null==s?a:s)}}else t.indexOf(n,a)!=a&&(n=e.lastIndexOf(n),n>-1&&(e=e.slice(0,n)));return e+o},Ft.unescape=function(t){return(t=i(t))&&ut.test(t)?t.replace(pt,v):t},Ft.uniqueId=function(t){var e=++ei;return i(t)+e},Ft.words=Oa,Ft.all=ea,Ft.any=sa,Ft.contains=aa,Ft.eq=da,Ft.detect=on,Ft.foldl=un,Ft.foldr=cn,Ft.head=Zo,Ft.include=aa,Ft.inject=un,Aa(Ft,function(){var t={};return de(Ft,function(e,o){Ft.prototype[o]||(t[o]=e)}),t}(),!1),Ft.sample=na,Ft.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return na(e,t)}):na(this.value())},Ft.VERSION=q,Wt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Ft[t].placeholder=Ft}),Wt(["drop","take"],function(t,e){Pt.prototype[t]=function(o){var a=this.__filtered__;if(a&&!e)return new Pt(this);o=null==o?1:qi(bi(o)||0,0);var i=this.clone();return a?i.__takeCount__=wi(i.__takeCount__,o):i.__views__.push({size:o,type:t+(0>i.__dir__?"Right":"")}),i},Pt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Wt(["filter","map","takeWhile"],function(t,e){var o=e+1,a=o!=A;Pt.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:yo(t,e,1),type:o}),i.__filtered__=i.__filtered__||a,i}}),Wt(["first","last"],function(t,e){var o="take"+(e?"Right":"");Pt.prototype[t]=function(){return this[o](1).value()[0]}}),Wt(["initial","rest"],function(t,e){var o="drop"+(e?"":"Right");Pt.prototype[t]=function(){return this.__filtered__?new Pt(this):this[o](1)}}),Wt(["pluck","where"],function(t,e){var o=e?"filter":"map",a=e?ye:Ba;Pt.prototype[t]=function(t){return this[o](a(t))}}),Pt.prototype.compact=function(){return this.filter(Fa)},Pt.prototype.reject=function(t,e){return t=yo(t,e,1),this.filter(function(e){return!t(e)})},Pt.prototype.slice=function(t,e){t=null==t?0:+t||0;var o=this;return o.__filtered__&&(t>0||0>e)?new Pt(o):(0>t?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==y&&(e=+e||0,o=0>e?o.dropRight(-e):o.take(e-t)),o)},Pt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Pt.prototype.toArray=function(){return this.take(ki)},de(Pt.prototype,function(t,e){var o=/^(?:filter|map|reject)|While$/.test(e),a=/^(?:first|last)$/.test(e),i=Ft[a?"take"+("last"==e?"Right":""):e];i&&(Ft.prototype[e]=function(){function e(t){return a&&s?i(t,1)[0]:i.apply(y,Ut([t],n))}var n=a?[1]:arguments,s=this.__chain__,r=this.__wrapped__,l=!!this.__actions__.length,p=r instanceof Pt,h=n[0],u=p||Tn(r);return u&&o&&"function"==typeof h&&1!=h.length&&(p=u=!1),h={func:ta,args:[e],thisArg:y},l=p&&!l,a&&!s?l?(r=r.clone(),r.__actions__.push(h),t.call(r)):i.call(y,this.value())[0]:!a&&u?(r=l?r:new Pt(this),r=t.apply(r,n),r.__actions__.push(h),new At(r,s)):this.thru(e)})}),Wt("join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?Ja:Xa)[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:join|pop|replace|shift)$/.test(t);Ft.prototype[t]=function(){var t=arguments;return a&&!this.__chain__?e.apply(this.value(),t):this[o](function(o){return e.apply(o,t)})}}),de(Pt.prototype,function(t,e){var o=Ft[e];if(o){var a=o.name+"";(Di[a]||(Di[a]=[])).push({name:e,func:o})}}),Di[ho(y,S).name]=[{name:"wrapper",func:y}],Pt.prototype.clone=function(){var t=new Pt(this.__wrapped__);return t.__actions__=Gt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Gt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Gt(this.__views__),t},Pt.prototype.reverse=function(){if(this.__filtered__){var t=new Pt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Pt.prototype.value=function(){var t,e=this.__wrapped__.value(),o=this.__dir__,a=Tn(e),i=0>o,n=a?e.length:0;t=n;for(var s=this.__views__,r=0,l=-1,p=s.length;++l<p;){var h=s[l],u=h.size;switch(h.type){case"drop":r+=u;break;case"dropRight":t-=u;break;case"take":t=wi(t,r+u);break;case"takeRight":r=qi(r,t-u)}}if(t={start:r,end:t},s=t.start,r=t.end,t=r-s,i=i?r:s-1,s=this.__iteratees__,r=s.length,l=0,p=wi(t,this.__takeCount__),!a||F>n||n==t&&p==t)return $e(e,this.__actions__);a=[];t:for(;t--&&p>l;){for(i+=o,n=-1,h=e[i];++n<r;){var c=s[n],u=c.type,c=c.iteratee(h);if(u==A)h=c;else if(!c){if(u==$)continue t;break t}}a[l++]=h}return a},Ft.prototype.chain=function(){return Ko(this)},Ft.prototype.commit=function(){return new At(this.value(),this.__chain__)},Ft.prototype.concat=Ki,Ft.prototype.plant=function(t){for(var e,o=this;o instanceof $t;){var a=Go(o);e?i.__wrapped__=a:e=a;var i=a,o=o.__wrapped__}return i.__wrapped__=t,e},Ft.prototype.reverse=function(){function t(t){return t.reverse()}var e=this.__wrapped__;return e instanceof Pt?(this.__actions__.length&&(e=new Pt(this)),e=e.reverse(),e.__actions__.push({func:ta,args:[t],thisArg:y}),new At(e,this.__chain__)):this.thru(t)},Ft.prototype.toString=function(){return this.value()+""},Ft.prototype.run=Ft.prototype.toJSON=Ft.prototype.valueOf=Ft.prototype.value=function(){return $e(this.__wrapped__,this.__actions__)},Ft.prototype.collect=Ft.prototype.map,Ft.prototype.head=Ft.prototype.first,Ft.prototype.select=Ft.prototype.filter,Ft.prototype.tail=Ft.prototype.rest,Ft}var y,q="3.10.1",w=1,S=2,C=4,I=8,_=16,k=32,T=64,M=128,L=256,H=30,D="...",O=150,V=16,F=200,$=1,A=2,P="Expected a function",B="__lodash_placeholder__",N="[object Arguments]",z="[object Array]",G="[object Boolean]",W="[object Date]",j="[object Error]",Z="[object Function]",E="[object Number]",R="[object Object]",Y="[object RegExp]",U="[object String]",X="[object ArrayBuffer]",Q="[object Float32Array]",J="[object Float64Array]",K="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",ot="[object Uint8Array]",at="[object Uint8ClampedArray]",it="[object Uint16Array]",nt="[object Uint32Array]",st=/\b__p\+='';/g,rt=/\b(__p\+=)''\+/g,lt=/(__e\(.*?\)|\b__t\))\+'';/g,pt=/&(?:amp|lt|gt|quot|#39|#96);/g,ht=/[&<>"'`]/g,ut=RegExp(pt.source),ct=RegExp(ht.source),dt=/<%-([\s\S]+?)%>/g,gt=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,bt=/^\w*$/,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,yt=RegExp(xt.source),qt=/[\u0300-\u036f\ufe20-\ufe23]/g,wt=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,It=/^0[xX]/,_t=/^\[object .+?Constructor\]$/,kt=/^\d+$/,Tt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Mt=/($^)/,Lt=/['\n\r\u2028\u2029\\]/g,Ht=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Dt="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Ot={};Ot[Q]=Ot[J]=Ot[K]=Ot[tt]=Ot[et]=Ot[ot]=Ot[at]=Ot[it]=Ot[nt]=!0,Ot[N]=Ot[z]=Ot[X]=Ot[G]=Ot[W]=Ot[j]=Ot[Z]=Ot["[object Map]"]=Ot[E]=Ot[R]=Ot[Y]=Ot["[object Set]"]=Ot[U]=Ot["[object WeakMap]"]=!1;var Vt={};Vt[N]=Vt[z]=Vt[X]=Vt[G]=Vt[W]=Vt[Q]=Vt[J]=Vt[K]=Vt[tt]=Vt[et]=Vt[E]=Vt[R]=Vt[Y]=Vt[U]=Vt[ot]=Vt[at]=Vt[it]=Vt[nt]=!0,Vt[j]=Vt[Z]=Vt["[object Map]"]=Vt["[object Set]"]=Vt["[object WeakMap]"]=!1;var Ft={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss"},$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},At={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Pt={"function":!0,object:!0},Bt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zt=Pt[typeof exports]&&exports&&!exports.nodeType&&exports,Gt=Pt[typeof module]&&module&&!module.nodeType&&module,Wt=Pt[typeof self]&&self&&self.Object&&self,jt=Pt[typeof window]&&window&&window.Object&&window,Zt=Gt&&Gt.exports===zt&&zt,Et=zt&&Gt&&"object"==typeof global&&global&&global.Object&&global||jt!==(this&&this.window)&&jt||Wt||this,Rt=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Et._=Rt,define(function(){return Rt})):zt&&Gt?Zt?(Gt.exports=Rt)._=Rt:zt._=Rt:Et._=Rt}.call(this),!function(){function t(t,e){if(!e||"function"==typeof e)return t;for(var o in e)t[o]=e[o];return t}function e(t,o){for(var a in o)a in t?e(t[a],o[a]):t[a]=o[a];return t}function o(t,e,o){var a,i=0,n=t.length,s=void 0===n||"[object Array]"!==Object.prototype.toString.apply(t)||"function"==typeof t;if(o)if(s){for(a in t)if(e.apply(t[a],o)===!1)break}else for(;n>i&&e.apply(t[i++],o)!==!1;);else if(s){for(a in t)if(e.call(t[a],a,t[a])===!1)break}else for(;n>i&&e.call(t[i],i,t[i++])!==!1;);return t}function a(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return N[t]}):t}function i(t){var e=function(t){if(window.XMLHttpRequest)return t(null,new XMLHttpRequest);if(window.ActiveXObject)try{return t(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(e){return t(null,new ActiveXObject("Microsoft.XMLHTTP"))}return t(new Error)},o=function(t){if("string"==typeof t)return t;var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.join("&")},a=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",o=0;o<t.length;o++){var a=t.charCodeAt(o);128>a?e+=String.fromCharCode(a):a>127&&2048>a?(e+=String.fromCharCode(192|a>>6),e+=String.fromCharCode(128|63&a)):(e+=String.fromCharCode(224|a>>12),e+=String.fromCharCode(128|63&a>>6),e+=String.fromCharCode(128|63&a))}return e},i=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t=a(t);var o,i,n,s,r,l,p,h="",u=0;do o=t.charCodeAt(u++),i=t.charCodeAt(u++),n=t.charCodeAt(u++),s=o>>2,r=(3&o)<<4|i>>4,l=(15&i)<<2|n>>6,p=63&n,isNaN(i)?l=p=64:isNaN(n)&&(p=64),h+=e.charAt(s)+e.charAt(r)+e.charAt(l)+e.charAt(p),o=i=n="",s=r=l=p="";while(u<t.length);return h},n=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t},s=function(t,a,i,r){"function"==typeof i&&(r=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=void 0===i.async?!0:i.async;var l,p=n({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},s.headers,i.headers);if(l="application/json"===p["content-type"]?JSON.stringify(i.data):o(i.data),"GET"===t){var h=[];if(l&&(h.push(l),l=null),i.cache||h.push("_="+(new Date).getTime()),i.jsonp&&(h.push("callback="+i.jsonp),h.push("jsonp="+i.jsonp)),h=h.join("&"),h.length>1&&(a+=a.indexOf("?")>-1?"&"+h:"?"+h),i.jsonp){var u=document.getElementsByTagName("head")[0],c=document.createElement("script");return c.type="text/javascript",c.src=a,void u.appendChild(c)}}e(function(e,o){if(e)return r(e);o.open(t,a,i.async);for(var n in p)p.hasOwnProperty(n)&&o.setRequestHeader(n,p[n]);o.onreadystatechange=function(){if(4===o.readyState){var t=o.responseText||"";if(!r)return;r(o.status,{text:function(){return t},json:function(){return JSON.parse(t)}})}},o.send(l)})},r={authBasic:function(t,e){s.headers.Authorization="Basic "+i(t+":"+e)},connect:function(t,e,o){return s("CONNECT",t,e,o)},del:function(t,e,o){return s("DELETE",t,e,o)},get:function(t,e,o){return s("GET",t,e,o)},head:function(t,e,o){return s("HEAD",t,e,o)},headers:function(t){s.headers=t||{}},isAllowed:function(t,e,o){this.options(t,function(t,a){o(-1!==a.text().indexOf(e))})},options:function(t,e,o){return s("OPTIONS",t,e,o)},patch:function(t,e,o){return s("PATCH",t,e,o)},post:function(t,e,o){return s("POST",t,e,o)},put:function(t,e,o){return s("PUT",t,e,o)},trace:function(t,e,o){return s("TRACE",t,e,o)}},l=t.type?t.type.toLowerCase():"get";r[l](t.url,t,function(e,o){200===e||0===e&&o.text()?t.success(o.json(),e,null):t.error(o.text(),e,null)})}function n(t,e){"function"==typeof t&&(e=t,t={}),t=t||{},W.extend(B,t),delete B.fixLng,"string"==typeof B.ns&&(B.ns={namespaces:[B.ns],defaultNs:B.ns}),"string"==typeof B.fallbackNS&&(B.fallbackNS=[B.fallbackNS]),("string"==typeof B.fallbackLng||"boolean"==typeof B.fallbackLng)&&(B.fallbackLng=[B.fallbackLng]),B.interpolationPrefixEscaped=W.regexEscape(B.interpolationPrefix),B.interpolationSuffixEscaped=W.regexEscape(B.interpolationSuffix),B.lng||(B.lng=W.detectLanguage()),F=W.toLanguages(B.lng),M=F[0],W.log("currentLng set to: "+M),B.useCookie&&W.cookie.read(B.cookieName)!==M&&W.cookie.create(B.cookieName,M,B.cookieExpirationTime,B.cookieDomain),B.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localstorage&&window.localStorage.setItem("i18next_lng",M);var o=S;t.fixLng&&(o=function(t,e){return e=e||{},e.lng=e.lng||o.lng,S(t,e)},o.lng=M),j.setCurrentLng(M),H&&B.setJqueryExt&&f();var a;if(H&&H.Deferred&&(a=H.Deferred()),!B.resStore){var i=W.toLanguages(B.lng);"string"==typeof B.preload&&(B.preload=[B.preload]);for(var n=0,s=B.preload.length;s>n;n++)for(var r=W.toLanguages(B.preload[n]),l=0,p=r.length;p>l;l++)i.indexOf(r[l])<0&&i.push(r[l]);return D.sync.load(i,B,function(t,i){O=i,$=!0,e&&e(o),a&&a.resolve(o)}),a?a.promise():void 0}return O=B.resStore,$=!0,e&&e(o),a&&a.resolve(o),a?a.promise():void 0}function s(t,e){"string"==typeof t&&(t=[t]);for(var o=0,a=t.length;a>o;o++)B.preload.indexOf(t[o])<0&&B.preload.push(t[o]);return n(e)}function r(t,e,o,a){"string"!=typeof e?(o=e,e=B.ns.defaultNs):B.ns.namespaces.indexOf(e)<0&&B.ns.namespaces.push(e),O[t]=O[t]||{},O[t][e]=O[t][e]||{},a?W.deepExtend(O[t][e],o):W.extend(O[t][e],o)}function l(t,e){"string"!=typeof e&&(e=B.ns.defaultNs),O[t]=O[t]||{},O[t][e]={}}function p(t,e,o,a){"string"!=typeof e?(resource=e,e=B.ns.defaultNs):B.ns.namespaces.indexOf(e)<0&&B.ns.namespaces.push(e),O[t]=O[t]||{},O[t][e]=O[t][e]||{};for(var i=o.split(B.keyseparator),n=0,s=O[B.lng][e];i[n];)n==i.length-1?s[i[n]]=a:(null==s[i[n]]&&(s[i[n]]={}),s=s[i[n]]),n++}function h(t,e,o){"string"!=typeof e?(resource=e,e=B.ns.defaultNs):B.ns.namespaces.indexOf(e)<0&&B.ns.namespaces.push(e);for(var a in o)"string"==typeof o[a]&&p(t,e,a,o[a])}function u(t){B.ns.defaultNs=t}function c(t,e){d([t],e)}function d(t,e){var o={dynamicLoad:B.dynamicLoad,resGetPath:B.resGetPath,getAsync:B.getAsync,customLoad:B.customLoad,ns:{namespaces:t,defaultNs:""}},a=W.toLanguages(B.lng);"string"==typeof B.preload&&(B.preload=[B.preload]);for(var i=0,n=B.preload.length;n>i;i++)for(var s=W.toLanguages(B.preload[i]),r=0,l=s.length;l>r;r++)a.indexOf(s[r])<0&&a.push(s[r]);for(var p=[],h=0,u=a.length;u>h;h++){var c=!1,d=O[a[h]];if(d)for(var g=0,m=t.length;m>g;g++)d[t[g]]||(c=!0);else c=!0;c&&p.push(a[h])}p.length?D.sync._fetch(p,o,function(o,a){var i=t.length*p.length;W.each(t,function(t,o){B.ns.namespaces.indexOf(o)<0&&B.ns.namespaces.push(o),W.each(p,function(t,n){O[n]=O[n]||{},O[n][o]=a[n][o],i--,0===i&&e&&(B.useLocalStorage&&D.sync._storeLocal(O),e())})})}):e&&e()}function g(t,e,o){return"function"==typeof e?(o=e,e={}):e||(e={}),e.lng=t,n(e,o)}function m(){return M}function f(){function t(t,e,o){if(0!==e.length){var a="text";if(0===e.indexOf("[")){var i=e.split("]");e=i[1],a=i[0].substr(1,i[0].length-1)}e.indexOf(";")===e.length-1&&(e=e.substr(0,e.length-2));var n;if("html"===a)n=B.defaultValueFromContent?H.extend({defaultValue:t.html()},o):o,t.html(H.t(e,n));else if("text"===a)n=B.defaultValueFromContent?H.extend({defaultValue:t.text()},o):o,t.text(H.t(e,n));else if("prepend"===a)n=B.defaultValueFromContent?H.extend({defaultValue:t.html()},o):o,t.prepend(H.t(e,n));else if("append"===a)n=B.defaultValueFromContent?H.extend({defaultValue:t.html()},o):o,t.append(H.t(e,n));else if(0===a.indexOf("data-")){var s=a.substr("data-".length);n=B.defaultValueFromContent?H.extend({defaultValue:t.data(s)},o):o;var r=H.t(e,n);t.data(s,r),t.attr(a,r)}else n=B.defaultValueFromContent?H.extend({defaultValue:t.attr(a)},o):o,t.attr(a,H.t(e,n))}}function e(e,o){var a=e.attr(B.selectorAttr);if(a||"undefined"==typeof a||a===!1||(a=e.text()||e.val()),a){var i=e,n=e.data("i18n-target");if(n&&(i=e.find(n)||e),o||B.useDataAttrOptions!==!0||(o=e.data("i18n-options")),o=o||{},a.indexOf(";")>=0){var s=a.split(";");H.each(s,function(e,a){""!==a&&t(i,a,o)})}else t(i,a,o);B.useDataAttrOptions===!0&&e.data("i18n-options",o)}}H.t=H.t||S,H.fn.i18n=function(t){return this.each(function(){e(H(this),t);var o=H(this).find("["+B.selectorAttr+"]");o.each(function(){e(H(this),t)})})}}function b(t,e,o,a){if(!t)return t;if(a=a||e,t.indexOf(a.interpolationPrefix||B.interpolationPrefix)<0)return t;var i=a.interpolationPrefix?W.regexEscape(a.interpolationPrefix):B.interpolationPrefixEscaped,n=a.interpolationSuffix?W.regexEscape(a.interpolationSuffix):B.interpolationSuffixEscaped,s="HTML"+n,r=e.replace&&"object"==typeof e.replace?e.replace:e;return W.each(r,function(e,r){var l=o?o+B.keyseparator+e:e;"object"==typeof r&&null!==r?t=b(t,r,l,a):a.escapeInterpolation||B.escapeInterpolation?(t=t.replace(new RegExp([i,l,s].join(""),"g"),W.regexReplacementEscape(r)),t=t.replace(new RegExp([i,l,n].join(""),"g"),W.regexReplacementEscape(W.escape(r)))):t=t.replace(new RegExp([i,l,n].join(""),"g"),W.regexReplacementEscape(r))}),t}function v(t,e){var o=",",a="{",i="}",n=W.extend({},e);for(delete n.postProcess;-1!=t.indexOf(B.reusePrefix)&&(V++,!(V>B.maxRecursion));){var s=t.lastIndexOf(B.reusePrefix),r=t.indexOf(B.reuseSuffix,s)+B.reuseSuffix.length,l=t.substring(s,r),p=l.replace(B.reusePrefix,"").replace(B.reuseSuffix,"");if(s>=r)return W.error("there is an missing closing in following translation value",t),"";if(-1!=p.indexOf(o)){var h=p.indexOf(o);if(-1!=p.indexOf(a,h)&&-1!=p.indexOf(i,h)){var u=p.indexOf(a,h),c=p.indexOf(i,u)+i.length;try{n=W.extend(n,JSON.parse(p.substring(u,c))),p=p.substring(0,h)}catch(d){}}}var g=_(p,n);t=t.replace(l,W.regexReplacementEscape(g))}return t}function x(t){return t.context&&("string"==typeof t.context||"number"==typeof t.context)}function y(t,e){return void 0!==t.count&&"string"!=typeof t.count&&j.needsPlural(e,t.count)}function q(t){return void 0!==t.indefinite_article&&"string"!=typeof t.indefinite_article&&t.indefinite_article}function w(t,e){e=e||{};var o=C(t,e),a=k(t,e);return void 0!==a||a===o}function S(t,e){return e=e||{},$?(V=0,_.apply(null,arguments)):(W.log("i18next not finished initialization. you might have called t function before loading resources finished."),e.defaultValue||"")}function C(t,e){return void 0!==e.defaultValue?e.defaultValue:t}function I(){for(var t=[],e=1;e<arguments.length;e++)t.push(arguments[e]);return{postProcess:"sprintf",sprintf:t}}function _(t,e){if(e&&"object"!=typeof e?"sprintf"===B.shortcutFunction?e=I.apply(null,arguments):"defaultValue"===B.shortcutFunction&&(e={defaultValue:e}):e=e||{},void 0===t||null===t||""===t)return"";"string"==typeof t&&(t=[t]);var o=t[0];if(t.length>1)for(var a=0;a<t.length&&(o=t[a],!w(o,e));a++);var i,n=C(o,e),s=k(o,e),r=e.lng?W.toLanguages(e.lng,e.fallbackLng):F,l=e.ns||B.ns.defaultNs;o.indexOf(B.nsseparator)>-1&&(i=o.split(B.nsseparator),l=i[0],o=i[1]),void 0===s&&B.sendMissing&&"function"==typeof B.missingKeyHandler&&(e.lng?B.missingKeyHandler(r[0],l,o,n,r):B.missingKeyHandler(B.lng,l,o,n,r));var p=e.postProcess||B.postProcess;void 0!==s&&p&&Z[p]&&(s=Z[p](s,o,e));var h=n;if(n.indexOf(B.nsseparator)>-1&&(i=n.split(B.nsseparator),h=i[1]),h===o&&B.parseMissingKey&&(n=B.parseMissingKey(n)),void 0===s&&(n=b(n,e),n=v(n,e),p&&Z[p])){var u=C(o,e);s=Z[p](u,o,e)}return void 0!==s?s:n}function k(t,e){e=e||{};var o,a,i=C(t,e),n=F;if(!O)return i;if("cimode"===n[0].toLowerCase())return i;if(e.lng&&(n=W.toLanguages(e.lng,e.fallbackLng),!O[n[0]])){var s=B.getAsync;B.getAsync=!1,D.sync.load(n,B,function(t,e){W.extend(O,e),B.getAsync=s})}var r=e.ns||B.ns.defaultNs;if(t.indexOf(B.nsseparator)>-1){var l=t.split(B.nsseparator);r=l[0],t=l[1]}if(x(e)){o=W.extend({},e),delete o.context,o.defaultValue=B.contextNotFound;var p=r+B.nsseparator+t+"_"+e.context;if(a=S(p,o),a!=B.contextNotFound)return b(a,{context:e.context})}if(y(e,n[0])){o=W.extend({},e),delete o.count,o.defaultValue=B.pluralNotFound;var h=r+B.nsseparator+t+B.pluralSuffix,u=j.get(n[0],e.count);if(u>=0?h=h+"_"+u:1===u&&(h=r+B.nsseparator+t),a=S(h,o),a!=B.pluralNotFound)return b(a,{count:e.count,interpolationPrefix:e.interpolationPrefix,interpolationSuffix:e.interpolationSuffix})}if(q(e)){var c=W.extend({},e);delete c.indefinite_article,c.defaultValue=B.indefiniteNotFound;var d=r+B.nsseparator+t+(e.count&&!y(e,n[0])||!e.count?B.indefiniteSuffix:"");if(a=S(d,c),a!=B.indefiniteNotFound)return a}for(var g,m=t.split(B.keyseparator),f=0,w=n.length;w>f&&void 0===g;f++){for(var I=n[f],T=0,M=O[I]&&O[I][r];m[T];)M=M&&M[m[T]],T++;if(void 0!==M){var L=Object.prototype.toString.apply(M);if("string"==typeof M)M=b(M,e),M=v(M,e);else if("[object Array]"!==L||B.returnObjectTrees||e.returnObjectTrees){if(null===M&&B.fallbackOnNull===!0)M=void 0;else if(null!==M)if(B.returnObjectTrees||e.returnObjectTrees){if("[object Number]"!==L&&"[object Function]"!==L&&"[object RegExp]"!==L){var H="[object Array]"===L?[]:{};W.each(M,function(o){H[o]=_(r+B.nsseparator+t+B.keyseparator+o,e)}),M=H}}else B.objectTreeKeyHandler&&"function"==typeof B.objectTreeKeyHandler?M=B.objectTreeKeyHandler(t,M,I,r,e):(M="key '"+r+":"+t+" ("+I+")' returned an object instead of string.",W.log(M))}else M=M.join("\n"),M=b(M,e),M=v(M,e);"string"==typeof M&&""===M.trim()&&B.fallbackOnEmpty===!0&&(M=void 0),g=M}}if(void 0===g&&!e.isFallbackLookup&&(B.fallbackToDefaultNS===!0||B.fallbackNS&&B.fallbackNS.length>0)){if(e.isFallbackLookup=!0,B.fallbackNS.length){for(var V=0,$=B.fallbackNS.length;$>V;V++)if(g=k(B.fallbackNS[V]+B.nsseparator+t,e)){var A=g.indexOf(B.nsseparator)>-1?g.split(B.nsseparator)[1]:g,P=i.indexOf(B.nsseparator)>-1?i.split(B.nsseparator)[1]:i;if(A!==P)break}}else g=k(t,e);e.isFallbackLookup=!1}return g}function T(){var t,e=[];if("undefined"!=typeof window&&(!function(){for(var t=window.location.search.substring(1),o=t.split("&"),a=0;a<o.length;a++){var i=o[a].indexOf("=");if(i>0){var n=o[a].substring(0,i),s=o[a].substring(i+1);e[n]=s}}}(),e[B.detectLngQS]&&(t=e[B.detectLngQS])),!t&&"undefined"!=typeof document&&B.useCookie){var o=W.cookie.read(B.cookieName);o&&(t=o)}return!t&&"undefined"!=typeof document&&window.localstorage&&B.detectLngFromLocalStorage&&(t=window.localStorage.getItem("i18next_lng")),t||"undefined"==typeof navigator||(t=navigator.language?navigator.language:navigator.userLanguage),t||(t=B.fallbackLng[0]),t}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),o=e.length>>>0;if(0===o)return-1;var a=0;if(arguments.length>0&&(a=Number(arguments[1]),a!=a?a=0:0!=a&&1/0!=a&&a!=-1/0&&(a=(a>0||-1)*Math.floor(Math.abs(a)))),a>=o)return-1;for(var i=a>=0?a:Math.max(o-Math.abs(a),0);o>i;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),o=e.length>>>0;if(0===o)return-1;var a=o;arguments.length>1&&(a=Number(arguments[1]),a!=a?a=0:0!=a&&a!=1/0&&a!=-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))));for(var i=a>=0?Math.min(a,o-1):o-Math.abs(a);i>=0;i--)if(i in e&&e[i]===t)return i;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var M,L=this,H=L.jQuery||L.Zepto,D={},O={},V=0,F=[],$=!1,A={};if("undefined"!=typeof module&&module.exports){if(!H)try{H=require("jquery")}catch(P){}H&&(H.i18n=H.i18n||D),module.exports=D}else H&&(H.i18n=H.i18n||D),L.i18n=L.i18n||D;A={load:function(t,e,o){e.useLocalStorage?A._loadLocal(t,e,function(a,i){for(var n=[],s=0,r=t.length;r>s;s++)i[t[s]]||n.push(t[s]);n.length>0?A._fetch(n,e,function(t,e){W.extend(i,e),A._storeLocal(e),o(null,i)}):o(null,i)}):A._fetch(t,e,function(t,e){o(null,e)})},_loadLocal:function(t,e,o){var a={},i=(new Date).getTime();if(window.localStorage){var n=t.length;W.each(t,function(t,s){var r=window.localStorage.getItem("res_"+s);r&&(r=JSON.parse(r),r.i18nStamp&&r.i18nStamp+e.localStorageExpirationTime>i&&(a[s]=r)),n--,0===n&&o(null,a)})}},_storeLocal:function(t){if(window.localStorage)for(var e in t)t[e].i18nStamp=(new Date).getTime(),window.localStorage.setItem("res_"+e,JSON.stringify(t[e]))},_fetch:function(t,e,o){var a=e.ns,i={};if(e.dynamicLoad){var n=function(t,e){o(null,e)};if("function"==typeof e.customLoad)e.customLoad(t,a.namespaces,e,n);else{var s=b(e.resGetPath,{lng:t.join("+"),ns:a.namespaces.join("+")});W.ajax({url:s,success:function(t){W.log("loaded: "+s),n(null,t)},error:function(t,e,o){W.log("failed loading: "+s),n("failed loading resource.json error: "+o)},dataType:"json",async:e.getAsync})}}else{var r,l=a.namespaces.length*t.length;W.each(a.namespaces,function(a,n){
W.each(t,function(t,a){var s=function(t,e){t&&(r=r||[],r.push(t)),i[a]=i[a]||{},i[a][n]=e,l--,0===l&&o(r,i)};"function"==typeof e.customLoad?e.customLoad(a,n,e,s):A._fetchOne(a,n,e,s)})})}},_fetchOne:function(t,e,o,a){var i=b(o.resGetPath,{lng:t,ns:e});W.ajax({url:i,success:function(t){W.log("loaded: "+i),a(null,t)},error:function(t,e,o){if(e&&200==e||t&&t.status&&200==t.status)W.error("There is a typo in: "+i);else if(e&&404==e||t&&t.status&&404==t.status)W.log("Does not exist: "+i);else{var n=e?e:t&&t.status?t.status:null;W.log(n+" when loading "+i)}a(o,{})},dataType:"json",async:o.getAsync})},postMissing:function(t,e,o,a,i){var n={};n[o]=a;var s=[];if("fallback"===B.sendMissingTo&&B.fallbackLng[0]!==!1)for(var r=0;r<B.fallbackLng.length;r++)s.push({lng:B.fallbackLng[r],url:b(B.resPostPath,{lng:B.fallbackLng[r],ns:e})});else if("current"===B.sendMissingTo||"fallback"===B.sendMissingTo&&B.fallbackLng[0]===!1)s.push({lng:t,url:b(B.resPostPath,{lng:t,ns:e})});else if("all"===B.sendMissingTo)for(var r=0,l=i.length;l>r;r++)s.push({lng:i[r],url:b(B.resPostPath,{lng:i[r],ns:e})});for(var p=0,h=s.length;h>p;p++){var u=s[p];W.ajax({url:u.url,type:B.sendType,data:n,success:function(){W.log("posted missing key '"+o+"' to: "+u.url);for(var t=o.split("."),i=0,n=O[u.lng][e];t[i];)n=n[t[i]]=i===t.length-1?a:n[t[i]]||{},i++},error:function(){W.log("failed posting missing key '"+o+"' to: "+u.url)},dataType:"json",async:B.postAsync})}}};var B={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:A.postMissing,shortcutFunction:"sprintf"},N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},z={create:function(t,e,o,a){var i;if(o){var n=new Date;n.setTime(n.getTime()+6e4*o),i="; expires="+n.toGMTString()}else i="";a=a?"domain="+a+";":"",document.cookie=t+"="+e+i+";"+a+"path=/"},read:function(t){for(var e=t+"=",o=document.cookie.split(";"),a=0;a<o.length;a++){for(var i=o[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},G={create:function(){},read:function(){return null},remove:function(){}},W={extend:H?H.extend:t,deepExtend:e,each:H?H.each:o,ajax:H?H.ajax:"undefined"!=typeof document?i:function(){},cookie:"undefined"!=typeof document?z:G,detectLanguage:T,escape:a,log:function(t){B.debug&&"undefined"!=typeof console&&console.log(t)},error:function(t){"undefined"!=typeof console&&console.error(t)},getCountyIndexOfLng:function(t){var e=0;return("nb-NO"===t||"nn-NO"===t)&&(e=1),e},toLanguages:function(t){var e=this.log,o=[],a=B.lngWhitelist||!1,i=function(t){!a||a.indexOf(t)>-1?o.push(t):e("rejecting non-whitelisted language: "+t)};if("string"==typeof t&&t.indexOf("-")>-1){var n=t.split("-");t=B.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),"unspecific"!==B.load&&i(t),"current"!==B.load&&i(n[this.getCountyIndexOfLng(t)])}else i(t);for(var s=0;s<B.fallbackLng.length;s++)-1===o.indexOf(B.fallbackLng[s])&&B.fallbackLng[s]&&o.push(B.fallbackLng[s]);return o},regexEscape:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(t){return"string"==typeof t?t.replace(/\$/g,"$$$$"):t}};W.applyReplacement=b;var j={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(t){return Number(t>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ak:{name:"Akan",numbers:[1,2],plurals:function(t){return Number(t>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(t){return Number(t>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&10>=t%100?3:t%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(t){return Number(t>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ay:{name:"AymarÃ¡",numbers:[1],plurals:function(){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(t){return Number(1!=t)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(t){return Number(1!=t)}},bo:{name:"Tibetan",numbers:[1],plurals:function(){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(t){return Number(t>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(t){return Number(1!=t)}},cgg:{name:"Chiga",numbers:[1],plurals:function(){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(t){return Number(1==t?0:t>=2&&4>=t?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(t){return Number(1==t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(t){return Number(1!=t)}},de:{name:"German",numbers:[1,2],plurals:function(t){return Number(1!=t)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(t){return Number(1!=t)}},en:{name:"English",numbers:[1,2],plurals:function(t){return Number(1!=t)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(t){return Number(1!=t)}},es:{name:"Spanish",numbers:[1,2],plurals:function(t){return Number(1!=t)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(t){return Number(1!=t)}},et:{name:"Estonian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},eu:{name:"Basque",numbers:[1,2],plurals:function(t){return Number(1!=t)}},fa:{name:"Persian",numbers:[1],plurals:function(){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(t){return Number(1!=t)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(t){return Number(t>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(t){return Number(1!=t)}},fr:{name:"French",numbers:[1,2],plurals:function(t){return Number(t>=2)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(t){return Number(1==t?0:2==t?1:7>t?2:11>t?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&20>t?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(t){return Number(1!=t)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(t){return Number(1!=t)}},gun:{name:"Gun",numbers:[1,2],plurals:function(t){return Number(t>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(t){return Number(1!=t)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(t){return Number(1!=t)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(t){return Number(1!=t)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(t){return Number(1!=t)}},id:{name:"Indonesian",numbers:[1],plurals:function(){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(t){return Number(1!=t%10||11==t%100)}},it:{name:"Italian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ja:{name:"Japanese",numbers:[1],plurals:function(){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(t){return Number(0!==t)}},ka:{name:"Georgian",numbers:[1],plurals:function(){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ko:{name:"Korean",numbers:[1],plurals:function(){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(t){return Number(1!=t)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(t){return Number(1==t?0:2==t?1:3==t?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(t){return Number(t>1)}},lo:{name:"Lao",numbers:[1],plurals:function(){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&(10>t%100||t%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[1,2,0],plurals:function(t){return Number(1==t%10&&11!=t%100?0:0!==t?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(t){return Number(1!=t)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(t){return Number(t>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(t){return Number(t>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(t){return Number(t>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(t){return Number(1==t||1==t%10?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(t){return Number(1!=t)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(t){return Number(1==t?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ms:{name:"Malay",numbers:[1],plurals:function(){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(t){return Number(1==t?0:0===t||t%100>1&&11>t%100?1:t%100>10&&20>t%100?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(t){return Number(1!=t)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(t){return Number(1!=t)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(t){return Number(1!=t)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(t){return Number(1!=t)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(t){return Number(1!=t)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(t){return Number(1!=t)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(t){return Number(t>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(t){return Number(1!=t)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(t){return Number(1!=t)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(t){return Number(1!=t)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(t){return Number(1==t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(t){return Number(1!=t)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(t){return Number(1!=t)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(t){return Number(1!=t)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(t){return Number(1==t?0:0===t||t%100>0&&20>t%100?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(t){return Number(1!=t)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(t){return Number(1!=t)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(t){return Number(1!=t)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(t){return Number(1==t?0:t>=2&&4>=t?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(t){return Number(1==t%100?1:2==t%100?2:3==t%100||4==t%100?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(t){return Number(1!=t)}},son:{name:"Songhay",numbers:[1,2],plurals:function(t){return Number(1!=t)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(t){return Number(1!=t)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(t){return Number(1!=t)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(t){return Number(1!=t)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(t){return Number(1!=t)}},te:{name:"Telugu",numbers:[1,2],plurals:function(t){return Number(1!=t)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(t){return Number(t>1)}},th:{name:"Thai",numbers:[1],plurals:function(){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(t){return Number(t>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(t){return Number(1!=t)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(t){return Number(t>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(t){return Number(1==t%10&&11!=t%100?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(t){return Number(1!=t)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(t){return Number(t>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(t){return Number(t>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(t){return Number(1!=t)}},zh:{name:"Chinese",numbers:[1],plurals:function(){return 0}}},addRule:function(t,e){j.rules[t]=e},setCurrentLng:function(t){if(!j.currentRule||j.currentRule.lng!==t){var e=t.split("-");j.currentRule={lng:t,rule:j.rules[e[0]]}}},needsPlural:function(t,e){var o,a=t.split("-");return o=j.currentRule&&j.currentRule.lng===t?j.currentRule.rule:j.rules[a[W.getCountyIndexOfLng(t)]],o&&o.numbers.length<=1?!1:1!==this.get(t,e)},get:function(t,e){function o(e,o){var a;if(a=j.currentRule&&j.currentRule.lng===t?j.currentRule.rule:j.rules[e]){var i;i=a.noAbs?a.plurals(o):a.plurals(Math.abs(o));var n=a.numbers[i];return 2===a.numbers.length&&1===a.numbers[0]&&(2===n?n=-1:1===n&&(n=1)),n}return 1===o?"1":"-1"}var a=t.split("-");return o(a[W.getCountyIndexOfLng(t)],e)}},Z={},E=function(t,e){Z[t]=e},R=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function e(t,e){for(var o=[];e>0;o[--e]=t);return o.join("")}var o=function(){return o.cache.hasOwnProperty(arguments[0])||(o.cache[arguments[0]]=o.parse(arguments[0])),o.format.call(null,o.cache[arguments[0]],arguments)};return o.format=function(o,a){var i,n,s,r,l,p,h,u=1,c=o.length,d="",g=[];for(n=0;c>n;n++)if(d=t(o[n]),"string"===d)g.push(o[n]);else if("array"===d){if(r=o[n],r[2])for(i=a[u],s=0;s<r[2].length;s++){if(!i.hasOwnProperty(r[2][s]))throw R('[sprintf] property "%s" does not exist',r[2][s]);i=i[r[2][s]]}else i=r[1]?a[r[1]]:a[u++];if(/[^s]/.test(r[8])&&"number"!=t(i))throw R("[sprintf] expecting number but found %s",t(i));switch(r[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=r[7]?i.toExponential(r[7]):i.toExponential();break;case"f":i=r[7]?parseFloat(i).toFixed(r[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&r[7]?i.substring(0,r[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(r[8])&&r[3]&&i>=0?"+"+i:i,p=r[4]?"0"==r[4]?"0":r[4].charAt(1):" ",h=r[6]-String(i).length,l=r[6]?e(p,h):"",g.push(r[5]?i+l:l+i)}return g.join("")},o.cache={},o.parse=function(t){for(var e=t,o=[],a=[],i=0;e;){if(null!==(o=/^[^\x25]+/.exec(e)))a.push(o[0]);else if(null!==(o=/^\x25{2}/.exec(e)))a.push("%");else{if(null===(o=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(o[2]){i|=1;var n=[],s=o[2],r=[];if(null===(r=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(n.push(r[1]);""!==(s=s.substring(r[0].length));)if(null!==(r=/^\.([a-z_][a-z_\d]*)/i.exec(s)))n.push(r[1]);else{if(null===(r=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";n.push(r[1])}o[2]=n}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";a.push(o)}e=e.substring(o[0].length)}return a},o}(),Y=function(t,e){return e.unshift(t),R.apply(null,e)};E("sprintf",function(t,e,o){return o.sprintf?"[object Array]"===Object.prototype.toString.apply(o.sprintf)?Y(t,o.sprintf):"object"==typeof o.sprintf?R(t,o.sprintf):t:t}),D.init=n,D.setLng=g,D.preload=s,D.addResourceBundle=r,D.addResource=p,D.addResources=h,D.removeResourceBundle=l,D.loadNamespace=c,D.loadNamespaces=d,D.setDefaultNamespace=u,D.t=S,D.translate=S,D.exists=w,D.detectLanguage=W.detectLanguage,D.pluralExtensions=j,D.sync=A,D.functions=W,D.lng=m,D.addPostProcessor=E,D.options=B}(),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(o,a,i){e.Backbone=t(e,i,o,a)});else if("undefined"!=typeof exports){var o,a=require("underscore");try{o=require("jquery")}catch(i){}t(e,exports,a,o)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,o,a){var i=t.Backbone,n=Array.prototype.slice;e.VERSION="1.2.3",e.$=a,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,a){switch(t){case 1:return function(){return o[e](this[a])};case 2:return function(t){return o[e](this[a],t)};case 3:return function(t,i){return o[e](this[a],l(t,this),i)};case 4:return function(t,i,n){return o[e](this[a],l(t,this),i,n)};default:return function(){var t=n.call(arguments);return t.unshift(this[a]),o[e].apply(o,t)}}},r=function(t,e,a){o.each(e,function(e,i){o[i]&&(t.prototype[i]=s(e,i,a))})},l=function(t,e){return o.isFunction(t)?t:o.isObject(t)&&!e._isModel(t)?p(t):o.isString(t)?function(e){return e.get(t)}:t},p=function(t){var e=o.matches(t);return function(t){return e(t.attributes)}},h=e.Events={},u=/\s+/,c=function(t,e,a,i,n){var s,r=0;if(a&&"object"==typeof a){void 0!==i&&"context"in n&&void 0===n.context&&(n.context=i);for(s=o.keys(a);r<s.length;r++)e=c(t,e,s[r],a[s[r]],n)}else if(a&&u.test(a))for(s=a.split(u);r<s.length;r++)e=t(e,s[r],i,n);else e=t(e,a,i,n);return e};h.on=function(t,e,o){return d(this,t,e,o)};var d=function(t,e,o,a,i){if(t._events=c(g,t._events||{},e,o,{context:a,ctx:t,listening:i}),i){var n=t._listeners||(t._listeners={});n[i.id]=i}return t};h.listenTo=function(t,e,a){if(!t)return this;var i=t._listenId||(t._listenId=o.uniqueId("l")),n=this._listeningTo||(this._listeningTo={}),s=n[i];if(!s){var r=this._listenId||(this._listenId=o.uniqueId("l"));s=n[i]={obj:t,objId:i,id:r,listeningTo:n,count:0}}return d(t,e,a,this,s),this};var g=function(t,e,o,a){if(o){var i=t[e]||(t[e]=[]),n=a.context,s=a.ctx,r=a.listening;r&&r.count++,i.push({callback:o,context:n,ctx:n||s,listening:r})}return t};h.off=function(t,e,o){return this._events?(this._events=c(m,this._events,t,e,{context:o,listeners:this._listeners}),this):this},h.stopListening=function(t,e,a){var i=this._listeningTo;if(!i)return this;for(var n=t?[t._listenId]:o.keys(i),s=0;s<n.length;s++){var r=i[n[s]];if(!r)break;r.obj.off(e,a,this)}return o.isEmpty(i)&&(this._listeningTo=void 0),this};var m=function(t,e,a,i){if(t){var n,s=0,r=i.context,l=i.listeners;if(e||a||r){for(var p=e?[e]:o.keys(t);s<p.length;s++){e=p[s];var h=t[e];if(!h)break;for(var u=[],c=0;c<h.length;c++){var d=h[c];a&&a!==d.callback&&a!==d.callback._callback||r&&r!==d.context?u.push(d):(n=d.listening,n&&0===--n.count&&(delete l[n.id],delete n.listeningTo[n.objId]))}u.length?t[e]=u:delete t[e]}return o.size(t)?t:void 0}for(var g=o.keys(l);s<g.length;s++)n=l[g[s]],delete l[n.id],delete n.listeningTo[n.objId]}};h.once=function(t,e,a){var i=c(f,{},t,e,o.bind(this.off,this));return this.on(i,void 0,a)},h.listenToOnce=function(t,e,a){var i=c(f,{},e,a,o.bind(this.stopListening,this,t));return this.listenTo(t,i)};var f=function(t,e,a,i){if(a){var n=t[e]=o.once(function(){i(e,n),a.apply(this,arguments)});n._callback=a}return t};h.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),o=Array(e),a=0;e>a;a++)o[a]=arguments[a+1];return c(b,this._events,t,void 0,o),this};var b=function(t,e,o,a){if(t){var i=t[e],n=t.all;i&&n&&(n=n.slice()),i&&v(i,a),n&&v(n,[e].concat(a))}return t},v=function(t,e){var o,a=-1,i=t.length,n=e[0],s=e[1],r=e[2];switch(e.length){case 0:for(;++a<i;)(o=t[a]).callback.call(o.ctx);return;case 1:for(;++a<i;)(o=t[a]).callback.call(o.ctx,n);return;case 2:for(;++a<i;)(o=t[a]).callback.call(o.ctx,n,s);return;case 3:for(;++a<i;)(o=t[a]).callback.call(o.ctx,n,s,r);return;default:for(;++a<i;)(o=t[a]).callback.apply(o.ctx,e);return}};h.bind=h.on,h.unbind=h.off,o.extend(e,h);var x=e.Model=function(t,e){var a=t||{};e||(e={}),this.cid=o.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(a=this.parse(a,e)||{}),a=o.defaults({},a,o.result(this,"defaults")),this.set(a,e),this.changed={},this.initialize.apply(this,arguments)};o.extend(x.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return o.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return o.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!o.iteratee(t,this)(this.attributes)},set:function(t,e,a){if(null==t)return this;var i;if("object"==typeof t?(i=t,a=e):(i={})[t]=e,a||(a={}),!this._validate(i,a))return!1;var n=a.unset,s=a.silent,r=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=o.clone(this.attributes),this.changed={});var p=this.attributes,h=this.changed,u=this._previousAttributes;for(var c in i)e=i[c],o.isEqual(p[c],e)||r.push(c),o.isEqual(u[c],e)?delete h[c]:h[c]=e,n?delete p[c]:p[c]=e;if(this.id=this.get(this.idAttribute),!s){r.length&&(this._pending=a);for(var d=0;d<r.length;d++)this.trigger("change:"+r[d],this,p[r[d]],a)}if(l)return this;if(!s)for(;this._pending;)a=this._pending,this._pending=!1,this.trigger("change",this,a);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,o.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var a in this.attributes)e[a]=void 0;return this.set(e,o.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o.isEmpty(this.changed):o.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,a={};for(var i in t){var n=t[i];o.isEqual(e[i],n)||(a[i]=n)}return o.size(a)?a:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(t){t=o.extend({parse:!0},t);var e=this,a=t.success;return t.success=function(o){var i=t.parse?e.parse(o,t):o;return e.set(i,t)?(a&&a.call(t.context,e,o,t),void e.trigger("sync",e,o,t)):!1},z(this,t),this.sync("read",this,t)},save:function(t,e,a){var i;null==t||"object"==typeof t?(i=t,a=e):(i={})[t]=e,a=o.extend({validate:!0,parse:!0},a);var n=a.wait;if(i&&!n){if(!this.set(i,a))return!1}else if(!this._validate(i,a))return!1;var s=this,r=a.success,l=this.attributes;a.success=function(t){s.attributes=l;var e=a.parse?s.parse(t,a):t;return n&&(e=o.extend({},i,e)),e&&!s.set(e,a)?!1:(r&&r.call(a.context,s,t,a),void s.trigger("sync",s,t,a))},z(this,a),i&&n&&(this.attributes=o.extend({},l,i));var p=this.isNew()?"create":a.patch?"patch":"update";"patch"!==p||a.attrs||(a.attrs=i);var h=this.sync(p,this,a);return this.attributes=l,h},destroy:function(t){t=t?o.clone(t):{};var e=this,a=t.success,i=t.wait,n=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(o){i&&n(),a&&a.call(t.context,e,o,t),e.isNew()||e.trigger("sync",e,o,t)};var s=!1;return this.isNew()?o.defer(t.success):(z(this,t),s=this.sync("delete",this,t)),i||n(),s},url:function(){var t=o.result(this,"urlRoot")||o.result(this.collection,"url")||N();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},o.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=o.extend({},this.attributes,t);var a=this.validationError=this.validate(t,e)||null;return a?(this.trigger("invalid",this,a,o.extend(e,{validationError:a})),!1):!0}});var y={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r(x,y,"attributes");var q=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,o.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},C=function(t,e,o){o=Math.min(Math.max(o,0),t.length);for(var a=Array(t.length-o),i=e.length,n=0;n<a.length;n++)a[n]=t[n+o];for(n=0;i>n;n++)t[n+o]=e[n];for(n=0;n<a.length;n++)t[n+i+o]=a[n]};o.extend(q.prototype,h,{model:x,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,o.extend({merge:!1},e,S))},remove:function(t,e){e=o.extend({},e);var a=!o.isArray(t);t=a?[t]:o.clone(t);var i=this._removeModels(t,e);return!e.silent&&i&&this.trigger("update",this,e),a?i[0]:i},set:function(t,e){if(null!=t){e=o.defaults({},e,w),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var a=!o.isArray(t);t=a?[t]:t.slice();var i=e.at;null!=i&&(i=+i),0>i&&(i+=this.length+1);for(var n,s=[],r=[],l=[],p={},h=e.add,u=e.merge,c=e.remove,d=!1,g=this.comparator&&null==i&&e.sort!==!1,m=o.isString(this.comparator)?this.comparator:null,f=0;f<t.length;f++){n=t[f];var b=this.get(n);if(b){if(u&&n!==b){var v=this._isModel(n)?n.attributes:n;e.parse&&(v=b.parse(v,e)),b.set(v,e),g&&!d&&(d=b.hasChanged(m))}p[b.cid]||(p[b.cid]=!0,s.push(b)),t[f]=b}else h&&(n=t[f]=this._prepareModel(n,e),n&&(r.push(n),this._addReference(n,e),p[n.cid]=!0,s.push(n)))}if(c){for(f=0;f<this.length;f++)n=this.models[f],p[n.cid]||l.push(n);l.length&&this._removeModels(l,e)}var x=!1,y=!g&&h&&c;if(s.length&&y?(x=this.length!=s.length||o.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,C(this.models,s,0),this.length=this.models.length):r.length&&(g&&(d=!0),C(this.models,r,null==i?this.length:i),this.length=this.models.length),d&&this.sort({silent:!0}),!e.silent){for(f=0;f<r.length;f++)null!=i&&(e.index=i+f),n=r[f],n.trigger("add",n,this,e);(d||x)&&this.trigger("sort",this,e),(r.length||l.length)&&this.trigger("update",this,e)}return a?t[0]:t}},reset:function(t,e){e=e?o.clone(e):{};for(var a=0;a<this.models.length;a++)this._removeReference(this.models[a],e);return e.previousModels=this.models,this._reset(),t=this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,o.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,o.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return n.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var a=e.length;return o.isFunction(e)&&(e=o.bind(e,this)),1===a||o.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return o.invoke(this.models,"get",t)},fetch:function(t){t=o.extend({parse:!0},t);var e=t.success,a=this;return t.success=function(o){var i=t.reset?"reset":"set";a[i](o,t),e&&e.call(t.context,a,o,t),a.trigger("sync",a,o,t)},z(this,t),this.sync("read",this,t)},create:function(t,e){e=e?o.clone(e):{};var a=e.wait;if(t=this._prepareModel(t,e),!t)return!1;a||this.add(t,e);var i=this,n=e.success;return e.success=function(t,e,o){a&&i.add(t,o),n&&n.call(o.context,t,e,o)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?o.clone(e):{},e.collection=this;var a=new this.model(t,e);return a.validationError?(this.trigger("invalid",this,a.validationError,e),!1):a},_removeModels:function(t,e){for(var o=[],a=0;a<t.length;a++){var i=this.get(t[a]);if(i){var n=this.indexOf(i);this.models.splice(n,1),this.length--,e.silent||(e.index=n,i.trigger("remove",i,this,e)),o.push(i),this._removeReference(i,e)}}return o.length?o:!1},_isModel:function(t){return t instanceof x},_addReference:function(t,e){this._byId[t.cid]=t;var o=this.modelId(t.attributes);null!=o&&(this._byId[o]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var o=this.modelId(t.attributes);null!=o&&delete this._byId[o],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,o,a){if("add"!==t&&"remove"!==t||o===this){if("destroy"===t&&this.remove(e,a),"change"===t){var i=this.modelId(e.previousAttributes()),n=this.modelId(e.attributes);i!==n&&(null!=i&&delete this._byId[i],null!=n&&(this._byId[n]=e))}this.trigger.apply(this,arguments)}}});var I={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};r(q,I,"models");var _=e.View=function(t){this.cid=o.uniqueId("view"),o.extend(this,o.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments);
},k=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];o.extend(_.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=o.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var a=t[e];if(o.isFunction(a)||(a=this[a]),a){var i=e.match(k);this.delegate(i[1],i[2],o.bind(a,this))}}return this},delegate:function(t,e,o){return this.$el.on(t+".delegateEvents"+this.cid,e,o),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,o){return this.$el.off(t+".delegateEvents"+this.cid,e,o),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"));else{var t=o.extend({},o.result(this,"attributes"));this.id&&(t.id=o.result(this,"id")),this.className&&(t["class"]=o.result(this,"className")),this.setElement(this._createElement(o.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,a,i){var n=M[t];o.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:n,dataType:"json"};if(i.url||(s.url=o.result(a,"url")||N()),null!=i.data||!a||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||a.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){s.type="POST",i.emulateJSON&&(s.data._method=n);var r=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",n),r?r.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(t,e,o){i.textStatus=e,i.errorThrown=o,l&&l.call(i.context,t,e,o)};var p=i.xhr=e.ajax(o.extend(s,i));return a.trigger("request",a,p,i),p};var M={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var L=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},H=/\((.*?)\)/g,D=/(\(\?)?:\w+/g,O=/\*\w+/g,V=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(L.prototype,h,{initialize:function(){},route:function(t,a,i){o.isRegExp(t)||(t=this._routeToRegExp(t)),o.isFunction(a)&&(i=a,a=""),i||(i=this[a]);var n=this;return e.history.route(t,function(o){var s=n._extractParameters(t,o);n.execute(i,s,a)!==!1&&(n.trigger.apply(n,["route:"+a].concat(s)),n.trigger("route",a,s),e.history.trigger("route",n,a,s))}),this},execute:function(t,e,o){t&&t.apply(this,e)},navigate:function(t,o){return e.history.navigate(t,o),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var t,e=o.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(V,"\\$&").replace(H,"(?:$1)?").replace(D,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var a=t.exec(e).slice(1);return o.map(a,function(t,e){return e===a.length-1?t||null:t?decodeURIComponent(t):null})}});var F=e.History=function(){this.handlers=[],this.checkUrl=o.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,P=/#.*$/;F.started=!1,o.extend(F.prototype,h,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace($,"")},start:function(t){if(F.started)throw new Error("Backbone.history has already been started");if(F.started=!0,this.options=o.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(A,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var a=document.body,i=a.insertBefore(this.iframe,a.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var n=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?n("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),F.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),o.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!F.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var o=this.root;(""===t||"?"===t.charAt(0))&&(o=o.slice(0,-1)||"/");var a=o+t;if(t=this.decodeFragment(t.replace(P,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,o){if(o){var a=t.href.replace(/(javascript:|#).*$/,"");t.replace(a+"#"+e)}else t.hash="#"+e}}),e.history=new F;var B=function(t,e){var a,i=this;a=t&&o.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},o.extend(a,i,e);var n=function(){this.constructor=a};return n.prototype=i.prototype,a.prototype=new n,t&&o.extend(a.prototype,t),a.__super__=i.prototype,a};x.extend=q.extend=L.extend=_.extend=F.extend=B;var N=function(){throw new Error('A "url" property or function must be specified')},z=function(t,e){var o=e.error;e.error=function(a){o&&o.call(e.context,t,a,e),t.trigger("error",t,a,e)}};return e}),!function(t){var e,o,a="0.4.2",i="hasOwnProperty",n=/[\.\/]/,s="*",r=function(){},l=function(t,e){return t-e},p={n:{}},h=function(t,a){t=String(t);var i,n=o,s=Array.prototype.slice.call(arguments,2),r=h.listeners(t),p=0,u=[],c={},d=[],g=e;e=t,o=0;for(var m=0,f=r.length;f>m;m++)"zIndex"in r[m]&&(u.push(r[m].zIndex),r[m].zIndex<0&&(c[r[m].zIndex]=r[m]));for(u.sort(l);u[p]<0;)if(i=c[u[p++]],d.push(i.apply(a,s)),o)return o=n,d;for(m=0;f>m;m++)if(i=r[m],"zIndex"in i)if(i.zIndex==u[p]){if(d.push(i.apply(a,s)),o)break;do if(p++,i=c[u[p]],i&&d.push(i.apply(a,s)),o)break;while(i)}else c[i.zIndex]=i;else if(d.push(i.apply(a,s)),o)break;return o=n,e=g,d.length?d:null};h._events=p,h.listeners=function(t){var e,o,a,i,r,l,h,u,c=t.split(n),d=p,g=[d],m=[];for(i=0,r=c.length;r>i;i++){for(u=[],l=0,h=g.length;h>l;l++)for(d=g[l].n,o=[d[c[i]],d[s]],a=2;a--;)e=o[a],e&&(u.push(e),m=m.concat(e.f||[]));g=u}return m},h.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var o=t.split(n),a=p,i=0,s=o.length;s>i;i++)a=a.n,a=a.hasOwnProperty(o[i])&&a[o[i]]||(a[o[i]]={n:{}});for(a.f=a.f||[],i=0,s=a.f.length;s>i;i++)if(a.f[i]==e)return r;return a.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},h.f=function(t){var e=[].slice.call(arguments,1);return function(){h.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},h.stop=function(){o=1},h.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},h.nts=function(){return e.split(n)},h.off=h.unbind=function(t,e){if(!t)return void(h._events=p={n:{}});var o,a,r,l,u,c,d,g=t.split(n),m=[p];for(l=0,u=g.length;u>l;l++)for(c=0;c<m.length;c+=r.length-2){if(r=[c,1],o=m[c].n,g[l]!=s)o[g[l]]&&r.push(o[g[l]]);else for(a in o)o[i](a)&&r.push(o[a]);m.splice.apply(m,r)}for(l=0,u=m.length;u>l;l++)for(o=m[l];o.n;){if(e){if(o.f){for(c=0,d=o.f.length;d>c;c++)if(o.f[c]==e){o.f.splice(c,1);break}!o.f.length&&delete o.f}for(a in o.n)if(o.n[i](a)&&o.n[a].f){var f=o.n[a].f;for(c=0,d=f.length;d>c;c++)if(f[c]==e){f.splice(c,1);break}!f.length&&delete o.n[a].f}}else{delete o.f;for(a in o.n)o.n[i](a)&&o.n[a].f&&delete o.n[a].f}o=o.n}},h.once=function(t,e){var o=function(){return h.unbind(t,o),e.apply(this,arguments)};return h.on(t,o)},h.version=a,h.toString=function(){return"You are running Eve "+a},"undefined"!=typeof module&&module.exports?module.exports=h:"undefined"!=typeof define?define("eve",[],function(){return h}):t.eve=h}(window||this),function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(o){return e(t,o)}):e(t,t.eve||"function"==typeof require&&require("eve"))}(this,function(t,e){function o(t){if(o.is(t,"function"))return y?t():e.on("raphael.DOMload",t);if(o.is(t,R))return o._engine.create[M](o,t.splice(0,3+o.is(t[0],Z))).add(t);var a=Array.prototype.slice.call(arguments,0);if(o.is(a[a.length-1],"function")){var i=a.pop();return y?i.call(o._engine.create[M](o,a)):e.on("raphael.DOMload",function(){i.call(o._engine.create[M](o,a))})}return o._engine.create[M](o,arguments)}function a(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var o in t)t[I](o)&&(e[o]=a(t[o]));return e}function i(t,e){for(var o=0,a=t.length;a>o;o++)if(t[o]===e)return t.push(t.splice(o,1)[0])}function n(t,e,o){function a(){var n=Array.prototype.slice.call(arguments,0),s=n.join("â"),r=a.cache=a.cache||{},l=a.count=a.count||[];return r[I](s)?(i(l,s),o?o(r[s]):r[s]):(l.length>=1e3&&delete r[l.shift()],l.push(s),r[s]=t[M](e,n),o?o(r[s]):r[s])}return a}function s(){return this.hex}function r(t,e){for(var o=[],a=0,i=t.length;i-2*!e>a;a+=2){var n=[{x:+t[a-2],y:+t[a-1]},{x:+t[a],y:+t[a+1]},{x:+t[a+2],y:+t[a+3]},{x:+t[a+4],y:+t[a+5]}];e?a?i-4==a?n[3]={x:+t[0],y:+t[1]}:i-2==a&&(n[2]={x:+t[0],y:+t[1]},n[3]={x:+t[2],y:+t[3]}):n[0]={x:+t[i-2],y:+t[i-1]}:i-4==a?n[3]=n[2]:a||(n[0]={x:+t[a],y:+t[a+1]}),o.push(["C",(-n[0].x+6*n[1].x+n[2].x)/6,(-n[0].y+6*n[1].y+n[2].y)/6,(n[1].x+6*n[2].x-n[3].x)/6,(n[1].y+6*n[2].y-n[3].y)/6,n[2].x,n[2].y])}return o}function l(t,e,o,a,i){var n=-3*e+9*o-9*a+3*i,s=t*n+6*e-12*o+6*a;return t*s-3*e+3*o}function p(t,e,o,a,i,n,s,r,p){null==p&&(p=1),p=p>1?1:0>p?0:p;for(var h=p/2,u=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0,m=0;u>m;m++){var f=h*c[m]+h,b=l(f,t,o,i,s),v=l(f,e,a,n,r),x=b*b+v*v;g+=d[m]*B.sqrt(x)}return h*g}function h(t,e,o,a,i,n,s,r,l){if(!(0>l||p(t,e,o,a,i,n,s,r)<l)){var h,u=1,c=u/2,d=u-c,g=.01;for(h=p(t,e,o,a,i,n,s,r,d);G(h-l)>g;)c/=2,d+=(l>h?1:-1)*c,h=p(t,e,o,a,i,n,s,r,d);return d}}function u(t,e,o,a,i,n,s,r){if(!(N(t,o)<z(i,s)||z(t,o)>N(i,s)||N(e,a)<z(n,r)||z(e,a)>N(n,r))){var l=(t*a-e*o)*(i-s)-(t-o)*(i*r-n*s),p=(t*a-e*o)*(n-r)-(e-a)*(i*r-n*s),h=(t-o)*(n-r)-(e-a)*(i-s);if(h){var u=l/h,c=p/h,d=+u.toFixed(2),g=+c.toFixed(2);if(!(d<+z(t,o).toFixed(2)||d>+N(t,o).toFixed(2)||d<+z(i,s).toFixed(2)||d>+N(i,s).toFixed(2)||g<+z(e,a).toFixed(2)||g>+N(e,a).toFixed(2)||g<+z(n,r).toFixed(2)||g>+N(n,r).toFixed(2)))return{x:u,y:c}}}}function c(t,e,a){var i=o.bezierBBox(t),n=o.bezierBBox(e);if(!o.isBBoxIntersect(i,n))return a?0:[];for(var s=p.apply(0,t),r=p.apply(0,e),l=N(~~(s/5),1),h=N(~~(r/5),1),c=[],d=[],g={},m=a?0:[],f=0;l+1>f;f++){var b=o.findDotsAtSegment.apply(o,t.concat(f/l));c.push({x:b.x,y:b.y,t:f/l})}for(f=0;h+1>f;f++)b=o.findDotsAtSegment.apply(o,e.concat(f/h)),d.push({x:b.x,y:b.y,t:f/h});for(f=0;l>f;f++)for(var v=0;h>v;v++){var x=c[f],y=c[f+1],q=d[v],w=d[v+1],S=G(y.x-x.x)<.001?"y":"x",C=G(w.x-q.x)<.001?"y":"x",I=u(x.x,x.y,y.x,y.y,q.x,q.y,w.x,w.y);if(I){if(g[I.x.toFixed(4)]==I.y.toFixed(4))continue;g[I.x.toFixed(4)]=I.y.toFixed(4);var _=x.t+G((I[S]-x[S])/(y[S]-x[S]))*(y.t-x.t),k=q.t+G((I[C]-q[C])/(w[C]-q[C]))*(w.t-q.t);_>=0&&1.001>=_&&k>=0&&1.001>=k&&(a?m++:m.push({x:I.x,y:I.y,t1:z(_,1),t2:z(k,1)}))}}return m}function d(t,e,a){t=o._path2curve(t),e=o._path2curve(e);for(var i,n,s,r,l,p,h,u,d,g,m=a?0:[],f=0,b=t.length;b>f;f++){var v=t[f];if("M"==v[0])i=l=v[1],n=p=v[2];else{"C"==v[0]?(d=[i,n].concat(v.slice(1)),i=d[6],n=d[7]):(d=[i,n,i,n,l,p,l,p],i=l,n=p);for(var x=0,y=e.length;y>x;x++){var q=e[x];if("M"==q[0])s=h=q[1],r=u=q[2];else{"C"==q[0]?(g=[s,r].concat(q.slice(1)),s=g[6],r=g[7]):(g=[s,r,s,r,h,u,h,u],s=h,r=u);var w=c(d,g,a);if(a)m+=w;else{for(var S=0,C=w.length;C>S;S++)w[S].segment1=f,w[S].segment2=x,w[S].bez1=d,w[S].bez2=g;m=m.concat(w)}}}}}return m}function g(t,e,o,a,i,n){null!=t?(this.a=+t,this.b=+e,this.c=+o,this.d=+a,this.e=+i,this.f=+n):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+O+this.y+O+this.width+" Ã "+this.height}function f(t,e,o,a,i,n){function s(t){return((u*t+h)*t+p)*t}function r(t,e){var o=l(t,e);return((g*o+d)*o+c)*o}function l(t,e){var o,a,i,n,r,l;for(i=t,l=0;8>l;l++){if(n=s(i)-t,G(n)<e)return i;if(r=(3*u*i+2*h)*i+p,G(r)<1e-6)break;i-=n/r}if(o=0,a=1,i=t,o>i)return o;if(i>a)return a;for(;a>o;){if(n=s(i),G(n-t)<e)return i;t>n?o=i:a=i,i=(a-o)/2+o}return i}var p=3*e,h=3*(a-e)-p,u=1-p-h,c=3*o,d=3*(i-o)-c,g=1-c-d;return r(t,1/(200*n))}function b(t,e){var o=[],a={};if(this.ms=e,this.times=1,t){for(var i in t)t[I](i)&&(a[K(i)]=t[i],o.push(K(i)));o.sort(ut)}this.anim=a,this.top=o[o.length-1],this.percents=o}function v(t,a,i,n,s,r){i=K(i);var l,p,h,u,c,d,m=t.ms,b={},v={},x={};if(n)for(q=0,S=le.length;S>q;q++){var y=le[q];if(y.el.id==a.id&&y.anim==t){y.percent!=i?(le.splice(q,1),h=1):p=y,a.attr(y.totalOrigin);break}}else n=+v;for(var q=0,S=t.percents.length;S>q;q++){if(t.percents[q]==i||t.percents[q]>n*t.top){i=t.percents[q],c=t.percents[q-1]||0,m=m/t.top*(i-c),u=t.percents[q+1],l=t.anim[i];break}n&&a.attr(t.anim[t.percents[q]])}if(l){if(p)p.initstatus=n,p.start=new Date-p.ms*n;else{for(var C in l)if(l[I](C)&&(at[I](C)||a.paper.customAttributes[I](C)))switch(b[C]=a.attr(C),null==b[C]&&(b[C]=ot[C]),v[C]=l[C],at[C]){case Z:x[C]=(v[C]-b[C])/m;break;case"colour":b[C]=o.getRGB(b[C]);var _=o.getRGB(v[C]);x[C]={r:(_.r-b[C].r)/m,g:(_.g-b[C].g)/m,b:(_.b-b[C].b)/m};break;case"path":var k=$t(b[C],v[C]),T=k[1];for(b[C]=k[0],x[C]=[],q=0,S=b[C].length;S>q;q++){x[C][q]=[0];for(var M=1,H=b[C][q].length;H>M;M++)x[C][q][M]=(T[q][M]-b[C][q][M])/m}break;case"transform":var D=a._,O=zt(D[C],v[C]);if(O)for(b[C]=O.from,v[C]=O.to,x[C]=[],x[C].real=!0,q=0,S=b[C].length;S>q;q++)for(x[C][q]=[b[C][q][0]],M=1,H=b[C][q].length;H>M;M++)x[C][q][M]=(v[C][q][M]-b[C][q][M])/m;else{var $=a.matrix||new g,A={_:{transform:D.transform},getBBox:function(){return a.getBBox(1)}};b[C]=[$.a,$.b,$.c,$.d,$.e,$.f],Bt(A,v[C]),v[C]=A._.transform,x[C]=[(A.matrix.a-$.a)/m,(A.matrix.b-$.b)/m,(A.matrix.c-$.c)/m,(A.matrix.d-$.d)/m,(A.matrix.e-$.e)/m,(A.matrix.f-$.f)/m]}break;case"csv":var P=V(l[C])[F](w),B=V(b[C])[F](w);if("clip-rect"==C)for(b[C]=B,x[C]=[],q=B.length;q--;)x[C][q]=(P[q]-b[C][q])/m;v[C]=P;break;default:for(P=[][L](l[C]),B=[][L](b[C]),x[C]=[],q=a.paper.customAttributes[C].length;q--;)x[C][q]=((P[q]||0)-(B[q]||0))/m}var N=l.easing,z=o.easing_formulas[N];if(!z)if(z=V(N).match(Q),z&&5==z.length){var G=z;z=function(t){return f(t,+G[1],+G[2],+G[3],+G[4],m)}}else z=dt;if(d=l.start||t.start||+new Date,y={anim:t,percent:i,timestamp:d,start:d+(t.del||0),status:0,initstatus:n||0,stop:!1,ms:m,easing:z,from:b,diff:x,to:v,el:a,callback:l.callback,prev:c,next:u,repeat:r||t.times,origin:a.attr(),totalOrigin:s},le.push(y),n&&!p&&!h&&(y.stop=!0,y.start=new Date-m*n,1==le.length))return he();h&&(y.start=new Date-y.ms*n),1==le.length&&pe(he)}e("raphael.anim.start."+a.id,a,t)}}function x(t){for(var e=0;e<le.length;e++)le[e].el.paper==t&&le.splice(e--,1)}o.version="2.1.2",o.eve=e;var y,q,w=/[, ]+/,S={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},C=/\{(\d+)\}/g,I="hasOwnProperty",_={doc:document,win:t},k={was:Object.prototype[I].call(_.win,"Raphael"),is:_.win.Raphael},T=function(){this.ca=this.customAttributes={}},M="apply",L="concat",H="ontouchstart"in _.win||_.win.DocumentTouch&&_.doc instanceof DocumentTouch,D="",O=" ",V=String,F="split",$="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[F](O),A={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},P=V.prototype.toLowerCase,B=Math,N=B.max,z=B.min,G=B.abs,W=B.pow,j=B.PI,Z="number",E="string",R="array",Y=Object.prototype.toString,U=(o._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),X={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,J=B.round,K=parseFloat,tt=parseInt,et=V.prototype.toUpperCase,ot=o._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},at=o._availableAnimAttrs={blur:Z,"clip-rect":"csv",cx:Z,cy:Z,fill:"colour","fill-opacity":Z,"font-size":Z,height:Z,opacity:Z,path:"path",r:Z,rx:Z,ry:Z,stroke:"colour","stroke-opacity":Z,"stroke-width":Z,transform:"transform",width:Z,x:Z,y:Z},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,nt={hs:1,rg:1},st=/,?([achlmqrstvxz]),?/gi,rt=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ht=(o._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return K(t)-K(e)},ct=function(){},dt=function(t){return t},gt=o._rectPath=function(t,e,o,a,i){return i?[["M",t+i,e],["l",o-2*i,0],["a",i,i,0,0,1,i,i],["l",0,a-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-o,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-a],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",o,0],["l",0,a],["l",-o,0],["z"]]},mt=function(t,e,o,a){return null==a&&(a=o),[["M",t,e],["m",0,-a],["a",o,a,0,1,1,0,2*a],["a",o,a,0,1,1,0,-2*a],["z"]]},ft=o._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return mt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return mt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return gt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return gt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return gt(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return gt(e.x,e.y,e.width,e.height)}},bt=o.mapPath=function(t,e){if(!e)return t;var o,a,i,n,s,r,l;for(t=$t(t),i=0,s=t.length;s>i;i++)for(l=t[i],n=1,r=l.length;r>n;n+=2)o=e.x(l[n],l[n+1]),a=e.y(l[n],l[n+1]),l[n]=o,l[n+1]=a;return t};if(o._g=_,o.type=_.win.SVGAngle||_.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==o.type){var vt,xt=_.doc.createElement("div");if(xt.innerHTML='<v:shape adj="1"/>',vt=xt.firstChild,vt.style.behavior="url(#default#VML)",!vt||"object"!=typeof vt.adj)return o.type=D;xt=null}o.svg=!(o.vml="VML"==o.type),o._Paper=T,o.fn=q=T.prototype=o.prototype,o._id=0,o._oid=0,o.is=function(t,e){return e=P.call(e),"finite"==e?!X[I](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||Y.call(t).slice(8,-1).toLowerCase()==e},o.angle=function(t,e,a,i,n,s){if(null==n){var r=t-a,l=e-i;return r||l?(180+180*B.atan2(-l,-r)/j+360)%360:0}return o.angle(t,e,n,s)-o.angle(a,i,n,s)},o.rad=function(t){return t%360*j/180},o.deg=function(t){return Math.round(180*t/j%360*1e3)/1e3},o.snapTo=function(t,e,a){if(a=o.is(a,"finite")?a:10,o.is(t,R)){for(var i=t.length;i--;)if(G(t[i]-e)<=a)return t[i]}else{t=+t;var n=e%t;if(a>n)return e-n;if(n>t-a)return e-n+t}return e},o.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*B.random()|0,o="x"==t?e:3&e|8;return o.toString(16)}),o.setWindow=function(t){e("raphael.setWindow",o,_.win,t),_.win=t,_.doc=_.win.document,o._engine.initWin&&o._engine.initWin(_.win)};var yt=function(t){if(o.vml){var e,a=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),e=i.body}catch(s){e=createPopup().document.body}var r=e.createTextRange();yt=n(function(t){try{e.style.color=V(t).replace(a,D);var o=r.queryCommandValue("ForeColor");return o=(255&o)<<16|65280&o|(16711680&o)>>>16,"#"+("000000"+o.toString(16)).slice(-6)}catch(i){return"none"}})}else{var l=_.doc.createElement("i");l.title="RaphaÃ«l Colour Picker",l.style.display="none",_.doc.body.appendChild(l),yt=n(function(t){return l.style.color=t,_.doc.defaultView.getComputedStyle(l,D).getPropertyValue("color")})}return yt(t)},qt=function(){return"hsb("+[this.h,this.s,this.b]+")"},wt=function(){return"hsl("+[this.h,this.s,this.l]+")"},St=function(){return this.hex},Ct=function(t,e,a){if(null==e&&o.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(a=t.b,e=t.g,t=t.r),null==e&&o.is(t,E)){var i=o.getRGB(t);t=i.r,e=i.g,a=i.b}return(t>1||e>1||a>1)&&(t/=255,e/=255,a/=255),[t,e,a]},It=function(t,e,a,i){t*=255,e*=255,a*=255;var n={r:t,g:e,b:a,hex:o.rgb(t,e,a),toString:St};return o.is(i,"finite")&&(n.opacity=i),n};o.color=function(t){var e;return o.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=o.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):o.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=o.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(o.is(t,"string")&&(t=o.getRGB(t)),o.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=o.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=o.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=St,t},o.hsb2rgb=function(t,e,o,a){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(o=t.b,e=t.s,a=t.o,t=t.h),t*=360;var i,n,s,r,l;return t=t%360/60,l=o*e,r=l*(1-G(t%2-1)),i=n=s=o-l,t=~~t,i+=[l,r,0,0,r,l][t],n+=[r,l,l,r,0,0][t],s+=[0,0,r,l,l,r][t],It(i,n,s,a)},o.hsl2rgb=function(t,e,o,a){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(o=t.l,e=t.s,t=t.h),(t>1||e>1||o>1)&&(t/=360,e/=100,o/=100),t*=360;var i,n,s,r,l;return t=t%360/60,l=2*e*(.5>o?o:1-o),r=l*(1-G(t%2-1)),i=n=s=o-l/2,t=~~t,i+=[l,r,0,0,r,l][t],n+=[r,l,l,r,0,0][t],s+=[0,0,r,l,l,r][t],It(i,n,s,a)},o.rgb2hsb=function(t,e,o){o=Ct(t,e,o),t=o[0],e=o[1],o=o[2];var a,i,n,s;return n=N(t,e,o),s=n-z(t,e,o),a=0==s?null:n==t?(e-o)/s:n==e?(o-t)/s+2:(t-e)/s+4,a=(a+360)%6*60/360,i=0==s?0:s/n,{h:a,s:i,b:n,toString:qt}},o.rgb2hsl=function(t,e,o){o=Ct(t,e,o),t=o[0],e=o[1],o=o[2];var a,i,n,s,r,l;return s=N(t,e,o),r=z(t,e,o),l=s-r,a=0==l?null:s==t?(e-o)/l:s==e?(o-t)/l+2:(t-e)/l+4,a=(a+360)%6*60/360,n=(s+r)/2,i=0==l?0:.5>n?l/(2*n):l/(2-2*n),{h:a,s:i,l:n,toString:wt}},o._path2string=function(){return this.join(",").replace(st,"$1")},o._preload=function(t,e){var o=_.doc.createElement("img");o.style.cssText="position:absolute;left:-9999em;top:-9999em",o.onload=function(){e.call(this),this.onload=null,_.doc.body.removeChild(this)},o.onerror=function(){_.doc.body.removeChild(this)},_.doc.body.appendChild(o),o.src=t},o.getRGB=n(function(t){if(!t||(t=V(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:s};!(nt[I](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=yt(t));var e,a,i,n,r,l,p=t.match(U);return p?(p[2]&&(i=tt(p[2].substring(5),16),a=tt(p[2].substring(3,5),16),e=tt(p[2].substring(1,3),16)),p[3]&&(i=tt((r=p[3].charAt(3))+r,16),a=tt((r=p[3].charAt(2))+r,16),e=tt((r=p[3].charAt(1))+r,16)),p[4]&&(l=p[4][F](it),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),a=K(l[1]),"%"==l[1].slice(-1)&&(a*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),"rgba"==p[1].toLowerCase().slice(0,4)&&(n=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100)),p[5]?(l=p[5][F](it),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),a=K(l[1]),"%"==l[1].slice(-1)&&(a*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"Â°"==l[0].slice(-1))&&(e/=360),"hsba"==p[1].toLowerCase().slice(0,4)&&(n=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100),o.hsb2rgb(e,a,i,n)):p[6]?(l=p[6][F](it),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),a=K(l[1]),"%"==l[1].slice(-1)&&(a*=2.55),i=K(l[2]),"%"==l[2].slice(-1)&&(i*=2.55),("deg"==l[0].slice(-3)||"Â°"==l[0].slice(-1))&&(e/=360),"hsla"==p[1].toLowerCase().slice(0,4)&&(n=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100),o.hsl2rgb(e,a,i,n)):(p={r:e,g:a,b:i,toString:s},p.hex="#"+(16777216|i|a<<8|e<<16).toString(16).slice(1),o.is(n,"finite")&&(p.opacity=n),p)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:s}},o),o.hsb=n(function(t,e,a){return o.hsb2rgb(t,e,a).hex}),o.hsl=n(function(t,e,a){return o.hsl2rgb(t,e,a).hex}),o.rgb=n(function(t,e,o){return"#"+(16777216|o|e<<8|t<<16).toString(16).slice(1)}),o.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},o=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),o.hex},o.getColor.reset=function(){delete this.start},o.parsePathString=function(t){if(!t)return null;var e=_t(t);if(e.arr)return Tt(e.arr);var a={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return o.is(t,R)&&o.is(t[0],R)&&(i=Tt(t)),i.length||V(t).replace(rt,function(t,e,o){var n=[],s=e.toLowerCase();if(o.replace(pt,function(t,e){e&&n.push(+e)}),"m"==s&&n.length>2&&(i.push([e][L](n.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)i.push([e][L](n));else for(;n.length>=a[s]&&(i.push([e][L](n.splice(0,a[s]))),a[s]););}),i.toString=o._path2string,e.arr=Tt(i),i},o.parseTransformString=n(function(t){if(!t)return null;var e=[];return o.is(t,R)&&o.is(t[0],R)&&(e=Tt(t)),e.length||V(t).replace(lt,function(t,o,a){var i=[];P.call(o),a.replace(pt,function(t,e){e&&i.push(+e)}),e.push([o][L](i))}),e.toString=o._path2string,e});var _t=function(t){var e=_t.ps=_t.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var o in e)e[I](o)&&o!=t&&(e[o].sleep--,!e[o].sleep&&delete e[o])}),e[t]};o.findDotsAtSegment=function(t,e,o,a,i,n,s,r,l){var p=1-l,h=W(p,3),u=W(p,2),c=l*l,d=c*l,g=h*t+3*u*l*o+3*p*l*l*i+d*s,m=h*e+3*u*l*a+3*p*l*l*n+d*r,f=t+2*l*(o-t)+c*(i-2*o+t),b=e+2*l*(a-e)+c*(n-2*a+e),v=o+2*l*(i-o)+c*(s-2*i+o),x=a+2*l*(n-a)+c*(r-2*n+a),y=p*t+l*o,q=p*e+l*a,w=p*i+l*s,S=p*n+l*r,C=90-180*B.atan2(f-v,b-x)/j;return(f>v||x>b)&&(C+=180),{x:g,y:m,m:{x:f,y:b},n:{x:v,y:x},start:{x:y,y:q},end:{x:w,y:S},alpha:C}},o.bezierBBox=function(t,e,a,i,n,s,r,l){o.is(t,"array")||(t=[t,e,a,i,n,s,r,l]);var p=Ft.apply(null,t);return{x:p.min.x,y:p.min.y,x2:p.max.x,y2:p.max.y,width:p.max.x-p.min.x,height:p.max.y-p.min.y}},o.isPointInsideBBox=function(t,e,o){return e>=t.x&&e<=t.x2&&o>=t.y&&o<=t.y2},o.isBBoxIntersect=function(t,e){var a=o.isPointInsideBBox;return a(e,t.x,t.y)||a(e,t.x2,t.y)||a(e,t.x,t.y2)||a(e,t.x2,t.y2)||a(t,e.x,e.y)||a(t,e.x2,e.y)||a(t,e.x,e.y2)||a(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},o.pathIntersection=function(t,e){return d(t,e)},o.pathIntersectionNumber=function(t,e){return d(t,e,1)},o.isPointInsidePath=function(t,e,a){var i=o.pathBBox(t);return o.isPointInsideBBox(i,e,a)&&d(t,[["M",e,a],["H",i.x2+10]],1)%2==1},o._removedFactory=function(t){return function(){e("raphael.log",null,"RaphaÃ«l: you are calling to method â"+t+"â of removed object",t)}};var kt=o.pathBBox=function(t){var e=_t(t);if(e.bbox)return a(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=$t(t);for(var o,i=0,n=0,s=[],r=[],l=0,p=t.length;p>l;l++)if(o=t[l],"M"==o[0])i=o[1],n=o[2],s.push(i),r.push(n);else{var h=Ft(i,n,o[1],o[2],o[3],o[4],o[5],o[6]);s=s[L](h.min.x,h.max.x),r=r[L](h.min.y,h.max.y),i=o[5],n=o[6]}var u=z[M](0,s),c=z[M](0,r),d=N[M](0,s),g=N[M](0,r),m=d-u,f=g-c,b={x:u,y:c,x2:d,y2:g,width:m,height:f,cx:u+m/2,cy:c+f/2};
return e.bbox=a(b),b},Tt=function(t){var e=a(t);return e.toString=o._path2string,e},Mt=o._pathToRelative=function(t){var e=_t(t);if(e.rel)return Tt(e.rel);o.is(t,R)&&o.is(t&&t[0],R)||(t=o.parsePathString(t));var a=[],i=0,n=0,s=0,r=0,l=0;"M"==t[0][0]&&(i=t[0][1],n=t[0][2],s=i,r=n,l++,a.push(["M",i,n]));for(var p=l,h=t.length;h>p;p++){var u=a[p]=[],c=t[p];if(c[0]!=P.call(c[0]))switch(u[0]=P.call(c[0]),u[0]){case"a":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]-i).toFixed(3),u[7]=+(c[7]-n).toFixed(3);break;case"v":u[1]=+(c[1]-n).toFixed(3);break;case"m":s=c[1],r=c[2];default:for(var d=1,g=c.length;g>d;d++)u[d]=+(c[d]-(d%2?i:n)).toFixed(3)}else{u=a[p]=[],"m"==c[0]&&(s=c[1]+i,r=c[2]+n);for(var m=0,f=c.length;f>m;m++)a[p][m]=c[m]}var b=a[p].length;switch(a[p][0]){case"z":i=s,n=r;break;case"h":i+=+a[p][b-1];break;case"v":n+=+a[p][b-1];break;default:i+=+a[p][b-2],n+=+a[p][b-1]}}return a.toString=o._path2string,e.rel=Tt(a),a},Lt=o._pathToAbsolute=function(t){var e=_t(t);if(e.abs)return Tt(e.abs);if(o.is(t,R)&&o.is(t&&t[0],R)||(t=o.parsePathString(t)),!t||!t.length)return[["M",0,0]];var a=[],i=0,n=0,s=0,l=0,p=0;"M"==t[0][0]&&(i=+t[0][1],n=+t[0][2],s=i,l=n,p++,a[0]=["M",i,n]);for(var h,u,c=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=p,g=t.length;g>d;d++){if(a.push(h=[]),u=t[d],u[0]!=et.call(u[0]))switch(h[0]=et.call(u[0]),h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+i),h[7]=+(u[7]+n);break;case"V":h[1]=+u[1]+n;break;case"H":h[1]=+u[1]+i;break;case"R":for(var m=[i,n][L](u.slice(1)),f=2,b=m.length;b>f;f++)m[f]=+m[f]+i,m[++f]=+m[f]+n;a.pop(),a=a[L](r(m,c));break;case"M":s=+u[1]+i,l=+u[2]+n;default:for(f=1,b=u.length;b>f;f++)h[f]=+u[f]+(f%2?i:n)}else if("R"==u[0])m=[i,n][L](u.slice(1)),a.pop(),a=a[L](r(m,c)),h=["R"][L](u.slice(-2));else for(var v=0,x=u.length;x>v;v++)h[v]=u[v];switch(h[0]){case"Z":i=s,n=l;break;case"H":i=h[1];break;case"V":n=h[1];break;case"M":s=h[h.length-2],l=h[h.length-1];default:i=h[h.length-2],n=h[h.length-1]}}return a.toString=o._path2string,e.abs=Tt(a),a},Ht=function(t,e,o,a){return[t,e,o,a,o,a]},Dt=function(t,e,o,a,i,n){var s=1/3,r=2/3;return[s*t+r*o,s*e+r*a,s*i+r*o,s*n+r*a,i,n]},Ot=function(t,e,o,a,i,s,r,l,p,h){var u,c=120*j/180,d=j/180*(+i||0),g=[],m=n(function(t,e,o){var a=t*B.cos(o)-e*B.sin(o),i=t*B.sin(o)+e*B.cos(o);return{x:a,y:i}});if(h)C=h[0],I=h[1],w=h[2],S=h[3];else{u=m(t,e,-d),t=u.x,e=u.y,u=m(l,p,-d),l=u.x,p=u.y;var f=(B.cos(j/180*i),B.sin(j/180*i),(t-l)/2),b=(e-p)/2,v=f*f/(o*o)+b*b/(a*a);v>1&&(v=B.sqrt(v),o=v*o,a=v*a);var x=o*o,y=a*a,q=(s==r?-1:1)*B.sqrt(G((x*y-x*b*b-y*f*f)/(x*b*b+y*f*f))),w=q*o*b/a+(t+l)/2,S=q*-a*f/o+(e+p)/2,C=B.asin(((e-S)/a).toFixed(9)),I=B.asin(((p-S)/a).toFixed(9));C=w>t?j-C:C,I=w>l?j-I:I,0>C&&(C=2*j+C),0>I&&(I=2*j+I),r&&C>I&&(C-=2*j),!r&&I>C&&(I-=2*j)}var _=I-C;if(G(_)>c){var k=I,T=l,M=p;I=C+c*(r&&I>C?1:-1),l=w+o*B.cos(I),p=S+a*B.sin(I),g=Ot(l,p,o,a,i,0,r,T,M,[I,k,w,S])}_=I-C;var H=B.cos(C),D=B.sin(C),O=B.cos(I),V=B.sin(I),$=B.tan(_/4),A=4/3*o*$,P=4/3*a*$,N=[t,e],z=[t+A*D,e-P*H],W=[l+A*V,p-P*O],Z=[l,p];if(z[0]=2*N[0]-z[0],z[1]=2*N[1]-z[1],h)return[z,W,Z][L](g);g=[z,W,Z][L](g).join()[F](",");for(var E=[],R=0,Y=g.length;Y>R;R++)E[R]=R%2?m(g[R-1],g[R],d).y:m(g[R],g[R+1],d).x;return E},Vt=function(t,e,o,a,i,n,s,r,l){var p=1-l;return{x:W(p,3)*t+3*W(p,2)*l*o+3*p*l*l*i+W(l,3)*s,y:W(p,3)*e+3*W(p,2)*l*a+3*p*l*l*n+W(l,3)*r}},Ft=n(function(t,e,o,a,i,n,s,r){var l,p=i-2*o+t-(s-2*i+o),h=2*(o-t)-2*(i-o),u=t-o,c=(-h+B.sqrt(h*h-4*p*u))/2/p,d=(-h-B.sqrt(h*h-4*p*u))/2/p,g=[e,r],m=[t,s];return G(c)>"1e12"&&(c=.5),G(d)>"1e12"&&(d=.5),c>0&&1>c&&(l=Vt(t,e,o,a,i,n,s,r,c),m.push(l.x),g.push(l.y)),d>0&&1>d&&(l=Vt(t,e,o,a,i,n,s,r,d),m.push(l.x),g.push(l.y)),p=n-2*a+e-(r-2*n+a),h=2*(a-e)-2*(n-a),u=e-a,c=(-h+B.sqrt(h*h-4*p*u))/2/p,d=(-h-B.sqrt(h*h-4*p*u))/2/p,G(c)>"1e12"&&(c=.5),G(d)>"1e12"&&(d=.5),c>0&&1>c&&(l=Vt(t,e,o,a,i,n,s,r,c),m.push(l.x),g.push(l.y)),d>0&&1>d&&(l=Vt(t,e,o,a,i,n,s,r,d),m.push(l.x),g.push(l.y)),{min:{x:z[M](0,m),y:z[M](0,g)},max:{x:N[M](0,m),y:N[M](0,g)}}}),$t=o._path2curve=n(function(t,e){var o=!e&&_t(t);if(!e&&o.curve)return Tt(o.curve);for(var a=Lt(t),i=e&&Lt(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=(function(t,e,o){var a,i,n={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in n)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][L](Ot[M](0,[e.x,e.y][L](t.slice(1))));break;case"S":"C"==o||"S"==o?(a=2*e.x-e.bx,i=2*e.y-e.by):(a=e.x,i=e.y),t=["C",a,i][L](t.slice(1));break;case"T":"Q"==o||"T"==o?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][L](Dt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][L](Dt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][L](Ht(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][L](Ht(e.x,e.y,t[1],e.y));break;case"V":t=["C"][L](Ht(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][L](Ht(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)h[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"][L](o.splice(0,6)));t.splice(e,1),m=N(a.length,i&&i.length||0)}},p=function(t,e,o,n,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",n.x,n.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],m=N(a.length,i&&i.length||0))},h=[],u=[],c="",d="",g=0,m=N(a.length,i&&i.length||0);m>g;g++){a[g]&&(c=a[g][0]),"C"!=c&&(h[g]=c,g&&(d=h[g-1])),a[g]=r(a[g],n,d),"A"!=h[g]&&"C"==c&&(h[g]="C"),l(a,g),i&&(i[g]&&(c=i[g][0]),"C"!=c&&(u[g]=c,g&&(d=u[g-1])),i[g]=r(i[g],s,d),"A"!=u[g]&&"C"==c&&(u[g]="C"),l(i,g)),p(a,i,n,s,g),p(i,a,s,n,g);var f=a[g],b=i&&i[g],v=f.length,x=i&&b.length;n.x=f[v-2],n.y=f[v-1],n.bx=K(f[v-4])||n.x,n.by=K(f[v-3])||n.y,s.bx=i&&(K(b[x-4])||s.x),s.by=i&&(K(b[x-3])||s.y),s.x=i&&b[x-2],s.y=i&&b[x-1]}return i||(o.curve=Tt(a)),i?[a,i]:a},null,Tt),At=(o._parseDots=n(function(t){for(var e=[],a=0,i=t.length;i>a;a++){var n={},s=t[a].match(/^([^:]*):?([\d\.]*)/);if(n.color=o.getRGB(s[1]),n.color.error)return null;n.color=n.color.hex,s[2]&&(n.offset=s[2]+"%"),e.push(n)}for(a=1,i=e.length-1;i>a;a++)if(!e[a].offset){for(var r=K(e[a-1].offset||0),l=0,p=a+1;i>p;p++)if(e[p].offset){l=e[p].offset;break}l||(l=100,p=i),l=K(l);for(var h=(l-r)/(p-a+1);p>a;a++)r+=h,e[a].offset=r+"%"}return e}),o._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Pt=(o._tofront=function(t,e){e.top!==t&&(At(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},o._toback=function(t,e){e.bottom!==t&&(At(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},o._insertafter=function(t,e,o){At(t,o),e==o.top&&(o.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},o._insertbefore=function(t,e,o){At(t,o),e==o.bottom&&(o.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},o.toMatrix=function(t,e){var o=kt(t),a={_:{transform:D},getBBox:function(){return o}};return Bt(a,e),a.matrix}),Bt=(o.transformPath=function(t,e){return bt(t,Pt(t,e))},o._extractTransform=function(t,e){if(null==e)return t._.transform;e=V(e).replace(/\.{3}|\u2026/g,t._.transform||D);var a=o.parseTransformString(e),i=0,n=0,s=0,r=1,l=1,p=t._,h=new g;if(p.transform=a||[],a)for(var u=0,c=a.length;c>u;u++){var d,m,f,b,v,x=a[u],y=x.length,q=V(x[0]).toLowerCase(),w=x[0]!=q,S=w?h.invert():0;"t"==q&&3==y?w?(d=S.x(0,0),m=S.y(0,0),f=S.x(x[1],x[2]),b=S.y(x[1],x[2]),h.translate(f-d,b-m)):h.translate(x[1],x[2]):"r"==q?2==y?(v=v||t.getBBox(1),h.rotate(x[1],v.x+v.width/2,v.y+v.height/2),i+=x[1]):4==y&&(w?(f=S.x(x[2],x[3]),b=S.y(x[2],x[3]),h.rotate(x[1],f,b)):h.rotate(x[1],x[2],x[3]),i+=x[1]):"s"==q?2==y||3==y?(v=v||t.getBBox(1),h.scale(x[1],x[y-1],v.x+v.width/2,v.y+v.height/2),r*=x[1],l*=x[y-1]):5==y&&(w?(f=S.x(x[3],x[4]),b=S.y(x[3],x[4]),h.scale(x[1],x[2],f,b)):h.scale(x[1],x[2],x[3],x[4]),r*=x[1],l*=x[2]):"m"==q&&7==y&&h.add(x[1],x[2],x[3],x[4],x[5],x[6]),p.dirtyT=1,t.matrix=h}t.matrix=h,p.sx=r,p.sy=l,p.deg=i,p.dx=n=h.e,p.dy=s=h.f,1==r&&1==l&&!i&&p.bbox?(p.bbox.x+=+n,p.bbox.y+=+s):p.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},zt=o._equaliseTransform=function(t,e){e=V(e).replace(/\.{3}|\u2026/g,t),t=o.parseTransformString(t)||[],e=o.parseTransformString(e)||[];for(var a,i,n,s,r=N(t.length,e.length),l=[],p=[],h=0;r>h;h++){if(n=t[h]||Nt(e[h]),s=e[h]||Nt(n),n[0]!=s[0]||"r"==n[0].toLowerCase()&&(n[2]!=s[2]||n[3]!=s[3])||"s"==n[0].toLowerCase()&&(n[3]!=s[3]||n[4]!=s[4]))return;for(l[h]=[],p[h]=[],a=0,i=N(n.length,s.length);i>a;a++)a in n&&(l[h][a]=n[a]),a in s&&(p[h][a]=s[a])}return{from:l,to:p}};o._getContainer=function(t,e,a,i){var n;return n=null!=i||o.is(t,"object")?t:_.doc.getElementById(t),null!=n?n.tagName?null==e?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:e,height:a}:{container:1,x:t,y:e,width:a,height:i}:void 0},o.pathToRelative=Mt,o._engine={},o.path2curve=$t,o.matrix=function(t,e,o,a,i,n){return new g(t,e,o,a,i,n)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function a(t){var o=B.sqrt(e(t));t[0]&&(t[0]/=o),t[1]&&(t[1]/=o)}t.add=function(t,e,o,a,i,n){var s,r,l,p,h=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],c=[[t,o,i],[e,a,n],[0,0,1]];for(t&&t instanceof g&&(c=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(r=0;3>r;r++){for(p=0,l=0;3>l;l++)p+=u[s][l]*c[l][r];h[s][r]=p}this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new g(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new g(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,o,a){null==e&&(e=t),(o||a)&&this.add(1,0,0,1,o,a),this.add(t,0,0,e,0,0),(o||a)&&this.add(1,0,0,1,-o,-a)},t.rotate=function(t,e,a){t=o.rad(t),e=e||0,a=a||0;var i=+B.cos(t).toFixed(9),n=+B.sin(t).toFixed(9);this.add(i,n,-n,i,e,a),this.add(1,0,0,1,-e,-a)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[V.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return o.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];t.scalex=B.sqrt(e(i[0])),a(i[0]),t.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*t.shear,i[1][1]-i[0][1]*t.shear],t.scaley=B.sqrt(e(i[1])),a(i[1]),t.shear/=t.scaley;var n=-i[0][1],s=i[1][1];return 0>s?(t.rotate=o.deg(B.acos(s)),0>n&&(t.rotate=360-t.rotate)):t.rotate=o.deg(B.asin(n)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[F]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:D)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:D)+(e.rotate?"r"+[e.rotate,0,0]:D)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(g.prototype);var Gt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);q.safari="Apple Computer, Inc."==navigator.vendor&&(Gt&&Gt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Gt&&Gt[1]<8?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:ct;for(var Wt=function(){this.returnValue=!1},jt=function(){return this.originalEvent.preventDefault()},Zt=function(){this.cancelBubble=!0},Et=function(){return this.originalEvent.stopPropagation()},Rt=function(t){var e=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,o=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;return{x:t.clientX+o,y:t.clientY+e}},Yt=function(){return _.doc.addEventListener?function(t,e,o,a){var i=function(t){var e=Rt(t);return o.call(a,t,e.x,e.y)};if(t.addEventListener(e,i,!1),H&&A[e]){var n=function(e){for(var i=Rt(e),n=e,s=0,r=e.targetTouches&&e.targetTouches.length;r>s;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=n,e.preventDefault=jt,e.stopPropagation=Et;break}return o.call(a,e,i.x,i.y)};t.addEventListener(A[e],n,!1)}return function(){return t.removeEventListener(e,i,!1),H&&A[e]&&t.removeEventListener(A[e],n,!1),!0}}:_.doc.attachEvent?function(t,e,o,a){var i=function(t){t=t||_.win.event;var e=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,i=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,n=t.clientX+i,s=t.clientY+e;return t.preventDefault=t.preventDefault||Wt,t.stopPropagation=t.stopPropagation||Zt,o.call(a,t,n,s)};t.attachEvent("on"+e,i);var n=function(){return t.detachEvent("on"+e,i),!0};return n}:void 0}(),Ut=[],Xt=function(t){for(var o,a=t.clientX,i=t.clientY,n=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,s=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,r=Ut.length;r--;){if(o=Ut[r],H&&t.touches){for(var l,p=t.touches.length;p--;)if(l=t.touches[p],l.identifier==o.el._drag.id){a=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h,u=o.el.node,c=u.nextSibling,d=u.parentNode,g=u.style.display;_.win.opera&&d.removeChild(u),u.style.display="none",h=o.el.paper.getElementByPoint(a,i),u.style.display=g,_.win.opera&&(c?d.insertBefore(u,c):d.appendChild(u)),h&&e("raphael.drag.over."+o.el.id,o.el,h),a+=s,i+=n,e("raphael.drag.move."+o.el.id,o.move_scope||o.el,a-o.el._drag.x,i-o.el._drag.y,a,i,t)}},Qt=function(t){o.unmousemove(Xt).unmouseup(Qt);for(var a,i=Ut.length;i--;)a=Ut[i],a.el._drag={},e("raphael.drag.end."+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,t);Ut=[]},Jt=o.el={},Kt=$.length;Kt--;)!function(t){o[t]=Jt[t]=function(e,a){return o.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Yt(this.shape||this.node||_.doc,t,e,a||this)})),this},o["un"+t]=Jt["un"+t]=function(e){for(var a=this.events||[],i=a.length;i--;)a[i].name!=t||!o.is(e,"undefined")&&a[i].f!=e||(a[i].unbind(),a.splice(i,1),!a.length&&delete this.events);return this}}($[Kt]);Jt.data=function(t,a){var i=ht[this.id]=ht[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(o.is(t,"object")){for(var n in t)t[I](n)&&this.data(n,t[n]);return this}return e("raphael.data.get."+this.id,this,i[t],t),i[t]}return i[t]=a,e("raphael.data.set."+this.id,this,a,t),this},Jt.removeData=function(t){return null==t?ht[this.id]={}:ht[this.id]&&delete ht[this.id][t],this},Jt.getData=function(){return a(ht[this.id]||{})},Jt.hover=function(t,e,o,a){return this.mouseover(t,o).mouseout(e,a||o)},Jt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var te=[];Jt.drag=function(t,a,i,n,s,r){function l(l){(l.originalEvent||l).preventDefault();var p=l.clientX,h=l.clientY,u=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,c=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;if(this._drag.id=l.identifier,H&&l.touches)for(var d,g=l.touches.length;g--;)if(d=l.touches[g],this._drag.id=d.identifier,d.identifier==this._drag.id){p=d.clientX,h=d.clientY;break}this._drag.x=p+c,this._drag.y=h+u,!Ut.length&&o.mousemove(Xt).mouseup(Qt),Ut.push({el:this,move_scope:n,start_scope:s,end_scope:r}),a&&e.on("raphael.drag.start."+this.id,a),t&&e.on("raphael.drag.move."+this.id,t),i&&e.on("raphael.drag.end."+this.id,i),e("raphael.drag.start."+this.id,s||n||this,l.clientX+c,l.clientY+u,l)}return this._drag={},te.push({el:this,start:l}),this.mousedown(l),this},Jt.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Jt.undrag=function(){for(var t=te.length;t--;)te[t].el==this&&(this.unmousedown(te[t].start),te.splice(t,1),e.unbind("raphael.drag.*."+this.id));!te.length&&o.unmousemove(Xt).unmouseup(Qt),Ut=[]},q.circle=function(t,e,a){var i=o._engine.circle(this,t||0,e||0,a||0);return this.__set__&&this.__set__.push(i),i},q.rect=function(t,e,a,i,n){var s=o._engine.rect(this,t||0,e||0,a||0,i||0,n||0);return this.__set__&&this.__set__.push(s),s},q.ellipse=function(t,e,a,i){var n=o._engine.ellipse(this,t||0,e||0,a||0,i||0);return this.__set__&&this.__set__.push(n),n},q.path=function(t){t&&!o.is(t,E)&&!o.is(t[0],R)&&(t+=D);var e=o._engine.path(o.format[M](o,arguments),this);return this.__set__&&this.__set__.push(e),e},q.image=function(t,e,a,i,n){var s=o._engine.image(this,t||"about:blank",e||0,a||0,i||0,n||0);return this.__set__&&this.__set__.push(s),s},q.text=function(t,e,a){var i=o._engine.text(this,t||0,e||0,V(a));return this.__set__&&this.__set__.push(i),i},q.set=function(t){!o.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new ce(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},q.setStart=function(t){this.__set__=t||this.set()},q.setFinish=function(){var t=this.__set__;return delete this.__set__,t},q.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},q.setSize=function(t,e){return o._engine.setSize.call(this,t,e)},q.setViewBox=function(t,e,a,i,n){return o._engine.setViewBox.call(this,t,e,a,i,n)},q.top=q.bottom=null,q.raphael=o;var ee=function(t){var e=t.getBoundingClientRect(),o=t.ownerDocument,a=o.body,i=o.documentElement,n=i.clientTop||a.clientTop||0,s=i.clientLeft||a.clientLeft||0,r=e.top+(_.win.pageYOffset||i.scrollTop||a.scrollTop)-n,l=e.left+(_.win.pageXOffset||i.scrollLeft||a.scrollLeft)-s;return{y:r,x:l}};q.getElementByPoint=function(t,e){var o=this,a=o.canvas,i=_.doc.elementFromPoint(t,e);if(_.win.opera&&"svg"==i.tagName){var n=ee(a),s=a.createSVGRect();s.x=t-n.x,s.y=e-n.y,s.width=s.height=1;var r=a.getIntersectionList(s,null);r.length&&(i=r[r.length-1])}if(!i)return null;for(;i.parentNode&&i!=a.parentNode&&!i.raphael;)i=i.parentNode;return i==o.canvas.parentNode&&(i=a),i=i&&i.raphael?o.getById(i.raphaelid):null},q.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(a){o.isBBoxIntersect(a.getBBox(),t)&&e.push(a)}),e},q.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},q.forEach=function(t,e){for(var o=this.bottom;o;){if(t.call(e,o)===!1)return this;o=o.next}return this},q.getElementsByPoint=function(t,e){var o=this.set();return this.forEach(function(a){a.isPointInside(t,e)&&o.push(a)}),o},Jt.isPointInside=function(t,e){var a=this.realPath=ft[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(a=o.transformPath(a,this.attr("transform"))),o.isPointInsidePath(a,t,e)},Jt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=ft[this.type](this),e.bboxwt=kt(this.realPath),e.bboxwt.toString=m,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=ft[this.type](this)),e.bbox=kt(bt(this.realPath,this.matrix)),e.bbox.toString=m,e.dirty=e.dirtyT=0),e.bbox)},Jt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Jt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},o=e.width/2,a=this.paper,i=a.set(),n=this.realPath||ft[this.type](this);n=this.matrix?bt(n,this.matrix):n;for(var s=1;o+1>s;s++)i.push(a.path(n).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/o*s).toFixed(3),opacity:+(e.opacity/o).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var oe=function(t,e,a,i,n,s,r,l,u){return null==u?p(t,e,a,i,n,s,r,l):o.findDotsAtSegment(t,e,a,i,n,s,r,l,h(t,e,a,i,n,s,r,l,u))},ae=function(t,e){return function(a,i,n){a=$t(a);for(var s,r,l,p,h,u="",c={},d=0,g=0,m=a.length;m>g;g++){if(l=a[g],"M"==l[0])s=+l[1],r=+l[2];else{if(p=oe(s,r,l[1],l[2],l[3],l[4],l[5],l[6]),d+p>i){if(e&&!c.start){if(h=oe(s,r,l[1],l[2],l[3],l[4],l[5],l[6],i-d),u+=["C"+h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y],n)return u;c.start=u,u=["M"+h.x,h.y+"C"+h.n.x,h.n.y,h.end.x,h.end.y,l[5],l[6]].join(),d+=p,s=+l[5],r=+l[6];continue}if(!t&&!e)return h=oe(s,r,l[1],l[2],l[3],l[4],l[5],l[6],i-d),{x:h.x,y:h.y,alpha:h.alpha}}d+=p,s=+l[5],r=+l[6]}u+=l.shift()+l}return c.end=u,h=t?d:e?c:o.findDotsAtSegment(s,r,l[0],l[1],l[2],l[3],l[4],l[5],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},ie=ae(1),ne=ae(),se=ae(0,1);o.getTotalLength=ie,o.getPointAtLength=ne,o.getSubpath=function(t,e,o){if(this.getTotalLength(t)-o<1e-6)return se(t,e).end;var a=se(t,o,1);return e?se(a,e).end:a},Jt.getTotalLength=function(){var t=this.getPath();return t?this.node.getTotalLength?this.node.getTotalLength():ie(t):void 0},Jt.getPointAtLength=function(t){var e=this.getPath();return e?ne(e,t):void 0},Jt.getPath=function(){var t,e=o._getPath[this.type];return"text"!=this.type&&"set"!=this.type?(e&&(t=e(this)),t):void 0},Jt.getSubpath=function(t,e){var a=this.getPath();return a?o.getSubpath(a,t,e):void 0};var re=o.easing_formulas={linear:function(t){return t},"<":function(t){return W(t,1.7)},">":function(t){return W(t,.48)},"<>":function(t){var e=.48-t/1.04,o=B.sqrt(.1734+e*e),a=o-e,i=W(G(a),1/3)*(0>a?-1:1),n=-o-e,s=W(G(n),1/3)*(0>n?-1:1),r=i+s+.5;return 3*(1-r)*r*r+r*r*r},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:W(2,-10*t)*B.sin(2*(t-.075)*j/.3)+1},bounce:function(t){var e,o=7.5625,a=2.75;return 1/a>t?e=o*t*t:2/a>t?(t-=1.5/a,e=o*t*t+.75):2.5/a>t?(t-=2.25/a,e=o*t*t+.9375):(t-=2.625/a,e=o*t*t+.984375),e}};re.easeIn=re["ease-in"]=re["<"],re.easeOut=re["ease-out"]=re[">"],re.easeInOut=re["ease-in-out"]=re["<>"],re["back-in"]=re.backIn,re["back-out"]=re.backOut;var le=[],pe=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},he=function(){for(var t=+new Date,a=0;a<le.length;a++){var i=le[a];if(!i.el.removed&&!i.paused){var n,s,r=t-i.start,l=i.ms,p=i.easing,h=i.from,u=i.diff,c=i.to,d=(i.t,i.el),g={},m={};if(i.initstatus?(r=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*l,i.status=i.initstatus,delete i.initstatus,i.stop&&le.splice(a--,1)):i.status=(i.prev+(i.percent-i.prev)*(r/l))/i.anim.top,!(0>r))if(l>r){var f=p(r/l);for(var b in h)if(h[I](b)){switch(at[b]){case Z:n=+h[b]+f*l*u[b];break;case"colour":n="rgb("+[ue(J(h[b].r+f*l*u[b].r)),ue(J(h[b].g+f*l*u[b].g)),ue(J(h[b].b+f*l*u[b].b))].join(",")+")";break;case"path":n=[];for(var x=0,y=h[b].length;y>x;x++){n[x]=[h[b][x][0]];for(var q=1,w=h[b][x].length;w>q;q++)n[x][q]=+h[b][x][q]+f*l*u[b][x][q];n[x]=n[x].join(O)}n=n.join(O);break;case"transform":if(u[b].real)for(n=[],x=0,y=h[b].length;y>x;x++)for(n[x]=[h[b][x][0]],q=1,w=h[b][x].length;w>q;q++)n[x][q]=h[b][x][q]+f*l*u[b][x][q];else{var S=function(t){return+h[b][t]+f*l*u[b][t]};n=[["m",S(0),S(1),S(2),S(3),S(4),S(5)]]}break;case"csv":if("clip-rect"==b)for(n=[],x=4;x--;)n[x]=+h[b][x]+f*l*u[b][x];break;default:var C=[][L](h[b]);for(n=[],x=d.paper.customAttributes[b].length;x--;)n[x]=+C[x]+f*l*u[b][x]}g[b]=n}d.attr(g),function(t,o,a){setTimeout(function(){e("raphael.anim.frame."+t,o,a)})}(d.id,d,i.anim)}else{if(function(t,a,i){setTimeout(function(){e("raphael.anim.frame."+a.id,a,i),e("raphael.anim.finish."+a.id,a,i),o.is(t,"function")&&t.call(a)})}(i.callback,d,i.anim),d.attr(c),le.splice(a--,1),i.repeat>1&&!i.next){for(s in c)c[I](s)&&(m[s]=i.totalOrigin[s]);i.el.attr(m),v(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&v(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}o.svg&&d&&d.paper&&d.paper.safari(),le.length&&pe(he)},ue=function(t){return t>255?255:0>t?0:t};Jt.animateWith=function(t,e,a,i,n,s){var r=this;if(r.removed)return s&&s.call(r),r;var l=a instanceof b?a:o.animation(a,i,n,s);v(l,r,l.percents[0],null,r.attr());for(var p=0,h=le.length;h>p;p++)if(le[p].anim==e&&le[p].el==t){le[h-1].start=le[p].start;break}return r},Jt.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},b.prototype.delay=function(t){var e=new b(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},b.prototype.repeat=function(t){var e=new b(this.anim,this.ms);return e.del=this.del,e.times=B.floor(N(t,0))||1,e},o.animation=function(t,e,a,i){if(t instanceof b)return t;(o.is(a,"function")||!a)&&(i=i||a||null,a=null),t=Object(t),e=+e||0;var n,s,r={};for(s in t)t[I](s)&&K(s)!=s&&K(s)+"%"!=s&&(n=!0,r[s]=t[s]);if(n)return a&&(r.easing=a),i&&(r.callback=i),new b({100:r},e);if(i){var l=0;for(var p in t){var h=tt(p);t[I](p)&&h>l&&(l=h)}l+="%",!t[l].callback&&(t[l].callback=i)}return new b(t,e)},Jt.animate=function(t,e,a,i){var n=this;if(n.removed)return i&&i.call(n),n;var s=t instanceof b?t:o.animation(t,e,a,i);return v(s,n,s.percents[0],null,n.attr()),n},Jt.setTime=function(t,e){return t&&null!=e&&this.status(t,z(e,t.ms)/t.ms),this},Jt.status=function(t,e){var o,a,i=[],n=0;if(null!=e)return v(t,this,-1,z(e,1)),this;for(o=le.length;o>n;n++)if(a=le[n],a.el.id==this.id&&(!t||a.anim==t)){if(t)return a.status;i.push({anim:a.anim,status:a.status})}return t?0:i},Jt.pause=function(t){for(var o=0;o<le.length;o++)le[o].el.id!=this.id||t&&le[o].anim!=t||e("raphael.anim.pause."+this.id,this,le[o].anim)!==!1&&(le[o].paused=!0);return this},Jt.resume=function(t){for(var o=0;o<le.length;o++)if(le[o].el.id==this.id&&(!t||le[o].anim==t)){var a=le[o];e("raphael.anim.resume."+this.id,this,a.anim)!==!1&&(delete a.paused,this.status(a.anim,a.status))}return this},Jt.stop=function(t){for(var o=0;o<le.length;o++)le[o].el.id!=this.id||t&&le[o].anim!=t||e("raphael.anim.stop."+this.id,this,le[o].anim)!==!1&&le.splice(o--,1);return this},e.on("raphael.remove",x),e.on("raphael.clear",x),Jt.toString=function(){return"RaphaÃ«lâs object"};var ce=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,o=t.length;o>e;e++)!t[e]||t[e].constructor!=Jt.constructor&&t[e].constructor!=ce||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},de=ce.prototype;de.push=function(){for(var t,e,o=0,a=arguments.length;a>o;o++)t=arguments[o],!t||t.constructor!=Jt.constructor&&t.constructor!=ce||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},de.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},de.forEach=function(t,e){for(var o=0,a=this.items.length;a>o;o++)if(t.call(e,this.items[o],o)===!1)return this;return this};for(var ge in Jt)Jt[I](ge)&&(de[ge]=function(t){return function(){var e=arguments;return this.forEach(function(o){o[t][M](o,e)})}}(ge));return de.attr=function(t,e){if(t&&o.is(t,R)&&o.is(t[0],"object"))for(var a=0,i=t.length;i>a;a++)this.items[a].attr(t[a]);else for(var n=0,s=this.items.length;s>n;n++)this.items[n].attr(t,e);return this},de.clear=function(){for(;this.length;)this.pop()},de.splice=function(t,e){t=0>t?N(this.length+t,0):t,e=N(0,z(this.length-t,e));var o,a=[],i=[],n=[];for(o=2;o<arguments.length;o++)n.push(arguments[o]);for(o=0;e>o;o++)i.push(this[t+o]);for(;o<this.length-t;o++)a.push(this[t+o]);var s=n.length;for(o=0;o<s+a.length;o++)this.items[t+o]=this[t+o]=s>o?n[o]:a[o-s];for(o=this.items.length=this.length-=e-s;this[o];)delete this[o++];return new ce(i)},de.exclude=function(t){for(var e=0,o=this.length;o>e;e++)if(this[e]==t)return this.splice(e,1),!0},de.animate=function(t,e,a,i){(o.is(a,"function")||!a)&&(i=a||null);var n,s,r=this.items.length,l=r,p=this;if(!r)return this;i&&(s=function(){!--r&&i.call(p)}),a=o.is(a,E)?a:s;var h=o.animation(t,e,a,s);for(n=this.items[--l].animate(h);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(n,h,h),this.items[l]&&!this.items[l].removed||r--;return this},de.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},de.getBBox=function(){for(var t=[],e=[],o=[],a=[],i=this.items.length;i--;)if(!this.items[i].removed){var n=this.items[i].getBBox();t.push(n.x),e.push(n.y),o.push(n.x+n.width),a.push(n.y+n.height)}return t=z[M](0,t),e=z[M](0,e),o=N[M](0,o),a=N[M](0,a),{x:t,y:e,x2:o,y2:a,width:o-t,height:a-e}},de.clone=function(t){t=this.paper.set();for(var e=0,o=this.items.length;o>e;e++)t.push(this.items[e].clone());return t},de.toString=function(){return"RaphaÃ«lâs set"},de.glow=function(t){var e=this.paper.set();return this.forEach(function(o){var a=o.glow(t);null!=a&&a.forEach(function(t){e.push(t)})}),e},de.isPointInside=function(t,e){var o=!1;return this.forEach(function(a){return a.isPointInside(t,e)?(o=!0,!1):void 0}),o},o.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},o=t.face["font-family"];for(var a in t.face)t.face[I](a)&&(e.face[a]=t.face[a]);if(this.fonts[o]?this.fonts[o].push(e):this.fonts[o]=[e],!t.svg){e.face["units-per-em"]=tt(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[I](i)){var n=t.glyphs[i];if(e.glyphs[i]={w:n.w,k:{},d:n.d&&"M"+n.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},n.k)for(var s in n.k)n[I](s)&&(e.glyphs[i].k[s]=n.k[s])}}return t},q.getFont=function(t,e,a,i){if(i=i||"normal",a=a||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,o.fonts){var n=o.fonts[t];if(!n){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,D)+"(\\s|$)","i");for(var r in o.fonts)if(o.fonts[I](r)&&s.test(r)){n=o.fonts[r];break}}var l;if(n)for(var p=0,h=n.length;h>p&&(l=n[p],l.face["font-weight"]!=e||l.face["font-style"]!=a&&l.face["font-style"]||l.face["font-stretch"]!=i);p++);return l}},q.print=function(t,e,a,i,n,s,r,l){s=s||"middle",r=N(z(r||0,1),-1),l=N(z(l||1,3),1);var p,h=V(a)[F](D),u=0,c=0,d=D;if(o.is(i,"string")&&(i=this.getFont(i)),i){p=(n||16)/i.face["units-per-em"];for(var g=i.face.bbox[F](w),m=+g[0],f=g[3]-g[1],b=0,v=+g[1]+("baseline"==s?f+ +i.face.descent:f/2),x=0,y=h.length;y>x;x++){if("\n"==h[x])u=0,S=0,c=0,b+=f*l;else{var q=c&&i.glyphs[h[x-1]]||{},S=i.glyphs[h[x]];u+=c?(q.w||i.w)+(q.k&&q.k[h[x]]||0)+i.w*r:0,c=1}S&&S.d&&(d+=o.transformPath(S.d,["t",u*p,b*p,"s",p,p,m,v,"t",(t-m)/p,(e-v)/p]))}}return this.path(d).attr({fill:"#000",stroke:"none"})},q.add=function(t){if(o.is(t,"array"))for(var e,a=this.set(),i=0,n=t.length;n>i;i++)e=t[i]||{},S[I](e.type)&&a.push(this[e.type]().attr(e));return a},o.format=function(t,e){var a=o.is(e,R)?[0][L](e):arguments;return t&&o.is(t,E)&&a.length-1&&(t=t.replace(C,function(t,e){return null==a[++e]?D:a[e]})),t||D},o.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,o=function(t,o,a){var i=a;return o.replace(e,function(t,e,o,a,n){e=e||a,i&&(e in i&&(i=i[e]),"function"==typeof i&&n&&(i=i()))}),i=(null==i||i==a?t:i)+""};return function(e,a){return String(e).replace(t,function(t,e){return o(t,e,a)})}}(),o.ninja=function(){return k.was?_.win.Raphael=k.is:delete Raphael,o},o.st=de,e.on("raphael.DOMload",function(){y=!0}),function(t,e,a){function i(){/in/.test(t.readyState)?setTimeout(i,9):o.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,a=function(){t.removeEventListener(e,a,!1),
t.readyState="complete"},!1),t.readyState="loading"),i()}(document,"DOMContentLoaded"),function(){if(o.svg){var t="hasOwnProperty",e=String,a=parseFloat,i=parseInt,n=Math,s=n.max,r=n.abs,l=n.pow,p=/[, ]+/,h=o.eve,u="",c=" ",d="http://www.w3.org/1999/xlink",g={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};o.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};var f=function(a,i){if(i){"string"==typeof a&&(a=f(a));for(var n in i)i[t](n)&&("xlink:"==n.substring(0,6)?a.setAttributeNS(d,n.substring(6),e(i[n])):a.setAttribute(n,e(i[n])))}else a=o._g.doc.createElementNS("http://www.w3.org/2000/svg",a),a.style&&(a.style.webkitTapHighlightColor="rgba(0,0,0,0)");return a},b=function(t,i){var p="linear",h=t.id+i,c=.5,d=.5,g=t.node,m=t.paper,b=g.style,v=o._g.doc.getElementById(h);if(!v){if(i=e(i).replace(o._radial_gradient,function(t,e,o){if(p="radial",e&&o){c=a(e),d=a(o);var i=2*(d>.5)-1;l(c-.5,2)+l(d-.5,2)>.25&&(d=n.sqrt(.25-l(c-.5,2))*i+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*i)}return u}),i=i.split(/\s*\-\s*/),"linear"==p){var x=i.shift();if(x=-a(x),isNaN(x))return null;var y=[0,0,n.cos(o.rad(x)),n.sin(o.rad(x))],q=1/(s(r(y[2]),r(y[3]))||1);y[2]*=q,y[3]*=q,y[2]<0&&(y[0]=-y[2],y[2]=0),y[3]<0&&(y[1]=-y[3],y[3]=0)}var w=o._parseDots(i);if(!w)return null;if(h=h.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&h!=t.gradient.id&&(m.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){v=f(p+"Gradient",{id:h}),t.gradient=v,f(v,"radial"==p?{fx:c,fy:d}:{x1:y[0],y1:y[1],x2:y[2],y2:y[3],gradientTransform:t.matrix.invert()}),m.defs.appendChild(v);for(var S=0,C=w.length;C>S;S++)v.appendChild(f("stop",{offset:w[S].offset?w[S].offset:S?"100%":"0%","stop-color":w[S].color||"#fff"}))}}return f(g,{fill:"url('"+document.location+"#"+h+"')",opacity:1,"fill-opacity":1}),b.fill=u,b.opacity=1,b.fillOpacity=1,1},v=function(t){var e=t.getBBox(1);f(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(a,i,n){if("path"==a.type){for(var s,r,l,p,h,c=e(i).toLowerCase().split("-"),d=a.paper,b=n?"end":"start",v=a.node,x=a.attrs,y=x["stroke-width"],q=c.length,w="classic",S=3,C=3,I=5;q--;)switch(c[q]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=c[q];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":S=5;break;case"short":S=2}if("open"==w?(S+=2,C+=2,I+=2,l=1,p=n?4:1,h={fill:"none",stroke:x.stroke}):(p=l=S/2,h={fill:x.stroke,stroke:"none"}),a._.arrows?n?(a._.arrows.endPath&&m[a._.arrows.endPath]--,a._.arrows.endMarker&&m[a._.arrows.endMarker]--):(a._.arrows.startPath&&m[a._.arrows.startPath]--,a._.arrows.startMarker&&m[a._.arrows.startMarker]--):a._.arrows={},"none"!=w){var _="raphael-marker-"+w,k="raphael-marker-"+b+w+S+C+"-obj"+a.id;o._g.doc.getElementById(_)?m[_]++:(d.defs.appendChild(f(f("path"),{"stroke-linecap":"round",d:g[w],id:_})),m[_]=1);var T,M=o._g.doc.getElementById(k);M?(m[k]++,T=M.getElementsByTagName("use")[0]):(M=f(f("marker"),{id:k,markerHeight:C,markerWidth:S,orient:"auto",refX:p,refY:C/2}),T=f(f("use"),{"xlink:href":"#"+_,transform:(n?"rotate(180 "+S/2+" "+C/2+") ":u)+"scale("+S/I+","+C/I+")","stroke-width":(1/((S/I+C/I)/2)).toFixed(4)}),M.appendChild(T),d.defs.appendChild(M),m[k]=1),f(T,h);var L=l*("diamond"!=w&&"oval"!=w);n?(s=a._.arrows.startdx*y||0,r=o.getTotalLength(x.path)-L*y):(s=L*y,r=o.getTotalLength(x.path)-(a._.arrows.enddx*y||0)),h={},h["marker-"+b]="url(#"+k+")",(r||s)&&(h.d=o.getSubpath(x.path,s,r)),f(v,h),a._.arrows[b+"Path"]=_,a._.arrows[b+"Marker"]=k,a._.arrows[b+"dx"]=L,a._.arrows[b+"Type"]=w,a._.arrows[b+"String"]=i}else n?(s=a._.arrows.startdx*y||0,r=o.getTotalLength(x.path)-s):(s=0,r=o.getTotalLength(x.path)-(a._.arrows.enddx*y||0)),a._.arrows[b+"Path"]&&f(v,{d:o.getSubpath(x.path,s,r)}),delete a._.arrows[b+"Path"],delete a._.arrows[b+"Marker"],delete a._.arrows[b+"dx"],delete a._.arrows[b+"Type"],delete a._.arrows[b+"String"];for(h in m)if(m[t](h)&&!m[h]){var H=o._g.doc.getElementById(h);H&&H.parentNode.removeChild(H)}}},y={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},q=function(t,o,a){if(o=y[e(o).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",n={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||a["stroke-linecap"]]||0,s=[],r=o.length;r--;)s[r]=o[r]*i+(r%2?1:-1)*n;f(t.node,{"stroke-dasharray":s.join(",")})}},w=function(a,n){var l=a.node,h=a.attrs,c=l.style.visibility;l.style.visibility="hidden";for(var g in n)if(n[t](g)){if(!o._availableAttrs[t](g))continue;var m=n[g];switch(h[g]=m,g){case"blur":a.blur(m);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=m;else{y=f("title");var w=o._g.doc.createTextNode(m);y.appendChild(w),l.appendChild(y)}break;case"href":case"target":var S=l.parentNode;if("a"!=S.tagName.toLowerCase()){var I=f("a");S.insertBefore(I,l),I.appendChild(l),S=I}"target"==g?S.setAttributeNS(d,"show","blank"==m?"new":m):S.setAttributeNS(d,g,m);break;case"cursor":l.style.cursor=m;break;case"transform":a.transform(m);break;case"arrow-start":x(a,m);break;case"arrow-end":x(a,m,1);break;case"clip-rect":var _=e(m).split(p);if(4==_.length){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var k=f("clipPath"),T=f("rect");k.id=o.createUUID(),f(T,{x:_[0],y:_[1],width:_[2],height:_[3]}),k.appendChild(T),a.paper.defs.appendChild(k),f(l,{"clip-path":"url(#"+k.id+")"}),a.clip=T}if(!m){var M=l.getAttribute("clip-path");if(M){var L=o._g.doc.getElementById(M.replace(/(^url\(#|\)$)/g,u));L&&L.parentNode.removeChild(L),f(l,{"clip-path":u}),delete a.clip}}break;case"path":"path"==a.type&&(f(l,{d:m?h.path=o._pathToAbsolute(m):"M0,0"}),a._.dirty=1,a._.arrows&&("startString"in a._.arrows&&x(a,a._.arrows.startString),"endString"in a._.arrows&&x(a,a._.arrows.endString,1)));break;case"width":if(l.setAttribute(g,m),a._.dirty=1,!h.fx)break;g="x",m=h.x;case"x":h.fx&&(m=-h.x-(h.width||0));case"rx":if("rx"==g&&"rect"==a.type)break;case"cx":l.setAttribute(g,m),a.pattern&&v(a),a._.dirty=1;break;case"height":if(l.setAttribute(g,m),a._.dirty=1,!h.fy)break;g="y",m=h.y;case"y":h.fy&&(m=-h.y-(h.height||0));case"ry":if("ry"==g&&"rect"==a.type)break;case"cy":l.setAttribute(g,m),a.pattern&&v(a),a._.dirty=1;break;case"r":"rect"==a.type?f(l,{rx:m,ry:m}):l.setAttribute(g,m),a._.dirty=1;break;case"src":"image"==a.type&&l.setAttributeNS(d,"href",m);break;case"stroke-width":(1!=a._.sx||1!=a._.sy)&&(m/=s(r(a._.sx),r(a._.sy))||1),l.setAttribute(g,m),h["stroke-dasharray"]&&q(a,h["stroke-dasharray"],n),a._.arrows&&("startString"in a._.arrows&&x(a,a._.arrows.startString),"endString"in a._.arrows&&x(a,a._.arrows.endString,1));break;case"stroke-dasharray":q(a,m,n);break;case"fill":var H=e(m).match(o._ISURL);if(H){k=f("pattern");var D=f("image");k.id=o.createUUID(),f(k,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),f(D,{x:0,y:0,"xlink:href":H[1]}),k.appendChild(D),function(t){o._preload(H[1],function(){var e=this.offsetWidth,o=this.offsetHeight;f(t,{width:e,height:o}),f(D,{width:e,height:o}),a.paper.safari()})}(k),a.paper.defs.appendChild(k),f(l,{fill:"url(#"+k.id+")"}),a.pattern=k,a.pattern&&v(a);break}var O=o.getRGB(m);if(O.error){if(("circle"==a.type||"ellipse"==a.type||"r"!=e(m).charAt())&&b(a,m)){if("opacity"in h||"fill-opacity"in h){var V=o._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(V){var F=V.getElementsByTagName("stop");f(F[F.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}}h.gradient=m,h.fill="none";break}}else delete n.gradient,delete h.gradient,!o.is(h.opacity,"undefined")&&o.is(n.opacity,"undefined")&&f(l,{opacity:h.opacity}),!o.is(h["fill-opacity"],"undefined")&&o.is(n["fill-opacity"],"undefined")&&f(l,{"fill-opacity":h["fill-opacity"]});O[t]("opacity")&&f(l,{"fill-opacity":O.opacity>1?O.opacity/100:O.opacity});case"stroke":O=o.getRGB(m),l.setAttribute(g,O.hex),"stroke"==g&&O[t]("opacity")&&f(l,{"stroke-opacity":O.opacity>1?O.opacity/100:O.opacity}),"stroke"==g&&a._.arrows&&("startString"in a._.arrows&&x(a,a._.arrows.startString),"endString"in a._.arrows&&x(a,a._.arrows.endString,1));break;case"gradient":("circle"==a.type||"ellipse"==a.type||"r"!=e(m).charAt())&&b(a,m);break;case"opacity":h.gradient&&!h[t]("stroke-opacity")&&f(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(h.gradient){V=o._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),V&&(F=V.getElementsByTagName("stop"),f(F[F.length-1],{"stop-opacity":m}));break}default:"font-size"==g&&(m=i(m,10)+"px");var $=g.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[$]=m,a._.dirty=1,l.setAttribute(g,m)}}C(a,n),l.style.visibility=c},S=1.2,C=function(a,n){if("text"==a.type&&(n[t]("text")||n[t]("font")||n[t]("font-size")||n[t]("x")||n[t]("y"))){var s=a.attrs,r=a.node,l=r.firstChild?i(o._g.doc.defaultView.getComputedStyle(r.firstChild,u).getPropertyValue("font-size"),10):10;if(n[t]("text")){for(s.text=n.text;r.firstChild;)r.removeChild(r.firstChild);for(var p,h=e(n.text).split("\n"),c=[],d=0,g=h.length;g>d;d++)p=f("tspan"),d&&f(p,{dy:l*S,x:s.x}),p.appendChild(o._g.doc.createTextNode(h[d])),r.appendChild(p),c[d]=p}else for(c=r.getElementsByTagName("tspan"),d=0,g=c.length;g>d;d++)d?f(c[d],{dy:l*S,x:s.x}):f(c[0],{dy:0});f(r,{x:s.x,y:s.y}),a._.dirty=1;var m=a._getBBox(),b=s.y-(m.y+m.height/2);b&&o.is(b,"finite")&&f(c[0],{dy:b})}},I=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},_=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=o._oid++,t.raphaelid=this.id,this.matrix=o.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},k=o.el;_.prototype=k,k.constructor=_,o._engine.path=function(t,e){var o=f("path");e.canvas&&e.canvas.appendChild(o);var a=new _(o,e);return a.type="path",w(a,{fill:"none",stroke:"#000",path:t}),a},k.rotate=function(t,o,i){if(this.removed)return this;if(t=e(t).split(p),t.length-1&&(o=a(t[1]),i=a(t[2])),t=a(t[0]),null==i&&(o=i),null==o||null==i){var n=this.getBBox(1);o=n.x+n.width/2,i=n.y+n.height/2}return this.transform(this._.transform.concat([["r",t,o,i]])),this},k.scale=function(t,o,i,n){if(this.removed)return this;if(t=e(t).split(p),t.length-1&&(o=a(t[1]),i=a(t[2]),n=a(t[3])),t=a(t[0]),null==o&&(o=t),null==n&&(i=n),null==i||null==n)var s=this.getBBox(1);return i=null==i?s.x+s.width/2:i,n=null==n?s.y+s.height/2:n,this.transform(this._.transform.concat([["s",t,o,i,n]])),this},k.translate=function(t,o){return this.removed?this:(t=e(t).split(p),t.length-1&&(o=a(t[1])),t=a(t[0])||0,o=+o||0,this.transform(this._.transform.concat([["t",t,o]])),this)},k.transform=function(e){var a=this._;if(null==e)return a.transform;if(o._extractTransform(this,e),this.clip&&f(this.clip,{transform:this.matrix.invert()}),this.pattern&&v(this),this.node&&f(this.node,{transform:this.matrix}),1!=a.sx||1!=a.sy){var i=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},k.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},k.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},k.remove=function(){var t=I(this.node);if(!this.removed&&t.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),h.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),o._tear(this,e),t.parentNode.removeChild(t),this.removeData();for(var a in this)this[a]="function"==typeof this[a]?o._removedFactory(a):null;this.removed=!0}},k._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,o=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(o=!0,e.display="");var a={};try{a=this.node.getBBox()}catch(i){a={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{a=a||{},o&&(e.display="none")}return t&&this.hide(),a},k.attr=function(e,a){if(this.removed)return this;if(null==e){var i={};for(var n in this.attrs)this.attrs[t](n)&&(i[n]=this.attrs[n]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==a&&o.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var s=e.split(p),r={},l=0,u=s.length;u>l;l++)e=s[l],r[e]=e in this.attrs?this.attrs[e]:o.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:o._availableAttrs[e];return u-1?r:r[s[0]]}if(null==a&&o.is(e,"array")){for(r={},l=0,u=e.length;u>l;l++)r[e[l]]=this.attr(e[l]);return r}if(null!=a){var c={};c[e]=a}else null!=e&&o.is(e,"object")&&(c=e);for(var d in c)h("raphael.attr."+d+"."+this.id,this,c[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&c[t](d)&&o.is(this.paper.customAttributes[d],"function")){var g=this.paper.customAttributes[d].apply(this,[].concat(c[d]));this.attrs[d]=c[d];for(var m in g)g[t](m)&&(c[m]=g[m])}return w(this,c),this},k.toFront=function(){if(this.removed)return this;var t=I(this.node);t.parentNode.appendChild(t);var e=this.paper;return e.top!=this&&o._tofront(this,e),this},k.toBack=function(){if(this.removed)return this;var t=I(this.node),e=t.parentNode;return e.insertBefore(t,e.firstChild),o._toback(this,this.paper),this.paper,this},k.insertAfter=function(t){if(this.removed||!t)return this;var e=I(this.node),a=I(t.node||t[t.length-1].node);return a.nextSibling?a.parentNode.insertBefore(e,a.nextSibling):a.parentNode.appendChild(e),o._insertafter(this,t,this.paper),this},k.insertBefore=function(t){if(this.removed||!t)return this;var e=I(this.node),a=I(t.node||t[0].node);return a.parentNode.insertBefore(e,a),o._insertbefore(this,t,this.paper),this},k.blur=function(t){var e=this;if(0!==+t){var a=f("filter"),i=f("feGaussianBlur");e.attrs.blur=t,a.id=o.createUUID(),f(i,{stdDeviation:+t||1.5}),a.appendChild(i),e.paper.defs.appendChild(a),e._blur=a,f(e.node,{filter:"url(#"+a.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},o._engine.circle=function(t,e,o,a){var i=f("circle");t.canvas&&t.canvas.appendChild(i);var n=new _(i,t);return n.attrs={cx:e,cy:o,r:a,fill:"none",stroke:"#000"},n.type="circle",f(i,n.attrs),n},o._engine.rect=function(t,e,o,a,i,n){var s=f("rect");t.canvas&&t.canvas.appendChild(s);var r=new _(s,t);return r.attrs={x:e,y:o,width:a,height:i,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},r.type="rect",f(s,r.attrs),r},o._engine.ellipse=function(t,e,o,a,i){var n=f("ellipse");t.canvas&&t.canvas.appendChild(n);var s=new _(n,t);return s.attrs={cx:e,cy:o,rx:a,ry:i,fill:"none",stroke:"#000"},s.type="ellipse",f(n,s.attrs),s},o._engine.image=function(t,e,o,a,i,n){var s=f("image");f(s,{x:o,y:a,width:i,height:n,preserveAspectRatio:"none"}),s.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(s);var r=new _(s,t);return r.attrs={x:o,y:a,width:i,height:n,src:e},r.type="image",r},o._engine.text=function(t,e,a,i){var n=f("text");t.canvas&&t.canvas.appendChild(n);var s=new _(n,t);return s.attrs={x:e,y:a,"text-anchor":"middle",text:i,"font-family":o._availableAttrs["font-family"],"font-size":o._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",w(s,s.attrs),s},o._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},o._engine.create=function(){var t=o._getContainer.apply(0,arguments),e=t&&t.container,a=t.x,i=t.y,n=t.width,s=t.height;if(!e)throw new Error("SVG container not found.");var r,l=f("svg"),p="overflow:hidden;";return a=a||0,i=i||0,n=n||512,s=s||342,f(l,{height:s,version:1.1,width:n,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==e?(l.style.cssText=p+"position:absolute;left:"+a+"px;top:"+i+"px",o._g.doc.body.appendChild(l),r=1):(l.style.cssText=p+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new o._Paper,e.width=n,e.height=s,e.canvas=l,e.clear(),e._left=e._top=0,r&&(e.renderfix=function(){}),e.renderfix(),e},o._engine.setViewBox=function(t,e,o,a,i){h("raphael.setViewBox",this,this._viewBox,[t,e,o,a,i]);var n,r,l=this.getSize(),p=s(o/l.width,a/l.height),u=this.top,d=i?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(p=1),delete this._vbSize,n="0 0 "+this.width+c+this.height):(this._vbSize=p,n=t+c+e+c+o+c+a),f(this.canvas,{viewBox:n,preserveAspectRatio:d});p&&u;)r="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":r}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[t,e,o,a,!!i],this},o.prototype.renderfix=function(){var t,e=this.canvas,o=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(a){t=e.createSVGMatrix()}var i=-t.e%1,n=-t.f%1;(i||n)&&(i&&(this._left=(this._left+i)%1,o.left=this._left+"px"),n&&(this._top=(this._top+n)%1,o.top=this._top+"px"))},o.prototype.clear=function(){o.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=f("desc")).appendChild(o._g.doc.createTextNode("")),t.appendChild(this.desc),t.appendChild(this.defs=f("defs"))},o.prototype.remove=function(){h("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?o._removedFactory(t):null};var T=o.st;for(var M in k)k[t](M)&&!T[t](M)&&(T[M]=function(t){return function(){var e=arguments;return this.forEach(function(o){o[t].apply(o,e)})}}(M))}}(),function(){if(o.vml){var t="hasOwnProperty",e=String,a=parseFloat,i=Math,n=i.round,s=i.max,r=i.min,l=i.abs,p="fill",h=/[, ]+/,u=o.eve,c=" progid:DXImageTransform.Microsoft",d=" ",g="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},f=/([clmz]),?([^clmz]*)/gi,b=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,x="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,q={path:1,rect:1,image:1},w={circle:1,ellipse:1},S=function(t){var a=/[ahqstv]/gi,i=o._pathToAbsolute;if(e(t).match(a)&&(i=o._path2curve),a=/[clmz]/g,i==o._pathToAbsolute&&!e(t).match(a)){var s=e(t).replace(f,function(t,e,o){var a=[],i="m"==e.toLowerCase(),s=m[e];return o.replace(v,function(t){i&&2==a.length&&(s+=a+m["m"==e?"l":"L"],a=[]),a.push(n(t*y))}),s+a});return s}var r,l,p=i(t);s=[];for(var h=0,u=p.length;u>h;h++){r=p[h],l=p[h][0].toLowerCase(),"z"==l&&(l="x");for(var c=1,b=r.length;b>c;c++)l+=n(r[c]*y)+(c!=b-1?",":g);s.push(l)}return s.join(d)},C=function(t,e,a){var i=o.matrix();return i.rotate(-t,.5,.5),{dx:i.x(e,a),dy:i.y(e,a)}},I=function(t,e,o,a,i,n){var s=t._,r=t.matrix,h=s.fillpos,u=t.node,c=u.style,g=1,m="",f=y/e,b=y/o;if(c.visibility="hidden",e&&o){if(u.coordsize=l(f)+d+l(b),c.rotation=n*(0>e*o?-1:1),n){var v=C(n,a,i);a=v.dx,i=v.dy}if(0>e&&(m+="x"),0>o&&(m+=" y")&&(g=-1),c.flip=m,u.coordorigin=a*-f+d+i*-b,h||s.fillsize){var x=u.getElementsByTagName(p);x=x&&x[0],u.removeChild(x),h&&(v=C(n,r.x(h[0],h[1]),r.y(h[0],h[1])),x.position=v.dx*g+d+v.dy*g),s.fillsize&&(x.size=s.fillsize[0]*l(e)+d+s.fillsize[1]*l(o)),u.appendChild(x)}c.visibility="visible"}};o.toString=function(){return"Your browser doesnât support SVG. Falling down to VML.\nYou are running RaphaÃ«l "+this.version};var _=function(t,o,a){for(var i=e(o).toLowerCase().split("-"),n=a?"end":"start",s=i.length,r="classic",l="medium",p="medium";s--;)switch(i[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":r=i[s];break;case"wide":case"narrow":p=i[s];break;case"long":case"short":l=i[s]}var h=t.node.getElementsByTagName("stroke")[0];h[n+"arrow"]=r,h[n+"arrowlength"]=l,h[n+"arrowwidth"]=p},k=function(i,l){i.attrs=i.attrs||{};var u=i.node,c=i.attrs,m=u.style,f=q[i.type]&&(l.x!=c.x||l.y!=c.y||l.width!=c.width||l.height!=c.height||l.cx!=c.cx||l.cy!=c.cy||l.rx!=c.rx||l.ry!=c.ry||l.r!=c.r),b=w[i.type]&&(c.cx!=l.cx||c.cy!=l.cy||c.r!=l.r||c.rx!=l.rx||c.ry!=l.ry),v=i;for(var x in l)l[t](x)&&(c[x]=l[x]);if(f&&(c.path=o._getPath[i.type](i),i._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&i.blur(l.blur),(l.path&&"path"==i.type||f)&&(u.path=S(~e(c.path).toLowerCase().indexOf("r")?o._pathToAbsolute(c.path):c.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[c.x,c.y],i._.fillsize=[c.width,c.height],I(i,1,1,0,0,0))),"transform"in l&&i.transform(l.transform),b){var C=+c.cx,k=+c.cy,M=+c.rx||+c.r||0,L=+c.ry||+c.r||0;u.path=o.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",n((C-M)*y),n((k-L)*y),n((C+M)*y),n((k+L)*y),n(C*y)),i._.dirty=1}if("clip-rect"in l){var D=e(l["clip-rect"]).split(h);if(4==D.length){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var O=u.clipRect||o._g.doc.createElement("div"),V=O.style;V.clip=o.format("rect({1}px {2}px {3}px {0}px)",D),u.clipRect||(V.position="absolute",V.top=0,V.left=0,V.width=i.paper.width+"px",V.height=i.paper.height+"px",u.parentNode.insertBefore(O,u),O.appendChild(u),u.clipRect=O)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(i.textpath){var F=i.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,g)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}if("arrow-start"in l&&_(v,l["arrow-start"]),"arrow-end"in l&&_(v,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var $=u.getElementsByTagName(p),A=!1;if($=$&&$[0],!$&&(A=$=H(p)),"image"==i.type&&l.src&&($.src=l.src),l.fill&&($.on=!0),(null==$.on||"none"==l.fill||null===l.fill)&&($.on=!1),$.on&&l.fill){var P=e(l.fill).match(o._ISURL);if(P){$.parentNode==u&&u.removeChild($),$.rotate=!0,$.src=P[1],$.type="tile";var B=i.getBBox(1);$.position=B.x+d+B.y,i._.fillpos=[B.x,B.y],o._preload(P[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else $.color=o.getRGB(l.fill).hex,$.src=g,$.type="solid",o.getRGB(l.fill).error&&(v.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&T(v,l.fill,$)&&(c.fill="none",c.gradient=l.fill,$.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var N=((+c["fill-opacity"]+1||2)-1)*((+c.opacity+1||2)-1)*((+o.getRGB(l.fill).o+1||2)-1);N=r(s(N,0),1),$.opacity=N,$.src&&($.color="none")}u.appendChild($);var z=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],G=!1;!z&&(G=z=H("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(z.on=!0),("none"==l.stroke||null===l.stroke||null==z.on||0==l.stroke||0==l["stroke-width"])&&(z.on=!1);var W=o.getRGB(l.stroke);z.on&&l.stroke&&(z.color=W.hex),N=((+c["stroke-opacity"]+1||2)-1)*((+c.opacity+1||2)-1)*((+W.o+1||2)-1);var j=.75*(a(l["stroke-width"])||1);if(N=r(s(N,0),1),null==l["stroke-width"]&&(j=c["stroke-width"]),l["stroke-width"]&&(z.weight=j),j&&1>j&&(N*=j)&&(z.weight=1),z.opacity=N,l["stroke-linejoin"]&&(z.joinstyle=l["stroke-linejoin"]||"miter"),z.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(z.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var Z={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=Z[t](l["stroke-dasharray"])?Z[l["stroke-dasharray"]]:g}G&&u.appendChild(z)}if("text"==v.type){v.paper.canvas.style.display=g;var E=v.paper.span,R=100,Y=c.font&&c.font.match(/\d+(?:\.\d*)?(?=px)/);m=E.style,c.font&&(m.font=c.font),c["font-family"]&&(m.fontFamily=c["font-family"]),c["font-weight"]&&(m.fontWeight=c["font-weight"]),c["font-style"]&&(m.fontStyle=c["font-style"]),Y=a(c["font-size"]||Y&&Y[0])||10,m.fontSize=Y*R+"px",v.textpath.string&&(E.innerHTML=e(v.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var U=E.getBoundingClientRect();v.W=c.w=(U.right-U.left)/R,v.H=c.h=(U.bottom-U.top)/R,v.X=c.x,v.Y=c.y+v.H/2,("x"in l||"y"in l)&&(v.path.v=o.format("m{0},{1}l{2},{1}",n(c.x*y),n(c.y*y),n(c.x*y)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,J=X.length;J>Q;Q++)if(X[Q]in l){v._.dirty=1;break}switch(c["text-anchor"]){case"start":v.textpath.style["v-text-align"]="left",v.bbx=v.W/2;break;case"end":v.textpath.style["v-text-align"]="right",v.bbx=-v.W/2;break;default:v.textpath.style["v-text-align"]="center",v.bbx=0}v.textpath.style["v-text-kern"]=!0}},T=function(t,n,s){t.attrs=t.attrs||{};var r=(t.attrs,Math.pow),l="linear",p=".5 .5";if(t.attrs.gradient=n,n=e(n).replace(o._radial_gradient,function(t,e,o){return l="radial",e&&o&&(e=a(e),o=a(o),r(e-.5,2)+r(o-.5,2)>.25&&(o=i.sqrt(.25-r(e-.5,2))*(2*(o>.5)-1)+.5),p=e+d+o),g}),n=n.split(/\s*\-\s*/),"linear"==l){var h=n.shift();if(h=-a(h),isNaN(h))return null}var u=o._parseDots(n);if(!u)return null;if(t=t.shape||t.node,u.length){t.removeChild(s),s.on=!0,s.method="none",s.color=u[0].color,s.color2=u[u.length-1].color;for(var c=[],m=0,f=u.length;f>m;m++)u[m].offset&&c.push(u[m].offset+d+u[m].color);s.colors=c.length?c.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=p,s.angle=0):(s.type="gradient",s.angle=(270-h)%360),t.appendChild(s)}return 1},M=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=o._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=o.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},L=o.el;M.prototype=L,L.constructor=M,L.transform=function(t){if(null==t)return this._.transform;var a,i=this.paper._viewBoxShift,n=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:g;i&&(a=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||g)),o._extractTransform(this,n+t);var s,r=this.matrix.clone(),l=this.skew,p=this.node,h=~e(this.attrs.fill).indexOf("-"),u=!e(this.attrs.fill).indexOf("url(");if(r.translate(1,1),u||h||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=r.split(),h&&s.noRotation||!s.isSimple){p.style.filter=r.toFilter();var c=this.getBBox(),m=this.getBBox(1),f=c.x-m.x,b=c.y-m.y;p.coordorigin=f*-y+d+b*-y,I(this,1,1,f,b,0)}else p.style.filter=g,I(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else p.style.filter=g,l.matrix=e(r),l.offset=r.offset();return null!==a&&(this._.transform=a,o._extractTransform(this,a)),this},L.rotate=function(t,o,i){if(this.removed)return this;if(null!=t){if(t=e(t).split(h),t.length-1&&(o=a(t[1]),i=a(t[2])),t=a(t[0]),null==i&&(o=i),null==o||null==i){var n=this.getBBox(1);o=n.x+n.width/2,i=n.y+n.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,o,i]])),this}},L.translate=function(t,o){return this.removed?this:(t=e(t).split(h),t.length-1&&(o=a(t[1])),t=a(t[0])||0,o=+o||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=o),this.transform(this._.transform.concat([["t",t,o]])),this)},L.scale=function(t,o,i,n){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(o=a(t[1]),i=a(t[2]),n=a(t[3]),isNaN(i)&&(i=null),isNaN(n)&&(n=null)),t=a(t[0]),null==o&&(o=t),null==n&&(i=n),null==i||null==n)var s=this.getBBox(1);return i=null==i?s.x+s.width/2:i,n=null==n?s.y+s.height/2:n,this.transform(this._.transform.concat([["s",t,o,i,n]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=g),this},L.auxGetBBox=o.el.getBBox,L.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},o=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=o,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=o,e.width=t.width*o,e.height=t.height*o,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),o.eve.unbind("raphael.*.*."+this.id),o._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?o._removedFactory(t):null;this.removed=!0}},L.attr=function(e,a){if(this.removed)return this;if(null==e){var i={};for(var n in this.attrs)this.attrs[t](n)&&(i[n]=this.attrs[n]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==a&&o.is(e,"string")){if(e==p&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=e.split(h),r={},l=0,c=s.length;c>l;l++)e=s[l],r[e]=e in this.attrs?this.attrs[e]:o.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:o._availableAttrs[e];return c-1?r:r[s[0]]}if(this.attrs&&null==a&&o.is(e,"array")){for(r={},l=0,c=e.length;c>l;l++)r[e[l]]=this.attr(e[l]);return r}var d;null!=a&&(d={},d[e]=a),null==a&&o.is(e,"object")&&(d=e);for(var g in d)u("raphael.attr."+g+"."+this.id,this,d[g]);if(d){for(g in this.paper.customAttributes)if(this.paper.customAttributes[t](g)&&d[t](g)&&o.is(this.paper.customAttributes[g],"function")){var m=this.paper.customAttributes[g].apply(this,[].concat(d[g]));this.attrs[g]=d[g];for(var f in m)m[t](f)&&(d[f]=m[f])}d.text&&"text"==this.type&&(this.textpath.string=d.text),k(this,d)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&o._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),o._toback(this,this.paper)),this)},L.insertAfter=function(t){return this.removed?this:(t.constructor==o.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),o._insertafter(this,t,this.paper),this)},L.insertBefore=function(t){return this.removed?this:(t.constructor==o.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),o._insertbefore(this,t,this.paper),this)},L.blur=function(t){var e=this.node.runtimeStyle,a=e.filter;return a=a.replace(b,g),0!==+t?(this.attrs.blur=t,e.filter=a+d+c+".Blur(pixelradius="+(+t||1.5)+")",e.margin=o.format("-{0}px 0 0 -{0}px",n(+t||1.5))):(e.filter=a,e.margin=0,delete this.attrs.blur),this},o._engine.path=function(t,e){var o=H("shape");o.style.cssText=x,o.coordsize=y+d+y,o.coordorigin=e.coordorigin;var a=new M(o,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),a.type="path",a.path=[],a.Path=g,k(a,i),e.canvas.appendChild(o);var n=H("skew");return n.on=!0,o.appendChild(n),a.skew=n,a.transform(g),a},o._engine.rect=function(t,e,a,i,n,s){var r=o._rectPath(e,a,i,n,s),l=t.path(r),p=l.attrs;return l.X=p.x=e,l.Y=p.y=a,l.W=p.width=i,l.H=p.height=n,p.r=s,p.path=r,l.type="rect",l},o._engine.ellipse=function(t,e,o,a,i){var n=t.path();return n.attrs,n.X=e-a,n.Y=o-i,n.W=2*a,n.H=2*i,n.type="ellipse",k(n,{cx:e,
cy:o,rx:a,ry:i}),n},o._engine.circle=function(t,e,o,a){var i=t.path();return i.attrs,i.X=e-a,i.Y=o-a,i.W=i.H=2*a,i.type="circle",k(i,{cx:e,cy:o,r:a}),i},o._engine.image=function(t,e,a,i,n,s){var r=o._rectPath(a,i,n,s),l=t.path(r).attr({stroke:"none"}),h=l.attrs,u=l.node,c=u.getElementsByTagName(p)[0];return h.src=e,l.X=h.x=a,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=s,h.path=r,l.type="image",c.parentNode==u&&u.removeChild(c),c.rotate=!0,c.src=e,c.type="tile",l._.fillpos=[a,i],l._.fillsize=[n,s],u.appendChild(c),I(l,1,1,0,0,0),l},o._engine.text=function(t,a,i,s){var r=H("shape"),l=H("path"),p=H("textpath");a=a||0,i=i||0,s=s||"",l.v=o.format("m{0},{1}l{2},{1}",n(a*y),n(i*y),n(a*y)+1),l.textpathok=!0,p.string=e(s),p.on=!0,r.style.cssText=x,r.coordsize=y+d+y,r.coordorigin="0 0";var h=new M(r,t),u={fill:"#000",stroke:"none",font:o._availableAttrs.font,text:s};h.shape=r,h.path=l,h.textpath=p,h.type="text",h.attrs.text=e(s),h.attrs.x=a,h.attrs.y=i,h.attrs.w=1,h.attrs.h=1,k(h,u),r.appendChild(p),r.appendChild(l),t.canvas.appendChild(r);var c=H("skew");return c.on=!0,r.appendChild(c),h.skew=c,h.transform(g),h},o._engine.setSize=function(t,e){var a=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),a.width=t,a.height=e,a.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&o._engine.setViewBox.apply(this,this._viewBox),this},o._engine.setViewBox=function(t,e,a,i,n){o.eve("raphael.setViewBox",this,this._viewBox,[t,e,a,i,n]);var s,r,l=this.getSize(),p=l.width,h=l.height;return n&&(s=h/i,r=p/a,p>a*s&&(t-=(p-a*s)/2/s),h>i*r&&(e-=(h-i*r)/2/r)),this._viewBox=[t,e,a,i,!!n],this._viewBoxShift={dx:-t,dy:-e,scale:l},this.forEach(function(t){t.transform("...")}),this};var H;o._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),H=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(o){H=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},o._engine.initWin(o._g.win),o._engine.create=function(){var t=o._getContainer.apply(0,arguments),e=t.container,a=t.height,i=t.width,n=t.x,s=t.y;if(!e)throw new Error("VML container not found.");var r=new o._Paper,l=r.canvas=o._g.doc.createElement("div"),p=l.style;return n=n||0,s=s||0,i=i||512,a=a||342,r.width=i,r.height=a,i==+i&&(i+="px"),a==+a&&(a+="px"),r.coordsize=1e3*y+d+1e3*y,r.coordorigin="0 0",r.span=o._g.doc.createElement("span"),r.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(r.span),p.cssText=o.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,a),1==e?(o._g.doc.body.appendChild(l),p.left=n+"px",p.top=s+"px",p.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),r.renderfix=function(){},r},o.prototype.clear=function(){o.eve("raphael.clear",this),this.canvas.innerHTML=g,this.span=o._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},o.prototype.remove=function(){o.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?o._removedFactory(t):null;return!0};var D=o.st;for(var O in L)L[t](O)&&!D[t](O)&&(D[O]=function(t){return function(){var e=arguments;return this.forEach(function(o){o[t].apply(o,e)})}}(O))}}(),k.was?_.win.Raphael=o:Raphael=o,"object"==typeof exports&&(module.exports=o),o});var JSON;JSON||(JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var o,a,i,n,s,r=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(n=l.length,o=0;n>o;o+=1)s[o]=str(o,l)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+r+"]":"["+s.join(",")+"]",gap=r,i}if(rep&&"object"==typeof rep)for(n=rep.length,o=0;n>o;o+=1)"string"==typeof rep[o]&&(a=rep[o],i=str(a,l),i&&s.push(quote(a)+(gap?": ":":")+i));else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(i=str(a,l),i&&s.push(quote(a)+(gap?": ":":")+i));return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+r+"}":"{"+s.join(",")+"}",gap=r,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,o){var a;if(gap="",indent="","number"==typeof o)for(a=0;o>a;a+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var o,a,i=t[e];if(i&&"object"==typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a=walk(i,o),void 0!==a?i[o]=a:delete i[o]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t){function e(e){var o=e||window.event,a=[].slice.call(arguments,1),i=0,n=0,s=0;return e=t.event.fix(o),e.type="mousewheel",o.wheelDelta&&(i=o.wheelDelta/120),o.detail&&(i=-o.detail/3),s=i,void 0!==o.axis&&o.axis===o.HORIZONTAL_AXIS&&(s=0,n=-1*i),void 0!==o.wheelDeltaY&&(s=o.wheelDeltaY/120),void 0!==o.wheelDeltaX&&(n=-1*o.wheelDeltaX/120),a.unshift(e,i,n,s),(t.event.dispatch||t.event.handle).apply(this,a)}var o=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var a=o.length;a;)t.event.fixHooks[o[--a]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(t,e,o,a){"use strict";function i(t,e,o){return setTimeout(h(t,o),e)}function n(t,e,o){return Array.isArray(t)?(s(t,o[e],o),!0):!1}function s(t,e,o){var i;if(t)if(t.forEach)t.forEach(e,o);else if(t.length!==a)for(i=0;i<t.length;)e.call(o,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(o,t[i],i,t)}function r(t,e,o){for(var i=Object.keys(e),n=0;n<i.length;)(!o||o&&t[i[n]]===a)&&(t[i[n]]=e[i[n]]),n++;return t}function l(t,e){return r(t,e,!0)}function p(t,e,o){var a,i=e.prototype;a=t.prototype=Object.create(i),a.constructor=t,a._super=i,o&&r(a,o)}function h(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==ht?t.apply(e?e[0]||a:a,e):t}function c(t,e){return t===a?e:t}function d(t,e,o){s(b(e),function(e){t.addEventListener(e,o,!1)})}function g(t,e,o){s(b(e),function(e){t.removeEventListener(e,o,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function f(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function v(t,e,o){if(t.indexOf&&!o)return t.indexOf(e);for(var a=0;a<t.length;){if(o&&t[a][o]==e||!o&&t[a]===e)return a;a++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function y(t,e,o){for(var a=[],i=[],n=0;n<t.length;){var s=e?t[n][e]:t[n];v(i,s)<0&&a.push(t[n]),i[n]=s,n++}return o&&(a=e?a.sort(function(t,o){return t[e]>o[e]}):a.sort()),a}function q(t,e){for(var o,i,n=e[0].toUpperCase()+e.slice(1),s=0;s<lt.length;){if(o=lt[s],i=o?o+n:e,i in t)return i;s++}return a}function w(){return gt++}function S(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function C(t,e){var o=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&o.handler(e)},this.init()}function I(t){var e,o=t.options.inputClass;return new(e=o?o:bt?B:vt?G:ft?j:P)(t,_)}function _(t,e,o){var a=o.pointers.length,i=o.changedPointers.length,n=e&Ct&&a-i===0,s=e&(_t|kt)&&a-i===0;o.isFirst=!!n,o.isFinal=!!s,n&&(t.session={}),o.eventType=e,k(t,o),t.emit("hammer.input",o),t.recognize(o),t.session.prevInput=o}function k(t,e){var o=t.session,a=e.pointers,i=a.length;o.firstInput||(o.firstInput=L(e)),i>1&&!o.firstMultiple?o.firstMultiple=L(e):1===i&&(o.firstMultiple=!1);var n=o.firstInput,s=o.firstMultiple,r=s?s.center:n.center,l=e.center=H(a);e.timeStamp=dt(),e.deltaTime=e.timeStamp-n.timeStamp,e.angle=F(r,l),e.distance=V(r,l),T(o,e),e.offsetDirection=O(e.deltaX,e.deltaY),e.scale=s?A(s.pointers,a):1,e.rotation=s?$(s.pointers,a):0,M(o,e);var p=t.element;m(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}function T(t,e){var o=e.center,a=t.offsetDelta||{},i=t.prevDelta||{},n=t.prevInput||{};(e.eventType===Ct||n.eventType===_t)&&(i=t.prevDelta={x:n.deltaX||0,y:n.deltaY||0},a=t.offsetDelta={x:o.x,y:o.y}),e.deltaX=i.x+(o.x-a.x),e.deltaY=i.y+(o.y-a.y)}function M(t,e){var o,i,n,s,r=t.lastInterval||e,l=e.timeStamp-r.timeStamp;if(e.eventType!=kt&&(l>St||r.velocity===a)){var p=r.deltaX-e.deltaX,h=r.deltaY-e.deltaY,u=D(l,p,h);i=u.x,n=u.y,o=ct(u.x)>ct(u.y)?u.x:u.y,s=O(p,h),t.lastInterval=e}else o=r.velocity,i=r.velocityX,n=r.velocityY,s=r.direction;e.velocity=o,e.velocityX=i,e.velocityY=n,e.direction=s}function L(t){for(var e=[],o=0;o<t.pointers.length;)e[o]={clientX:ut(t.pointers[o].clientX),clientY:ut(t.pointers[o].clientY)},o++;return{timeStamp:dt(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:ut(t[0].clientX),y:ut(t[0].clientY)};for(var o=0,a=0,i=0;e>i;)o+=t[i].clientX,a+=t[i].clientY,i++;return{x:ut(o/e),y:ut(a/e)}}function D(t,e,o){return{x:e/t||0,y:o/t||0}}function O(t,e){return t===e?Tt:ct(t)>=ct(e)?t>0?Mt:Lt:e>0?Ht:Dt}function V(t,e,o){o||(o=$t);var a=e[o[0]]-t[o[0]],i=e[o[1]]-t[o[1]];return Math.sqrt(a*a+i*i)}function F(t,e,o){o||(o=$t);var a=e[o[0]]-t[o[0]],i=e[o[1]]-t[o[1]];return 180*Math.atan2(i,a)/Math.PI}function $(t,e){return F(e[1],e[0],At)-F(t[1],t[0],At)}function A(t,e){return V(e[0],e[1],At)/V(t[0],t[1],At)}function P(){this.evEl=Bt,this.evWin=Nt,this.allow=!0,this.pressed=!1,C.apply(this,arguments)}function B(){this.evEl=Wt,this.evWin=jt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Et,this.evWin=Rt,this.started=!1,C.apply(this,arguments)}function z(t,e){var o=x(t.touches),a=x(t.changedTouches);return e&(_t|kt)&&(o=y(o.concat(a),"identifier",!0)),[o,a]}function G(){this.evTarget=Ut,this.targetIds={},C.apply(this,arguments)}function W(t,e){var o=x(t.touches),a=this.targetIds;if(e&(Ct|It)&&1===o.length)return a[o[0].identifier]=!0,[o,o];var i,n,s=x(t.changedTouches),r=[],l=this.target;if(n=o.filter(function(t){return m(t.target,l)}),e===Ct)for(i=0;i<n.length;)a[n[i].identifier]=!0,i++;for(i=0;i<s.length;)a[s[i].identifier]&&r.push(s[i]),e&(_t|kt)&&delete a[s[i].identifier],i++;return r.length?[y(n.concat(r),"identifier",!0),r]:void 0}function j(){C.apply(this,arguments);var t=h(this.handler,this);this.touch=new G(this.manager,t),this.mouse=new P(this.manager,t)}function Z(t,e){this.manager=t,this.set(e)}function E(t){if(f(t,ee))return ee;var e=f(t,oe),o=f(t,ae);return e&&o?oe+" "+ae:e||o?e?oe:ae:f(t,te)?te:Kt}function R(t){this.id=w(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=c(this.options.enable,!0),this.state=ie,this.simultaneous={},this.requireFail=[]}function Y(t){return t&pe?"cancel":t&re?"end":t&se?"move":t&ne?"start":""}function U(t){return t==Dt?"down":t==Ht?"up":t==Mt?"left":t==Lt?"right":""}function X(t,e){var o=e.manager;return o?o.get(t):t}function Q(){R.apply(this,arguments)}function J(){Q.apply(this,arguments),this.pX=null,this.pY=null}function K(){Q.apply(this,arguments)}function tt(){R.apply(this,arguments),this._timer=null,this._input=null}function et(){Q.apply(this,arguments)}function ot(){Q.apply(this,arguments)}function at(){R.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function it(t,e){return e=e||{},e.recognizers=c(e.recognizers,it.defaults.preset),new nt(t,e)}function nt(t,e){e=e||{},this.options=l(e,it.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=I(this),this.touchAction=new Z(this,this.options.touchAction),st(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function st(t,e){var o=t.element;s(t.options.cssProps,function(t,a){o.style[q(o.style,a)]=e?t:""})}function rt(t,o){var a=e.createEvent("Event");a.initEvent(t,!0,!0),a.gesture=o,o.target.dispatchEvent(a)}var lt=["","webkit","moz","MS","ms","o"],pt=e.createElement("div"),ht="function",ut=Math.round,ct=Math.abs,dt=Date.now,gt=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,ft="ontouchstart"in t,bt=q(t,"PointerEvent")!==a,vt=ft&&mt.test(navigator.userAgent),xt="touch",yt="pen",qt="mouse",wt="kinect",St=25,Ct=1,It=2,_t=4,kt=8,Tt=1,Mt=2,Lt=4,Ht=8,Dt=16,Ot=Mt|Lt,Vt=Ht|Dt,Ft=Ot|Vt,$t=["x","y"],At=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(S(this.element),this.evWin,this.domHandler)}};var Pt={mousedown:Ct,mousemove:It,mouseup:_t},Bt="mousedown",Nt="mousemove mouseup";p(P,C,{handler:function(t){var e=Pt[t.type];e&Ct&&0===t.button&&(this.pressed=!0),e&It&&1!==t.which&&(e=_t),this.pressed&&this.allow&&(e&_t&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:qt,srcEvent:t}))}});var zt={pointerdown:Ct,pointermove:It,pointerup:_t,pointercancel:kt,pointerout:kt},Gt={2:xt,3:yt,4:qt,5:wt},Wt="pointerdown",jt="pointermove pointerup pointercancel";t.MSPointerEvent&&(Wt="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel"),p(B,C,{handler:function(t){var e=this.store,o=!1,a=t.type.toLowerCase().replace("ms",""),i=zt[a],n=Gt[t.pointerType]||t.pointerType,s=n==xt,r=v(e,t.pointerId,"pointerId");i&Ct&&(0===t.button||s)?0>r&&(e.push(t),r=e.length-1):i&(_t|kt)&&(o=!0),0>r||(e[r]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:n,srcEvent:t}),o&&e.splice(r,1))}});var Zt={touchstart:Ct,touchmove:It,touchend:_t,touchcancel:kt},Et="touchstart",Rt="touchstart touchmove touchend touchcancel";p(N,C,{handler:function(t){var e=Zt[t.type];if(e===Ct&&(this.started=!0),this.started){var o=z.call(this,t,e);e&(_t|kt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:o[0],changedPointers:o[1],pointerType:xt,srcEvent:t})}}});var Yt={touchstart:Ct,touchmove:It,touchend:_t,touchcancel:kt},Ut="touchstart touchmove touchend touchcancel";p(G,C,{handler:function(t){var e=Yt[t.type],o=W.call(this,t,e);o&&this.callback(this.manager,e,{pointers:o[0],changedPointers:o[1],pointerType:xt,srcEvent:t})}}),p(j,C,{handler:function(t,e,o){var a=o.pointerType==xt,i=o.pointerType==qt;if(a)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(_t|kt)&&(this.mouse.allow=!0),this.callback(t,e,o)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=q(pt.style,"touchAction"),Qt=Xt!==a,Jt="compute",Kt="auto",te="manipulation",ee="none",oe="pan-x",ae="pan-y";Z.prototype={set:function(t){t==Jt&&(t=this.compute()),Qt&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),E(t.join(" "))},preventDefaults:function(t){if(!Qt){var e=t.srcEvent,o=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var a=this.actions,i=f(a,ee),n=f(a,ae),s=f(a,oe);return i||n&&o&Ot||s&&o&Vt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ie=1,ne=2,se=4,re=8,le=re,pe=16,he=32;R.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=X(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)?this:(t=X(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return t=X(t,this),-1===v(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=X(t,this);var e=v(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){o.manager.emit(o.options.event+(e?Y(a):""),t)}var o=this,a=this.state;re>a&&e(!0),e(),a>=re&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=he)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(he|ie)))return!1;t++}return!0},recognize:function(t){var e=r({},t);return u(this.options.enable,[this,e])?(this.state&(le|pe|he)&&(this.state=ie),this.state=this.process(e),void(this.state&(ne|se|re|pe)&&this.tryEmit(e))):(this.reset(),void(this.state=he))},process:function(t){},getTouchAction:function(){},reset:function(){}},p(Q,R,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,o=t.eventType,a=e&(ne|se),i=this.attrTest(t);return a&&(o&kt||!i)?e|pe:a||i?o&_t?e|re:e&ne?e|se:ne:he}}),p(J,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ot&&e.push(ae),t&Vt&&e.push(oe),e},directionTest:function(t){var e=this.options,o=!0,a=t.distance,i=t.direction,n=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Ot?(i=0===n?Tt:0>n?Mt:Lt,o=n!=this.pX,a=Math.abs(t.deltaX)):(i=0===s?Tt:0>s?Ht:Dt,o=s!=this.pY,a=Math.abs(t.deltaY))),t.direction=i,o&&a>e.threshold&&i&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&ne||!(this.state&ne)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),p(K,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ne)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),p(tt,R,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Kt]},process:function(t){var e=this.options,o=t.pointers.length===e.pointers,a=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!a||!o||t.eventType&(_t|kt)&&!n)this.reset();else if(t.eventType&Ct)this.reset(),this._timer=i(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&_t)return le;return he},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&_t?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),p(et,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ne)}}),p(ot,Q,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ot|Vt,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,o=this.options.direction;return o&(Ot|Vt)?e=t.velocity:o&Ot?e=t.velocityX:o&Vt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&o&t.direction&&t.distance>this.options.threshold&&ct(e)>this.options.velocity&&t.eventType&_t},emit:function(t){var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(at,R,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,o=t.pointers.length===e.pointers,a=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&Ct&&0===this.count)return this.failTimeout();if(a&&n&&o){if(t.eventType!=_t)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||V(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=i(function(){this.state=le,this.tryEmit()},e.interval,this),ne):le}return he},failTimeout:function(){return this._timer=i(function(){this.state=he},this.options.interval,this),he},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),it.VERSION="2.0.4",it.defaults={domEvents:!1,touchAction:Jt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[K,{enable:!1},["rotate"]],[ot,{direction:Ot}],[J,{direction:Ot},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ue=1,ce=2;nt.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ce:ue},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var o,a=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&le)&&(i=e.curRecognizer=null);for(var n=0;n<a.length;)o=a[n],e.stopped===ce||i&&o!=i&&!o.canRecognizeWith(i)?o.reset():o.recognize(t),!i&&o.state&(ne|se|re)&&(i=e.curRecognizer=o),n++}},get:function(t){if(t instanceof R)return t;for(var e=this.recognizers,o=0;o<e.length;o++)if(e[o].options.event==t)return e[o];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(v(e,t),1),this.touchAction.update(),this},on:function(t,e){var o=this.handlers;return s(b(t),function(t){o[t]=o[t]||[],o[t].push(e)}),this},off:function(t,e){var o=this.handlers;return s(b(t),function(t){e?o[t].splice(v(o[t],e),1):delete o[t]}),this},emit:function(t,e){this.options.domEvents&&rt(t,e);var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](e),a++}},destroy:function(){this.element&&st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(it,{INPUT_START:Ct,INPUT_MOVE:It,INPUT_END:_t,INPUT_CANCEL:kt,STATE_POSSIBLE:ie,STATE_BEGAN:ne,STATE_CHANGED:se,STATE_ENDED:re,STATE_RECOGNIZED:le,STATE_CANCELLED:pe,STATE_FAILED:he,DIRECTION_NONE:Tt,DIRECTION_LEFT:Mt,DIRECTION_RIGHT:Lt,DIRECTION_UP:Ht,DIRECTION_DOWN:Dt,DIRECTION_HORIZONTAL:Ot,DIRECTION_VERTICAL:Vt,DIRECTION_ALL:Ft,Manager:nt,Input:C,TouchAction:Z,TouchInput:G,MouseInput:P,PointerEventInput:B,TouchMouseInput:j,SingleTouchInput:N,Recognizer:R,AttrRecognizer:Q,Tap:at,Pan:J,Swipe:ot,Pinch:K,Rotate:et,Press:tt,on:d,off:g,each:s,merge:l,extend:r,inherit:p,bindFn:h,prefixed:q}),typeof define==ht&&define.amd?define(function(){return it}):"undefined"!=typeof module&&module.exports?module.exports=it:t[o]=it}(window,document,"Hammer"),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return ko.apply(null,arguments)}function e(t){ko=t}function o(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function n(t,e){var o,a=[];for(o=0;o<t.length;++o)a.push(e(t[o],o));return a}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){for(var o in e)s(e,o)&&(t[o]=e[o]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,o,a){return Ct(t,e,o,a,!0).utc()}function p(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&void 0===t._pf.bigHour)),t._isValid}function h(t){var e=l(NaN);return null!=t?r(e._pf,t):e._pf.userInvalidated=!0,e}function u(t,e){var o,a,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Mo.length>0)for(o in Mo)a=Mo[o],i=e[a],"undefined"!=typeof i&&(t[a]=i);return t}function c(e){u(this,e),this._d=new Date(+e._d),Lo===!1&&(Lo=!0,t.updateOffset(this),Lo=!1)}function d(t){return t instanceof c||null!=t&&s(t,"_isAMomentObject")}function g(t){var e=+t,o=0;return 0!==e&&isFinite(e)&&(o=e>=0?Math.floor(e):Math.ceil(e)),o}function m(t,e,o){var a,i=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),s=0;for(a=0;i>a;a++)(o&&t[a]!==e[a]||!o&&g(t[a])!==g(e[a]))&&s++;return s+n}function f(){}function b(t){return t?t.toLowerCase().replace("_","-"):t}function v(t){for(var e,o,a,i,n=0;n<t.length;){for(i=b(t[n]).split("-"),e=i.length,o=b(t[n+1]),o=o?o.split("-"):null;e>0;){if(a=x(i.slice(0,e).join("-")))return a;if(o&&o.length>=e&&m(i,o,!0)>=e-1)break;e--}n++}return null}function x(t){var e=null;if(!Ho[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=To._abbr,require("./locale/"+t),y(e)}catch(o){}return Ho[t]}function y(t,e){var o;return t&&(o="undefined"==typeof e?w(t):q(t,e),o&&(To=o)),To._abbr}function q(t,e){return null!==e?(e.abbr=t,Ho[t]||(Ho[t]=new f),Ho[t].set(e),y(t),Ho[t]):(delete Ho[t],null)}function w(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return To;if(!a(t)){if(e=x(t))return e;t=[t]}return v(t)}function S(t,e){var o=t.toLowerCase();Do[o]=Do[o+"s"]=Do[e]=t}function C(t){return"string"==typeof t?Do[t]||Do[t.toLowerCase()]:void 0}function I(t){var e,o,a={};for(o in t)s(t,o)&&(e=C(o),e&&(a[e]=t[o]));return a}function _(e,o){return function(a){return null!=a?(T(this,e,a),t.updateOffset(this,o),this):k(this,e)}}function k(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function T(t,e,o){return t._d["set"+(t._isUTC?"UTC":"")+e](o)}function M(t,e){var o;if("object"==typeof t)for(o in t)this.set(o,t[o]);else if(t=C(t),"function"==typeof this[t])return this[t](e);return this}function L(t,e,o){for(var a=""+Math.abs(t),i=t>=0;a.length<e;)a="0"+a;return(i?o?"+":"":"-")+a}function H(t,e,o,a){var i=a;"string"==typeof a&&(i=function(){return this[a]()}),t&&($o[t]=i),e&&($o[e[0]]=function(){return L(i.apply(this,arguments),e[1],e[2])}),o&&($o[o]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function D(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function O(t){var e,o,a=t.match(Oo);for(e=0,o=a.length;o>e;e++)a[e]=$o[a[e]]?$o[a[e]]:D(a[e]);return function(i){var n="";for(e=0;o>e;e++)n+=a[e]instanceof Function?a[e].call(i,t):a[e];return n}}function V(t,e){return t.isValid()?(e=F(e,t.localeData()),Fo[e]||(Fo[e]=O(e)),Fo[e](t)):t.localeData().invalidDate()}function F(t,e){function o(t){return e.longDateFormat(t)||t}var a=5;for(Vo.lastIndex=0;a>=0&&Vo.test(t);)t=t.replace(Vo,o),Vo.lastIndex=0,a-=1;return t}function $(t,e,o){Qo[t]="function"==typeof e?e:function(t){return t&&o?o:e}}function A(t,e){return s(Qo,t)?Qo[t](e._strict,e._locale):new RegExp(P(t))}function P(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,o,a,i){return e||o||a||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(t,e){var o,a=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(a=function(t,o){o[e]=g(t)}),o=0;o<t.length;o++)Jo[t[o]]=a}function N(t,e){B(t,function(t,o,a,i){a._w=a._w||{},e(t,a._w,a,i)})}function z(t,e,o){null!=e&&s(Jo,t)&&Jo[t](e,o._a,o,t)}function G(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function W(t){return this._months[t.month()]}function j(t){return this._monthsShort[t.month()]}function Z(t,e,o){var a,i,n;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;12>a;a++){if(i=l([2e3,a]),o&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),o||this._monthsParse[a]||(n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(n.replace(".",""),"i")),o&&"MMMM"===e&&this._longMonthsParse[a].test(t))return a;if(o&&"MMM"===e&&this._shortMonthsParse[a].test(t))return a;if(!o&&this._monthsParse[a].test(t))return a}}function E(t,e){var o;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(o=Math.min(t.date(),G(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,o),
t)}function R(e){return null!=e?(E(this,e),t.updateOffset(this,!0),this):k(this,"Month")}function Y(){return G(this.year(),this.month())}function U(t){var e,o=t._a;return o&&-2===t._pf.overflow&&(e=o[ta]<0||o[ta]>11?ta:o[ea]<1||o[ea]>G(o[Ko],o[ta])?ea:o[oa]<0||o[oa]>24||24===o[oa]&&(0!==o[aa]||0!==o[ia]||0!==o[na])?oa:o[aa]<0||o[aa]>59?aa:o[ia]<0||o[ia]>59?ia:o[na]<0||o[na]>999?na:-1,t._pf._overflowDayOfYear&&(Ko>e||e>ea)&&(e=ea),t._pf.overflow=e),t}function X(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Q(t,e){var o=!0;return r(function(){return o&&(X(t),o=!1),e.apply(this,arguments)},e)}function J(t,e){la[t]||(X(e),la[t]=!0)}function K(t){var e,o,a=t._i,i=pa.exec(a);if(i){for(t._pf.iso=!0,e=0,o=ha.length;o>e;e++)if(ha[e][1].exec(a)){t._f=ha[e][0]+(i[6]||" ");break}for(e=0,o=ua.length;o>e;e++)if(ua[e][1].exec(a)){t._f+=ua[e][0];break}a.match(Yo)&&(t._f+="Z"),vt(t)}else t._isValid=!1}function tt(e){var o=ca.exec(e._i);return null!==o?void(e._d=new Date(+o[1])):(K(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function et(t,e,o,a,i,n,s){var r=new Date(t,e,o,a,i,n,s);return 1970>t&&r.setFullYear(t),r}function ot(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t){return it(t)?366:365}function it(t){return t%4===0&&t%100!==0||t%400===0}function nt(){return it(this.year())}function st(t,e,o){var a,i=o-e,n=o-t.day();return n>i&&(n-=7),i-7>n&&(n+=7),a=It(t).add(n,"d"),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function rt(t){return st(t,this._week.dow,this._week.doy).week}function lt(){return this._week.dow}function pt(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ut(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ct(t,e,o,a,i){var n,s,r=ot(t,0,1).getUTCDay();return r=0===r?7:r,o=null!=o?o:i,n=i-r+(r>a?7:0)-(i>r?7:0),s=7*(e-1)+(o-i)+n+1,{year:s>0?t:t-1,dayOfYear:s>0?s:at(t-1)+s}}function dt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,o){return null!=t?t:null!=e?e:o}function mt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ft(t){var e,o,a,i,n=[];if(!t._d){for(a=mt(t),t._w&&null==t._a[ea]&&null==t._a[ta]&&bt(t),t._dayOfYear&&(i=gt(t._a[Ko],a[Ko]),t._dayOfYear>at(i)&&(t._pf._overflowDayOfYear=!0),o=ot(i,0,t._dayOfYear),t._a[ta]=o.getUTCMonth(),t._a[ea]=o.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=n[e]=a[e];for(;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[oa]&&0===t._a[aa]&&0===t._a[ia]&&0===t._a[na]&&(t._nextDay=!0,t._a[oa]=0),t._d=(t._useUTC?ot:et).apply(null,n),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[oa]=24)}}function bt(t){var e,o,a,i,n,s,r;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(n=1,s=4,o=gt(e.GG,t._a[Ko],st(It(),1,4).year),a=gt(e.W,1),i=gt(e.E,1)):(n=t._locale._week.dow,s=t._locale._week.doy,o=gt(e.gg,t._a[Ko],st(It(),n,s).year),a=gt(e.w,1),null!=e.d?(i=e.d,n>i&&++a):i=null!=e.e?e.e+n:n),r=ct(o,a,i,s,n),t._a[Ko]=r.year,t._dayOfYear=r.dayOfYear}function vt(e){if(e._f===t.ISO_8601)return void K(e);e._a=[],e._pf.empty=!0;var o,a,i,n,s,r=""+e._i,l=r.length,p=0;for(i=F(e._f,e._locale).match(Oo)||[],o=0;o<i.length;o++)n=i[o],a=(r.match(A(n,e))||[])[0],a&&(s=r.substr(0,r.indexOf(a)),s.length>0&&e._pf.unusedInput.push(s),r=r.slice(r.indexOf(a)+a.length),p+=a.length),$o[n]?(a?e._pf.empty=!1:e._pf.unusedTokens.push(n),z(n,a,e)):e._strict&&!a&&e._pf.unusedTokens.push(n);e._pf.charsLeftOver=l-p,r.length>0&&e._pf.unusedInput.push(r),e._pf.bigHour===!0&&e._a[oa]<=12&&(e._pf.bigHour=void 0),e._a[oa]=xt(e._locale,e._a[oa],e._meridiem),ft(e),U(e)}function xt(t,e,o){var a;return null==o?e:null!=t.meridiemHour?t.meridiemHour(e,o):null!=t.isPM?(a=t.isPM(o),a&&12>e&&(e+=12),a||12!==e||(e=0),e):e}function yt(t){var e,a,i,n,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)s=0,e=u({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=o(),e._f=t._f[n],vt(e),p(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==i||i>s)&&(i=s,a=e));r(t,a||e)}function qt(t){if(!t._d){var e=I(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],ft(t)}}function wt(t){var e,o=t._i,i=t._f;return t._locale=t._locale||w(t._l),null===o||void 0===i&&""===o?h({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),d(o)?new c(U(o)):(a(i)?yt(t):i?vt(t):St(t),e=new c(U(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function St(e){var o=e._i;void 0===o?e._d=new Date:i(o)?e._d=new Date(+o):"string"==typeof o?tt(e):a(o)?(e._a=n(o.slice(0),function(t){return parseInt(t,10)}),ft(e)):"object"==typeof o?qt(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function Ct(t,e,a,i,n){var s={};return"boolean"==typeof a&&(i=a,a=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=a,s._i=t,s._f=e,s._strict=i,s._pf=o(),wt(s)}function It(t,e,o,a){return Ct(t,e,o,a,!1)}function _t(t,e){var o,i;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return It();for(o=e[0],i=1;i<e.length;++i)e[i][t](o)&&(o=e[i]);return o}function kt(){var t=[].slice.call(arguments,0);return _t("isBefore",t)}function Tt(){var t=[].slice.call(arguments,0);return _t("isAfter",t)}function Mt(t){var e=I(t),o=e.year||0,a=e.quarter||0,i=e.month||0,n=e.week||0,s=e.day||0,r=e.hour||0,l=e.minute||0,p=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*p+6e4*l+36e5*r,this._days=+s+7*n,this._months=+i+3*a+12*o,this._data={},this._locale=w(),this._bubble()}function Lt(t){return t instanceof Mt}function Ht(t,e){H(t,0,0,function(){var t=this.utcOffset(),o="+";return 0>t&&(t=-t,o="-"),o+L(~~(t/60),2)+e+L(~~t%60,2)})}function Dt(t){var e=(t||"").match(Yo)||[],o=e[e.length-1]||[],a=(o+"").match(ba)||["-",0,0],i=+(60*a[1])+g(a[2]);return"+"===a[0]?i:-i}function Ot(e,o){var a,n;return o._isUTC?(a=o.clone(),n=(d(e)||i(e)?+e:+It(e))-+a,a._d.setTime(+a._d+n),t.updateOffset(a,!1),a):It(e).local()}function Vt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ft(e,o){var a,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Dt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&o&&(a=Vt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==e&&(!o||this._changeInProgress?Qt(this,Et(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Vt(this)}function $t(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function At(t){return this.utcOffset(0,t)}function Pt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Vt(this),"m")),this}function Bt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Dt(this._i)),this}function Nt(t){return t=t?It(t).utcOffset():0,(this.utcOffset()-t)%60===0}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if(this._a){var t=this._isUTC?l(this._a):It(this._a);return this.isValid()&&m(this._a,t.toArray())>0}return!1}function Wt(){return!this._isUTC}function jt(){return this._isUTC}function Zt(){return this._isUTC&&0===this._offset}function Et(t,e){var o,a,i,n=t,r=null;return Lt(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(n={},e?n[e]=t:n.milliseconds=t):(r=va.exec(t))?(o="-"===r[1]?-1:1,n={y:0,d:g(r[ea])*o,h:g(r[oa])*o,m:g(r[aa])*o,s:g(r[ia])*o,ms:g(r[na])*o}):(r=xa.exec(t))?(o="-"===r[1]?-1:1,n={y:Rt(r[2],o),M:Rt(r[3],o),d:Rt(r[4],o),h:Rt(r[5],o),m:Rt(r[6],o),s:Rt(r[7],o),w:Rt(r[8],o)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(i=Ut(It(n.from),It(n.to)),n={},n.ms=i.milliseconds,n.M=i.months),a=new Mt(n),Lt(t)&&s(t,"_locale")&&(a._locale=t._locale),a}function Rt(t,e){var o=t&&parseFloat(t.replace(",","."));return(isNaN(o)?0:o)*e}function Yt(t,e){var o={milliseconds:0,months:0};return o.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(o.months,"M").isAfter(e)&&--o.months,o.milliseconds=+e-+t.clone().add(o.months,"M"),o}function Ut(t,e){var o;return e=Ot(e,t),t.isBefore(e)?o=Yt(t,e):(o=Yt(e,t),o.milliseconds=-o.milliseconds,o.months=-o.months),o}function Xt(t,e){return function(o,a){var i,n;return null===a||isNaN(+a)||(J(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),n=o,o=a,a=n),o="string"==typeof o?+o:o,i=Et(o,a),Qt(this,i,t),this}}function Qt(e,o,a,i){var n=o._milliseconds,s=o._days,r=o._months;i=null==i?!0:i,n&&e._d.setTime(+e._d+n*a),s&&T(e,"Date",k(e,"Date")+s*a),r&&E(e,k(e,"Month")+r*a),i&&t.updateOffset(e,s||r)}function Jt(t){var e=t||It(),o=Ot(e,this).startOf("day"),a=this.diff(o,"days",!0),i=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,It(e)))}function Kt(){return new c(this)}function te(t,e){var o;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=d(t)?t:It(t),+this>+t):(o=d(t)?+t:+It(t),o<+this.clone().startOf(e))}function ee(t,e){var o;return e=C("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=d(t)?t:It(t),+t>+this):(o=d(t)?+t:+It(t),+this.clone().endOf(e)<o)}function oe(t,e,o){return this.isAfter(t,o)&&this.isBefore(e,o)}function ae(t,e){var o;return e=C(e||"millisecond"),"millisecond"===e?(t=d(t)?t:It(t),+this===+t):(o=+It(t),+this.clone().startOf(e)<=o&&o<=+this.clone().endOf(e))}function ie(t){return 0>t?Math.ceil(t):Math.floor(t)}function ne(t,e,o){var a,i,n=Ot(t,this),s=6e4*(n.utcOffset()-this.utcOffset());return e=C(e),"year"===e||"month"===e||"quarter"===e?(i=se(this,n),"quarter"===e?i/=3:"year"===e&&(i/=12)):(a=this-n,i="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-s)/864e5:"week"===e?(a-s)/6048e5:a),o?i:ie(i)}function se(t,e){var o,a,i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return 0>e-n?(o=t.clone().add(i-1,"months"),a=(e-n)/(n-o)):(o=t.clone().add(i+1,"months"),a=(e-n)/(o-n)),-(i+a)}function re(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function le(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pe(e){var o=V(this,e||t.defaultFormat);return this.localeData().postformat(o)}function he(t,e){return Et({to:this,from:t}).locale(this.locale()).humanize(!e)}function ue(t){return this.from(It(),t)}function ce(t){var e;return void 0===t?this._locale._abbr:(e=w(t),null!=e&&(this._locale=e),this)}function de(){return this._locale}function ge(t){switch(t=C(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function me(t){return t=C(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function fe(){return+this._d-6e4*(this._offset||0)}function be(){return Math.floor(+this/1e3)}function ve(){return this._offset?new Date(+this):this._d}function xe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ye(){return p(this)}function qe(){return r({},this._pf)}function we(){return this._pf.overflow}function Se(t,e){H(0,[t,t.length],0,e)}function Ce(t,e,o){return st(It([t,11,31+e-o]),e,o).week}function Ie(t){var e=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function _e(t){var e=st(this,1,4).year;return null==t?e:this.add(t-e,"y")}function ke(){return Ce(this.year(),1,4)}function Te(){var t=this.localeData()._week;return Ce(this.year(),t.dow,t.doy)}function Me(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Le(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function He(t){return this._weekdays[t.day()]}function De(t){return this._weekdaysShort[t.day()]}function Oe(t){return this._weekdaysMin[t.day()]}function Ve(t){var e,o,a;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(o=It([2e3,1]).day(e),a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[e]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Fe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Le(t,this.localeData()),this.add(t-e,"d")):e}function $e(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ae(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Pe(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Be(t,e){return e._meridiemParse}function Ne(t){return"p"===(t+"").toLowerCase().charAt(0)}function ze(t,e,o){return t>11?o?"pm":"PM":o?"am":"AM"}function Ge(t){H(0,[t,3],0,"millisecond")}function We(){return this._isUTC?"UTC":""}function je(){return this._isUTC?"Coordinated Universal Time":""}function Ze(t){return It(1e3*t)}function Ee(){return It.apply(null,arguments).parseZone()}function Re(t,e,o){var a=this._calendar[t];return"function"==typeof a?a.call(e,o):a}function Ye(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Ue(){return this._invalidDate}function Xe(t){return this._ordinal.replace("%d",t)}function Qe(t){return t}function Je(t,e,o,a){var i=this._relativeTime[o];return"function"==typeof i?i(t,e,o,a):i.replace(/%d/i,t)}function Ke(t,e){var o=this._relativeTime[t>0?"future":"past"];return"function"==typeof o?o(e):o.replace(/%s/i,e)}function to(t){var e,o;for(o in t)e=t[o],"function"==typeof e?this[o]=e:this["_"+o]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function eo(t,e,o,a){var i=w(),n=l().set(a,e);return i[o](n,t)}function oo(t,e,o,a,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return eo(t,e,o,i);var n,s=[];for(n=0;a>n;n++)s[n]=eo(t,n,o,i);return s}function ao(t,e){return oo(t,e,"months",12,"month")}function io(t,e){return oo(t,e,"monthsShort",12,"month")}function no(t,e){return oo(t,e,"weekdays",7,"day")}function so(t,e){return oo(t,e,"weekdaysShort",7,"day")}function ro(t,e){return oo(t,e,"weekdaysMin",7,"day")}function lo(){var t=this._data;return this._milliseconds=za(this._milliseconds),this._days=za(this._days),this._months=za(this._months),t.milliseconds=za(t.milliseconds),t.seconds=za(t.seconds),t.minutes=za(t.minutes),t.hours=za(t.hours),t.months=za(t.months),t.years=za(t.years),this}function po(t,e,o,a){var i=Et(e,o);return t._milliseconds+=a*i._milliseconds,t._days+=a*i._days,t._months+=a*i._months,t._bubble()}function ho(t,e){return po(this,t,e,1)}function uo(t,e){return po(this,t,e,-1)}function co(){var t,e,o,a=this._milliseconds,i=this._days,n=this._months,s=this._data,r=0;return s.milliseconds=a%1e3,t=ie(a/1e3),s.seconds=t%60,e=ie(t/60),s.minutes=e%60,o=ie(e/60),s.hours=o%24,i+=ie(o/24),r=ie(go(i)),i-=ie(mo(r)),n+=ie(i/30),i%=30,r+=ie(n/12),n%=12,s.days=i,s.months=n,s.years=r,this}function go(t){return 400*t/146097}function mo(t){return 146097*t/400}function fo(t){var e,o,a=this._milliseconds;if(t=C(t),"month"===t||"year"===t)return e=this._days+a/864e5,o=this._months+12*go(e),"month"===t?o:o/12;switch(e=this._days+Math.round(mo(this._months/12)),t){case"week":return e/7+a/6048e5;case"day":return e+a/864e5;case"hour":return 24*e+a/36e5;case"minute":return 24*e*60+a/6e4;case"second":return 24*e*60*60+a/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+a;default:throw new Error("Unknown unit "+t)}}function bo(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function vo(t){return function(){return this.as(t)}}function xo(t){return t=C(t),this[t+"s"]()}function yo(t){return function(){return this._data[t]}}function qo(){return ie(this.days()/7)}function wo(t,e,o,a,i){return i.relativeTime(e||1,!!o,t,a)}function So(t,e,o){var a=Et(t).abs(),i=ai(a.as("s")),n=ai(a.as("m")),s=ai(a.as("h")),r=ai(a.as("d")),l=ai(a.as("M")),p=ai(a.as("y")),h=i<ii.s&&["s",i]||1===n&&["m"]||n<ii.m&&["mm",n]||1===s&&["h"]||s<ii.h&&["hh",s]||1===r&&["d"]||r<ii.d&&["dd",r]||1===l&&["M"]||l<ii.M&&["MM",l]||1===p&&["y"]||["yy",p];return h[2]=e,h[3]=+t>0,h[4]=o,wo.apply(null,h)}function Co(t,e){return void 0===ii[t]?!1:void 0===e?ii[t]:(ii[t]=e,!0)}function Io(t){var e=this.localeData(),o=So(this,!t,e);return t&&(o=e.pastFuture(+this,o)),e.postformat(o)}function _o(){var t=ni(this.years()),e=ni(this.months()),o=ni(this.days()),a=ni(this.hours()),i=ni(this.minutes()),n=ni(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(o?o+"D":"")+(a||i||n?"T":"")+(a?a+"H":"")+(i?i+"M":"")+(n?n+"S":""):"P0D"}var ko,To,Mo=t.momentProperties=[],Lo=!1,Ho={},Do={},Oo=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Vo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fo={},$o={},Ao=/\d/,Po=/\d\d/,Bo=/\d{3}/,No=/\d{4}/,zo=/[+-]?\d{6}/,Go=/\d\d?/,Wo=/\d{1,3}/,jo=/\d{1,4}/,Zo=/[+-]?\d{1,6}/,Eo=/\d+/,Ro=/[+-]?\d+/,Yo=/Z|[+-]\d\d:?\d\d/gi,Uo=/[+-]?\d+(\.\d{1,3})?/,Xo=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qo={},Jo={},Ko=0,ta=1,ea=2,oa=3,aa=4,ia=5,na=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),$("M",Go),$("MM",Go,Po),$("MMM",Xo),$("MMMM",Xo),B(["M","MM"],function(t,e){e[ta]=g(t)-1}),B(["MMM","MMMM"],function(t,e,o,a){var i=o._locale.monthsParse(t,a,o._strict);null!=i?e[ta]=i:o._pf.invalidMonth=t});var sa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ra="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),la={};t.suppressDeprecationWarnings=!1;var pa=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ha=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ua=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ca=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),S("year","y"),$("Y",Ro),$("YY",Go,Po),$("YYYY",jo,No),$("YYYYY",Zo,zo),$("YYYYYY",Zo,zo),B(["YYYY","YYYYY","YYYYYY"],Ko),B("YY",function(e,o){o[Ko]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var da=_("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),$("w",Go),$("ww",Go,Po),$("W",Go),$("WW",Go,Po),N(["w","ww","W","WW"],function(t,e,o,a){e[a.substr(0,1)]=g(t)});var ga={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),$("DDD",Wo),$("DDDD",Bo),B(["DDD","DDDD"],function(t,e,o){o._dayOfYear=g(t)}),t.ISO_8601=function(){};var ma=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=It.apply(null,arguments);return this>t?this:t}),fa=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=It.apply(null,arguments);return t>this?this:t});Ht("Z",":"),Ht("ZZ",""),$("Z",Yo),$("ZZ",Yo),B(["Z","ZZ"],function(t,e,o){o._useUTC=!0,o._tzm=Dt(t)});var ba=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var va=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Et.fn=Mt.prototype;var ya=Xt(1,"add"),qa=Xt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var wa=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Se("gggg","weekYear"),Se("ggggg","weekYear"),Se("GGGG","isoWeekYear"),Se("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),$("G",Ro),$("g",Ro),$("GG",Go,Po),$("gg",Go,Po),$("GGGG",jo,No),$("gggg",jo,No),$("GGGGG",Zo,zo),$("ggggg",Zo,zo),N(["gggg","ggggg","GGGG","GGGGG"],function(t,e,o,a){e[a.substr(0,2)]=g(t)}),N(["gg","GG"],function(e,o,a,i){o[i]=t.parseTwoDigitYear(e)}),H("Q",0,0,"quarter"),S("quarter","Q"),$("Q",Ao),B("Q",function(t,e){e[ta]=3*(g(t)-1)}),H("D",["DD",2],"Do","date"),S("date","D"),$("D",Go),$("DD",Go,Po),$("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),B(["D","DD"],ea),B("Do",function(t,e){e[ea]=g(t.match(Go)[0],10)});var Sa=_("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),$("d",Go),$("e",Go),$("E",Go),$("dd",Xo),$("ddd",Xo),$("dddd",Xo),N(["dd","ddd","dddd"],function(t,e,o){var a=o._locale.weekdaysParse(t);null!=a?e.d=a:o._pf.invalidWeekday=t}),N(["d","e","E"],function(t,e,o,a){e[a]=g(t)});var Ca="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ia="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_a="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Pe("a",!0),Pe("A",!1),S("hour","h"),$("a",Be),$("A",Be),$("H",Go),$("h",Go),$("HH",Go,Po),$("hh",Go,Po),B(["H","HH"],oa),B(["a","A"],function(t,e,o){o._isPm=o._locale.isPM(t),o._meridiem=t}),B(["h","hh"],function(t,e,o){e[oa]=g(t),o._pf.bigHour=!0});var ka=/[ap]\.?m?\.?/i,Ta=_("Hours",!0);H("m",["mm",2],0,"minute"),S("minute","m"),$("m",Go),$("mm",Go,Po),B(["m","mm"],aa);var Ma=_("Minutes",!1);H("s",["ss",2],0,"second"),S("second","s"),$("s",Go),$("ss",Go,Po),B(["s","ss"],ia);var La=_("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge("SSS"),Ge("SSSS"),S("millisecond","ms"),$("S",Wo,Ao),$("SS",Wo,Po),$("SSS",Wo,Bo),$("SSSS",Eo),B(["S","SS","SSS","SSSS"],function(t,e){e[na]=g(1e3*("0."+t))});var Ha=_("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Da=c.prototype;Da.add=ya,Da.calendar=Jt,Da.clone=Kt,Da.diff=ne,Da.endOf=me,Da.format=pe,Da.from=he,Da.fromNow=ue,Da.get=M,Da.invalidAt=we,Da.isAfter=te,Da.isBefore=ee,Da.isBetween=oe,Da.isSame=ae,Da.isValid=ye,Da.lang=wa,Da.locale=ce,Da.localeData=de,Da.max=fa,Da.min=ma,Da.parsingFlags=qe,Da.set=M,Da.startOf=ge,Da.subtract=qa,Da.toArray=xe,Da.toDate=ve,Da.toISOString=le,Da.toJSON=le,Da.toString=re,Da.unix=be,Da.valueOf=fe,Da.year=da,Da.isLeapYear=nt,Da.weekYear=Ie,Da.isoWeekYear=_e,Da.quarter=Da.quarters=Me,Da.month=R,Da.daysInMonth=Y,Da.week=Da.weeks=ht,Da.isoWeek=Da.isoWeeks=ut,Da.weeksInYear=Te,Da.isoWeeksInYear=ke,Da.date=Sa,Da.day=Da.days=Fe,Da.weekday=$e,Da.isoWeekday=Ae,Da.dayOfYear=dt,Da.hour=Da.hours=Ta,Da.minute=Da.minutes=Ma,Da.second=Da.seconds=La,Da.millisecond=Da.milliseconds=Ha,Da.utcOffset=Ft,Da.utc=At,Da.local=Pt,Da.parseZone=Bt,Da.hasAlignedHourOffset=Nt,Da.isDST=zt,Da.isDSTShifted=Gt,Da.isLocal=Wt,Da.isUtcOffset=jt,Da.isUtc=Zt,Da.isUTC=Zt,Da.zoneAbbr=We,Da.zoneName=je,Da.dates=Q("dates accessor is deprecated. Use date instead.",Sa),Da.months=Q("months accessor is deprecated. Use month instead",R),Da.years=Q("years accessor is deprecated. Use year instead",da),Da.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",$t);var Oa=Da,Va={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fa={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},$a="Invalid date",Aa="%d",Pa=/\d{1,2}/,Ba={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Na=f.prototype;Na._calendar=Va,Na.calendar=Re,Na._longDateFormat=Fa,Na.longDateFormat=Ye,Na._invalidDate=$a,Na.invalidDate=Ue,Na._ordinal=Aa,Na.ordinal=Xe,Na._ordinalParse=Pa,Na.preparse=Qe,Na.postformat=Qe,Na._relativeTime=Ba,Na.relativeTime=Je,Na.pastFuture=Ke,Na.set=to,Na.months=W,Na._months=sa,Na.monthsShort=j,Na._monthsShort=ra,Na.monthsParse=Z,Na.week=rt,Na._week=ga,Na.firstDayOfYear=pt,Na.firstDayOfWeek=lt,Na.weekdays=He,Na._weekdays=Ca,Na.weekdaysMin=Oe,Na._weekdaysMin=_a,Na.weekdaysShort=De,Na._weekdaysShort=Ia,Na.weekdaysParse=Ve,Na.isPM=Ne,Na._meridiemParse=ka,Na.meridiem=ze,y("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,o=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+o}}),t.lang=Q("moment.lang is deprecated. Use moment.locale instead.",y),t.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",w);var za=Math.abs,Ga=vo("ms"),Wa=vo("s"),ja=vo("m"),Za=vo("h"),Ea=vo("d"),Ra=vo("w"),Ya=vo("M"),Ua=vo("y"),Xa=yo("milliseconds"),Qa=yo("seconds"),Ja=yo("minutes"),Ka=yo("hours"),ti=yo("days"),ei=yo("months"),oi=yo("years"),ai=Math.round,ii={s:45,m:45,h:22,d:26,M:11},ni=Math.abs,si=Mt.prototype;si.abs=lo,si.add=ho,si.subtract=uo,si.as=fo,si.asMilliseconds=Ga,si.asSeconds=Wa,si.asMinutes=ja,si.asHours=Za,si.asDays=Ea,si.asWeeks=Ra,si.asMonths=Ya,si.asYears=Ua,si.valueOf=bo,si._bubble=co,si.get=xo,si.milliseconds=Xa,si.seconds=Qa,si.minutes=Ja,si.hours=Ka,si.days=ti,si.weeks=qo,si.months=ei,si.years=oi,si.humanize=Io,si.toISOString=_o,si.toString=_o,si.toJSON=_o,si.locale=ce,si.localeData=de,si.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_o),si.lang=wa,H("X",0,0,"unix"),H("x",0,0,"valueOf"),$("x",Ro),$("X",Uo),B("X",function(t,e,o){o._d=new Date(1e3*parseFloat(t,10))}),B("x",function(t,e,o){o._d=new Date(g(t))}),t.version="2.10.2",e(It),t.fn=Oa,t.min=kt,t.max=Tt,t.utc=l,t.unix=Ze,t.months=ao,t.isDate=i,t.locale=y,t.invalid=h,t.duration=Et,t.isMoment=d,t.weekdays=no,t.parseZone=Ee,t.localeData=w,t.isDuration=Lt,t.monthsShort=io,t.weekdaysMin=ro,t.defineLocale=q,t.weekdaysShort=so,t.normalizeUnits=C,t.relativeTimeThreshold=Co;var ri=t;return ri}),function(t){var e=20,o=20;t(function(){if(window.ThemeHelper)return window.ThemeHelper;var t={shrink_margin:e,shrink_padding:o};return{clear:function(){t.shrink_margin=e,t.shrink_padding=o},setMargin:function(o){t.shrink_margin="undefined"!=typeof o?parseInt(o,10):e},setChartPadding:function(e){t.shrink_padding="undefined"!=typeof e?parseInt(e,10):o},getMargin:function(){return t.shrink_margin},getChartPadding:function(){return t.shrink_padding},SHRINK_MARGIN_CONSTANT:e}})}("function"==typeof define?define:function(t){window.ThemeHelper=t()}),function(t){t(function(t){function e(){var t;$(".moveable_w.shrink").each(function(){t=r.getMargin(),$(this).position().left<=t&&(t=0),$(this).css("margin-left",t)})}function o(){var t,e,o,i,n,s,r=$("#owerlay").width();$(".sbs_placeholder").remove(),$(".moveable_w.shrink").each(function(){var l=$(this).width();t=!!$(this).next(".moveable_w.shrink, .undo_w.shrink").length,o=$(this).position().left+l,e=r-o,!t&&e>l&&(i=$('<div class="sbs_placeholder">'),i.html('<div class="sbs_placeholder_message">'),s=i.find(".sbs_placeholder_message"),s.html('<p class="center_vh">'+i18n.t("app.edit.drag_here")+"</p>"),n=$(this).children(":first"),i.css("width",n.width()),i.height(n.height()),$(this).after(i),a(i))})}function a(t){t.droppable({drop:function(t,e){var o,a=e.draggable,i=$(this),n=i.prev(),s=parseInt(a.attr("ord"),10),l=parseInt(n.attr("ord"),10),h=l+1,u=a.find(".shrink");if(l>s&&(h=l),!a.is(n)){if(o=a.clone(),i.remove(),!a.hasClass("shrink")){var c=o.find(".moveable").hasClass("chart");if(c){var d=$(this).width()-r.getMargin();o.find(".inner").width(d)}u.trigger("click"),ga("send","event","edit","side_by_side","drag_and_drop",0),ga("App.send","event","edit","side_by_side","drag_and_drop",0)}$.ajax({url:"/api/itemorder/"+graphicID,data:{newpos:h,object_id:a.attr("data-object-id")},type:"PUT",beforeSend:function(){app.events.trigger("Editable:saving")}}).done(function(){o.find(".moveable").css({"margin-left":"20px"}),o.css({position:"absolute",width:a.css("width"),"z-index":10,"margin-left":0,"margin-right":0,top:a.position().top+"px",left:a.position().left+"px"}).insertBefore(a),a.css("opacity",0),a.insertAfter(n);var t=p(a,o,"top"),e=p(a,o,"left");o.animate({top:t,left:e},{complete:function(){$(".item-insertion").remove(),o.remove(),a.css("opacity",1),app.events.trigger("Editable:resetOrder Editable:shrink")}})}).fail(function(){app.message.error(i18n.t("app.errors.order_state"))}).always(function(){app.events.trigger("Editable:saved")})}}})}function i(){var t=[],e=[];$(".moveable_w.shrink").each(function(){e.push({id:$(this).attr("data-object-id"),top:$(this).position().top,ord:$(this).attr("ord")})});var o=_.groupBy(e,function(t){return t.top});for(var a in o)t.push(_.max(o[a],l));return t}function n(t){var e=$("#owerlay").width(),o=parseInt((e-2*r.getChartPadding()-r.getMargin())/t,10);return o}function s(t,e){var o=$("#owerlay").width(),a=parseInt((o-r.getMargin())/2,10);e.css({width:a+"px"}),9===t&&e.find(".igc-legend").css({width:a+"px"})}var r=t("common/theme_helper"),l=function(t){return parseInt(t.ord,10)},p=function(t,e,o){var a=t.position()[o]-e.position()[o],i=a>0?"+=":"-=";return a=i+Math.abs(a)+"px"};return{recalculateMargin:e,setPlaceholders:o,lastInRowElements:i,chartWidth:n,boxWidth:s}})}("function"==typeof define?define:function(t){window.Shrink=t(function(t){return"common/theme_helper"===t?window.ThemeHelper:void 0})}),function(t){"use strict";t.fn.tooltip=function(){var e="over-tooltip-show over-tooltip-top over-tooltip-bottom over-tooltip-left over-tooltip-right over-tooltip-light",o=t(".over-tooltip");0===o.length&&(o=t('<div class="over-tooltip"></div>').appendTo(t("body")));var a=parseInt(o.css("margin-top"),10),i=parseInt(o.css("margin-left"),10),n=function(){o.removeClass(e).removeAttr("style")},s=function(t,e,o){o=!!o;var a="outer"+e[0].toUpperCase()+e.slice(1),i=t.get(0);return i instanceof SVGElement?i.getBBox()[e]:t[a](o)};return t(this).on("mouseenter","[data-tooltip]",function(r){var l=t(r.currentTarget),p=l.offset(),h=7,u={position:l.data("tooltip-position")||"right",offset:"tooltipOffset"in l.data()?parseInt(l.data("tooltip-offset"),10):5
};o.text(l.data("tooltip")),o.removeClass(e),l.is("[data-tooltip-light]")&&o.addClass("over-tooltip-light");var c=s(l,"width"),d=.5*c,g=s(l,"height"),m=.5*g,f=s(o,"width"),b=.5*f,v=s(o,"height"),x=.5*v,y={top:p.top,left:p.left};switch(u.position){case"top":o.addClass("over-tooltip-top");var q=s(o,"height",!0);y.top+=-q-h-u.offset,y.left+=d-b-i;break;case"bottom":o.addClass("over-tooltip-bottom"),y.top+=g-a+h+u.offset,y.left+=d-b-i;break;case"left":o.addClass("over-tooltip-left"),y.top+=m-x-a,y.left+=-f-i-h-u.offset;break;case"right":o.addClass("over-tooltip-right"),y.top+=m-x-a,y.left+=c-i+h+u.offset}o.css(y).addClass("over-tooltip-show"),l.one("remove",n)}),t(this).on("mouseleave","[data-tooltip]",n),this}}(jQuery);var EmbedResponsive=function(){return this.assignVars.apply(this,arguments),this.init(),this};EmbedResponsive.prototype={init:function(){var t=!0,e={};e.message=function(e){var o=e.data.split(":"),a=o.shift();"iframeWidth"===a&&(this.adjustBody(o[0],t),this.resizeImages(),t?t=!1:(this.resizeParticles(),this.resizeCharts(),this.resizeMaps(),this.recalculateMargin()),this.startHeightListener||(this.startHeightListener=!0))}.bind(this),this.addEvt(window,e),this.listenForHeightChange(200,parent)},adjustBody:function(t,e){var o,a;t&&(o=$("body"),t=parseInt(t,10),a=parseInt(o.css("width"),10),(a!==t||e)&&o.css("width",t))},listenForHeightChange:function(t,e){var o=0,a=document.getElementById("overlay");setInterval(function(){var t=a.offsetHeight+5;this.startHeightListener&&o!==t&&(o=t,this.sendHeight.call(this,e,o))}.bind(this),t)},assignVars:function(t){var e={path:1,realpath:1,title:1};for(var o in e)if(e.hasOwnProperty(o)){var a=t[o];if(void 0===a||null===a)throw{name:"Missing required property",message:"Property "+o+"does not exist"};this[o]=t[o]}},sendHeight:function(t,e){var o="iframeHeight"+this.path+"#"+this.realpath+":"+e;t.postMessage(o,"*")},sendReady:function(){var t="iframeLoaded"+this.path+"#"+this.realpath+":"+this.title;parent.postMessage(t,"*")},resizeImages:_.debounce(function(){$("div.particle.picture img").each(function(t,e){var o=$(e).parent()[0],a=$(o).width();e.naturalWidth<=a?e.width=e.naturalWidth:e.width=a})},300),resizeParticles:function(){var t;$(".shrink .moveable.particle").toArray().forEach(function(e){$(e).hasClass("chart-title")?t="bodytitle":$(e).hasClass("quoted")&&(t="quote"),Shrink.boxWidth(t,$(e))},this)},resizeCharts:_.debounce(function(){$('div.moveable.chart div[id^="Chart_"]').each(function(t,e){var o,a,i,n,s,r=$(e).attr("id").split("_").pop(),l=$(e),p=window.charts[r],h=p.instance;"InfoCharts"===p.version&&h&&(s=h.options.shrink),"Infogram.Charts"===p.version&&h.options.custom&&h.options.custom.shrink&&(s=h.options.custom.shrink);var u=p.options&&p.options.model;u&&u.get("custom").shrink&&(s=u.get("custom").shrink),s?n=Shrink.chartWidth(s):(o=$(e).parent()[0],a=$(o).width(),i=$(e).outerWidth(!0)-$(e).width(),n=a-i),"InfoCharts"===p.version?p.resize(n):"Infogram.Charts"===p.version?(p.resize(n),l.css("width",n+"px")):(l.find(".igc-textual").length&&(l=l.parent()),l.css("width",n+"px"))})},300),resizeMaps:_.debounce(function(){$('div.moveable.chart div[id^="map_"]').each(function(t,e){var o=$(e).attr("id");if(o&&""!==o){var a=o.split("_").pop(),i=$(e).parent().width(),n=$(e).outerWidth(!0)-$(e).width(),s=i-n;if(window.maps&&a in maps){var r=maps[a];if(r&&r.options){var l=r.options.canvasWidth/r.options.canvasHeight,p=s/l;r.options.canvasWidth=s,r.options.canvasHeight=p,r.options.canvasSelectorId&&$("#"+r.options.canvasSelectorId).width(s).height(p).empty(),r.init(r.data,r.options)}}}})},300),recalculateMargin:_.debounce(Shrink.recalculateMargin,300),addEvt:function(t,e,o){o=o||!1;for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];t.addEventListener?t.addEventListener(a,i,o):t.attachEvent?t.attachEvent("on"+a,EmbedResponsive.prototype.bind(t,i,window.event)):t["on"+a]=i}},removeEvt:function(t,e,o){o=o||!1;for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];t.removeEventListener?t.removeEventListener(a,i,o):t.detachEvent?t.detachEvent("on"+a,i):t["on"+a]=!1}},bind:function(t,e){return function(){return e.apply(t,arguments)}}};var EmbedLiveData=function(t){return t?void _.delay(_.bind(this.init,this),t+20):void this.init()};EmbedLiveData.prototype={init:function(){this._cache={},this._timeouts={},this.findLiveDataCharts()},findLiveDataCharts:function(){var t=this;$('div.moveable.chart div[id^="Chart_"], div.moveable.chart div[id^="map_"], div.moveable.chart table[id^="Chart_"]').each(function(e,o){var a,i,n=$(o).attr("id").split("_"),s=n.pop(),r=n.pop(),l="map"===r,p=l?window.maps[s]:window.charts[s];if(void 0!==p&&(a=p.custom||p.model.get("custom")||{},t._cache[s]={chart:p,processing:!1,custom:a,isMap:l},a&&a.live&&a.live.enabled)){if(i=Number(a.live.refresh)||0,0===i)return;t.fetchLiveData(s)}})},fetchLiveData:function(t){var e=this,o=this._cache[t];o.processing||(o.processing=!0,$.ajax({url:"/api/live/data/"+t+"/"+o.custom.live.updated,success:function(a){a.error||(o.custom.live.updated=a.updated,a.data&&e.updateChart(t,a.data))},error:function(){},complete:function(){o.processing=!1;var a=Number(o.custom.live.refresh)||0;e._timeouts[t]=_.delay(function(){e.fetchLiveData(t)},a)}}))},updateChart:function(t,e){var o=this._cache[t];JSON.stringify(e)!==JSON.stringify(o.data)&&(o.data=e,o.isMap?this.updateMaps(o,e):this.updateInfogramCharts(o,e))},updateInfogramCharts:function(t,e){t.chart.updateData(e)},updateMaps:function(t,e){var o=t.chart;o.importArrayData(e),o.showDataOnMap(0,!0)},destroy:function(){for(var t in this._timeouts)clearTimeout(this._timeouts[t])}},window.app={view:$("body").attr("data-window-__viewMode"),events:_.extend({},Backbone.Events),profile:{},message:{error:function(){},notice:function(){},show:function(){}}},function(){var t="UA-23705000-1",e="UA-23705000-4",o="UA-23705000-3";"sandbox.infogram.net"===window.location.hostname&&(t=o);var a;if(window.app&&window.app.view&&-1!==["web","embed","embed_404"].indexOf(window.app.view))a=window.app.view;else if($("html").data("application-analytics"))a="app";else{if($("html").data("no-metrics"))return;a="front"}var i=function(){};_.extend(i.prototype,{front:function(){$(document).on("click","[data-ga-event-click]",function(t){var e=$(t.target).closest("[data-ga-event-click]").attr("data-ga-event-click"),o=e.split(":");ga("Web.send","event",o[0],o[1],o[2],0)}),this._yandex_metrika(),this._hs(),this._mixpanel()},app:function(){$(document).on("click","[data-ga-event-click]",function(t){var e=$(t.target).closest("[data-ga-event-click]").attr("data-ga-event-click"),o=e.split(":");if("side_by_side"===e&&t.which){var a=$(t.target).parents(".moveable_w"),i="narrow";a.hasClass("shrink")&&(i="widen"),o=["edit","side_by_side",i]}ga("App.send","event",o[0],o[1],o[2],0),ga("send","event",o[0],o[1],o[2],0),"preupgrade"!==o[1]&&$.cookie("feature-upgrade",e)}),this._hs(),this._mixpanel()},_hs:function(){!function(t,e,o,a){if(!t.getElementById(o)){var i=t.createElement(e),n=t.getElementsByTagName(e)[0];i.id=o,i.src="//js.hs-analytics.net/analytics/"+Math.ceil(new Date/a)*a+"/521303.js",n.parentNode.insertBefore(i,n)}}(document,"script","hs-analytics",3e5)},_yandex_metrika:function(){"infogr.am"===window.location.hostname&&!function(t,e,o){(e[o]=e[o]||[]).push(function(){try{e.yaCounter31879121=new Ya.Metrika({id:31879121,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0})}catch(t){}});var a=t.getElementsByTagName("script")[0],i=t.createElement("script"),n=function(){a.parentNode.insertBefore(i,a)};i.type="text/javascript",i.async=!0,i.src="https://mc.yandex.ru/metrika/watch.js","[object Opera]"==e.opera?t.addEventListener("DOMContentLoaded",n,!1):n()}(document,window,"yandex_metrika_callbacks")},_mixpanel:function(){!function(t,e){if(!e.__SV){var o,a,i,n;window.mixpanel=e,e._i=[],e.init=function(t,o,a){function s(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var r=e;for("undefined"!=typeof a?r=e[a]=[]:a="mixpanel",r.people=r.people||[],r.toString=function(t){var e="mixpanel";return"mixpanel"!==a&&(e+="."+a),t||(e+=" (stub)"),e},r.people.toString=function(){return r.toString(1)+".people (stub)"},i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "),n=0;n<i.length;n++)s(r,i[n]);e._i.push([t,o,a])},e.__SV=1.2,o=t.createElement("script"),o.type="text/javascript",o.async=!0,o.src="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",a=t.getElementsByTagName("script")[0],a.parentNode.insertBefore(o,a)}}(document,window.mixpanel||[]);var t;t="infogr.am"===window.location.hostname?"69d21528c45efbb506130c1cc0a20731":"staging.infogram.net"===window.location.hostname||-1!==window.location.hostname.indexOf("sandbox.infogram.net")?"9a08a2d13e62272820c0a0a46956310c":"ed8269309170209add2ef9c4491ce0fd",mixpanel.init(t,{loaded:function(){"front"===a&&$.cookie&&$.cookie("mixpanel_identify",mixpanel.get_distinct_id(),{path:"/"})}})}})}(),function(t){"use strict";var e,o=t.Base64,a="2.1.4";"undefined"!=typeof module&&module.exports&&(e=require("buffer").Buffer);var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(t){for(var e={},o=0,a=t.length;a>o;o++)e[t.charAt(o)]=o;return e}(i),s=String.fromCharCode,r=function(t){if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?s(192|e>>>6)+s(128|63&e):s(224|e>>>12&15)+s(128|e>>>6&63)+s(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return s(240|e>>>18&7)+s(128|e>>>12&63)+s(128|e>>>6&63)+s(128|63&e)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,p=function(t){return t.replace(l,r)},h=function(t){var e=[0,2,1][t.length%3],o=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),a=[i.charAt(o>>>18),i.charAt(o>>>12&63),e>=2?"=":i.charAt(o>>>6&63),e>=1?"=":i.charAt(63&o)];return a.join("")},u=t.btoa?function(e){return t.btoa(e)}:function(t){return t.replace(/[\s\S]{1,3}/g,h)},c=e?function(t){return new e(t).toString("base64")}:function(t){return u(p(t))},d=function(t,e){return e?c(t).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):c(t)},g=function(t){return d(t,!0)},m=new RegExp(["[Ã-Ã][Â-Â¿]","[Ã -Ã¯][Â-Â¿]{2}","[Ã°-Ã·][Â-Â¿]{3}"].join("|"),"g"),f=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),o=e-65536;return s((o>>>10)+55296)+s((1023&o)+56320);case 3:return s((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return s((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},b=function(t){return t.replace(m,f)},v=function(t){var e=t.length,o=e%4,a=(e>0?n[t.charAt(0)]<<18:0)|(e>1?n[t.charAt(1)]<<12:0)|(e>2?n[t.charAt(2)]<<6:0)|(e>3?n[t.charAt(3)]:0),i=[s(a>>>16),s(a>>>8&255),s(255&a)];return i.length-=[0,0,2,1][o],i.join("")},x=t.atob?function(e){return t.atob(e)}:function(t){return t.replace(/[\s\S]{1,4}/g,v)},y=e?function(t){return new e(t,"base64").toString()}:function(t){return b(x(t))},q=function(t){return y(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var e=t.Base64;return t.Base64=o,e};if(t.Base64={VERSION:a,atob:x,btoa:u,fromBase64:q,toBase64:d,utob:p,encode:d,encodeURI:g,btou:b,decode:q,noConflict:w},"function"==typeof Object.defineProperty){var S=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",S(function(){return q(this)})),Object.defineProperty(String.prototype,"toBase64",S(function(t){return d(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",S(function(){return d(this,!0)}))}}}(this);var Stats={COOKIE_ID:"stats_id",COOKIE_DAY:"stats_day",COOKIE_MONTH:"stats_month",COOKIE_DAY_USER:"stats_user_day",COOKIE_MONTH_USER:"stats_user_month",COOKIE_TEST:"stats_test",PERIOD_DAY:"day",PERIOD_MONTH:"month",TYPE_USER:"user",TYPE_INFOGRAPHIC:"infographic",isBot:/bot|yandex|crawl|spider/i.test(navigator.userAgent)};Stats.getUniqueID=function(){return Math.random().toString(36).substr(2,9)},Stats.hasCookies=function(){return _.isUndefined(navigator.cookieEnabled)?($.cookie(this.COOKIE_TEST,"1"),"1"===$.cookie(this.COOKIE_TEST)):navigator.cookieEnabled?!0:!1},Stats.getReferrer=function(){var t="";try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(o){t=""}}return""===t&&(t=document.referrer),t},Stats.isUnique=function(t){if(!Stats.hasCookies())return!1;var e=this.getCookieName({day:t.day,month:t.month,period:t.period,type:t.type});if(!e)return!1;var o=$.cookie(e),a=!1,i=[];return o&&(i=JSON.parse(o),t.type===this.TYPE_INFOGRAPHIC?a=i.indexOf(t.graphicID)>=0:t.type===this.TYPE_USER&&(a=i.indexOf(t.userID)>=0)),!a},Stats.getCookieName=function(t){var e;return t.type===this.TYPE_INFOGRAPHIC?t.period===this.PERIOD_DAY?e=this.COOKIE_DAY+"_"+t.day:t.period===this.PERIOD_MONTH&&(e=this.COOKIE_MONTH+"_"+t.month):t.type===this.TYPE_USER&&(t.period===this.PERIOD_DAY?e=this.COOKIE_DAY_USER+"_"+t.day:t.period===this.PERIOD_MONTH&&(e=this.COOKIE_MONTH_USER+"_"+t.month)),e},Stats.getCookieData=function(t){var e=[],o=$.cookie(t);if(o){var a=JSON.parse(o);a&&(e=a)}return e},Stats.registerView=function(t){if(this.hasCookies()){var e,o,a;t.uniqueDay&&(e=this.getCookieName({day:t.day,month:t.month,period:this.PERIOD_DAY,type:this.TYPE_INFOGRAPHIC}),o=this.getCookieData(e),o.push(t.graphicID),a=new Date,a.setDate(a.getDate()+1),$.cookie(e,JSON.stringify(o),{expires:a})),t.uniqueMonth&&(e=this.getCookieName({day:t.day,month:t.month,period:this.PERIOD_MONTH,type:this.TYPE_INFOGRAPHIC}),o=this.getCookieData(e),o.push(t.graphicID),a=new Date,a=new Date(a.getFullYear(),a.getMonth()+1,1),$.cookie(e,JSON.stringify(o),{expires:a})),t.uniqueDayUser&&(e=this.getCookieName({day:t.day,month:t.month,period:this.PERIOD_DAY,type:this.TYPE_USER}),o=this.getCookieData(e),o.push(t.userID),a=new Date,a.setDate(a.getDate()+1),$.cookie(e,JSON.stringify(o),{expires:a})),t.uniqueMonthUser&&(e=this.getCookieName({day:t.day,month:t.month,period:this.PERIOD_MONTH,type:this.TYPE_USER}),o=this.getCookieData(e),o.push(t.userID),a=new Date,a=new Date(a.getFullYear(),a.getMonth()+1,1),$.cookie(e,JSON.stringify(o),{expires:a}))}},Stats.track=function(t){if(!this.isBot){var e=this.getReferrer(),o=new Date,a=o.getUTCDate(),i=o.getUTCMonth(),n={userID:t.userID,graphicID:t.graphicID,referrer:e,uniqueDay:this.isUnique({period:this.PERIOD_DAY,type:this.TYPE_INFOGRAPHIC,graphicID:t.graphicID,day:a,month:i}),uniqueMonth:this.isUnique({period:this.PERIOD_MONTH,type:this.TYPE_INFOGRAPHIC,graphicID:t.graphicID,day:a,month:i}),uniqueDayUser:this.isUnique({period:this.PERIOD_DAY,type:this.TYPE_USER,userID:t.userID,day:a,month:i}),uniqueMonthUser:this.isUnique({period:this.PERIOD_MONTH,type:this.TYPE_USER,userID:t.userID,day:a,month:i})},s=Base64.encode(JSON.stringify(n)),r=document.createElement("img");n.day=a,n.month=i,r.onload=_.bind(this.registerView,this,n)}},function(t,e,o){function a(t,e,o){return t.call.apply(t.bind,arguments)}function i(t,e,o){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,a),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function n(t,e,o){return n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:i,n.apply(null,arguments)}function s(t,e){this.J=t,this.t=e||t,this.C=this.t.document}function r(t,o,a){t=t.C.getElementsByTagName(o)[0],t||(t=e.documentElement),t&&t.lastChild&&t.insertBefore(a,t.lastChild)}function l(t,e){function o(){t.C.body?e():setTimeout(o,0)}o()}function p(t,e,o){e=e||[],o=o||[];for(var a=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var n=!1,s=0;s<a.length;s+=1)if(e[i]===a[s]){n=!0;break}n||a.push(e[i])}for(e=[],i=0;i<a.length;i+=1){for(n=!1,s=0;s<o.length;s+=1)if(a[i]===o[s]){n=!0;break}n||e.push(a[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(t,e){for(var o=t.className.split(/\s+/),a=0,i=o.length;i>a;a++)if(o[a]==e)return!0;return!1}function u(t){if("string"==typeof t.ma)return t.ma;var e=t.t.location.protocol;return"about:"==e&&(e=t.J.location.protocol),"https:"==e?"https:":"http:"}function c(t,e){var o=t.createElement("link",{rel:"stylesheet",href:e}),a=!1;o.onload=function(){a||(a=!0)},o.onerror=function(){a||(a=!0)},r(t,"head",o)}function d(e,o,a,i){var n=e.C.getElementsByTagName("head")[0];if(n){var s=e.createElement("script",{src:o}),r=!1;return s.onload=s.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,a&&a(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&n.removeChild(s))},n.appendChild(s),t.setTimeout(function(){r||(r=!0,a&&a(Error("Script load timeout")))},i||5e3),s}return null}function g(t,e){this.X=t,this.fa=e}function m(t,e,o,a){this.c=null!=t?t:null,this.g=null!=e?e:null,this.A=null!=o?o:null,this.e=null!=a?a:null}function f(t){t=J.exec(t);var e=null,o=null,a=null,i=null;return t&&(null!==t[1]&&t[1]&&(e=parseInt(t[1],10)),null!==t[2]&&t[2]&&(o=parseInt(t[2],10)),null!==t[3]&&t[3]&&(a=parseInt(t[3],10)),null!==t[4]&&t[4]&&(i=/^[0-9]+$/.test(t[4])?parseInt(t[4],10):t[4])),new m(e,o,a,i)}function b(t,e,o,a,i,n,s,r){this.M=t,this.k=r}function v(t){this.a=t}function x(t){var e=w(t.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=e?(/BB\d{2}/.test(e)&&(e="BlackBerry"),e):(t=w(t.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1),""!=t?("Mac_PowerPC"==t?t="Macintosh":"PlayStation"==t&&(t="Linux"),t):"Unknown")}function y(t){var e=w(t.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(e||(e=w(t.a,/Windows Phone( OS)? ([^;)]+)/,2))||(e=w(t.a,/(iPhone )?OS ([\d_]+)/,2)))return e;if(e=w(t.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var e=e.split(/\s/),o=0;o<e.length;o+=1)if(/^[\d\._]+$/.test(e[o]))return e[o];return(t=w(t.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?t:"Unknown"}function q(t){var e=x(t),o=f(y(t)),a=f(w(t.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),i="Unknown",n=new m,n="Unknown",s=!1;return/OPR\/[\d.]+/.test(t.a)?i="Opera":-1!=t.a.indexOf("Chrome")||-1!=t.a.indexOf("CrMo")||-1!=t.a.indexOf("CriOS")?i="Chrome":/Silk\/\d/.test(t.a)?i="Silk":"BlackBerry"==e||"Android"==e?i="BuiltinBrowser":-1!=t.a.indexOf("PhantomJS")?i="PhantomJS":-1!=t.a.indexOf("Safari")?i="Safari":-1!=t.a.indexOf("AdobeAIR")?i="AdobeAIR":-1!=t.a.indexOf("PlayStation")&&(i="BuiltinBrowser"),"BuiltinBrowser"==i?n="Unknown":"Silk"==i?n=w(t.a,/Silk\/([\d\._]+)/,1):"Chrome"==i?n=w(t.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=t.a.indexOf("Version/")?n=w(t.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==i?n=w(t.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==i?n=w(t.a,/OPR\/([\d.]+)/,1):"PhantomJS"==i&&(n=w(t.a,/PhantomJS\/([\d.]+)/,1)),n=f(n),s="AdobeAIR"==i?2<n.c||2==n.c&&5<=n.g:"BlackBerry"==e?10<=o.c:"Android"==e?2<o.c||2==o.c&&1<o.g:526<=a.c||525<=a.c&&13<=a.g,new b(i,0,0,0,0,0,0,new g(s,536>a.c||536==a.c&&11>a.g))}function w(t,e,o){return(t=t.match(e))&&t[o]?t[o]:""}function S(t){this.la=t||"-"}function C(t,e){this.M=t,this.Y=4,this.N="n";var o=(e||"n4").match(/^([nio])([1-9])$/i);o&&(this.N=o[1],this.Y=parseInt(o[2],10))}function I(t){return t.N+t.Y}function _(t){var e=4,o="n",a=null;return t&&((a=t.match(/(normal|oblique|italic)/i))&&a[1]&&(o=a[1].substr(0,1).toLowerCase()),(a=t.match(/([1-9]00|normal|bold)/i))&&a[1]&&(/bold/i.test(a[1])?e=7:/[1-9]00/.test(a[1])&&(e=parseInt(a[1].substr(0,1),10)))),o+e}function k(t,e){this.d=t,this.p=t.t.document.documentElement,this.P=e,this.j="wf",this.h=new S("-"),this.ga=!1!==e.events,this.B=!1!==e.classes}function T(t){if(t.B){var e=h(t.p,t.h.e(t.j,"active")),o=[],a=[t.h.e(t.j,"loading")];e||o.push(t.h.e(t.j,"inactive")),p(t.p,o,a)}M(t,"inactive")}function M(t,e,o){t.ga&&t.P[e]&&(o?t.P[e](o.getName(),I(o)):t.P[e]())}function L(){this.w={}}function H(t,e){this.d=t,this.G=e,this.m=this.d.createElement("span",{"aria-hidden":"true"},this.G)}function D(t){r(t.d,"body",t.m)}function O(t){var e;e=[];for(var o=t.M.split(/,\s*/),a=0;a<o.length;a++){var i=o[a].replace(/['"]/g,"");-1==i.indexOf(" ")?e.push(i):e.push("'"+i+"'")}return e=e.join(","),o="normal","o"===t.N?o="oblique":"i"===t.N&&(o="italic"),"display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+e+";"+("font-style:"+o+";font-weight:"+(t.Y+"00")+";")}function V(t,e,o,a,i,n,s,r){this.Z=t,this.ja=e,this.d=o,this.s=a,this.G=r||"BESbswy",this.k=i,this.I={},this.W=n||3e3,this.ba=s||null,this.F=this.D=null,t=new H(this.d,this.G),D(t);for(var l in tt)tt.hasOwnProperty(l)&&(e=new C(tt[l],I(this.s)),e=O(e),t.m.style.cssText=e,this.I[tt[l]]=t.m.offsetWidth);t.remove()}function F(t,e,o){for(var a in tt)if(tt.hasOwnProperty(a)&&e===t.I[tt[a]]&&o===t.I[tt[a]])return!0;return!1}function $(t){var e=t.D.m.offsetWidth,o=t.F.m.offsetWidth;e===t.I.serif&&o===t.I["sans-serif"]||t.k.fa&&F(t,e,o)?Q()-t.na>=t.W?t.k.fa&&F(t,e,o)&&(null===t.ba||t.ba.hasOwnProperty(t.s.getName()))?P(t,t.Z):P(t,t.ja):A(t):P(t,t.Z)}function A(t){setTimeout(n(function(){$(this)},t),25)}function P(t,e){t.D.remove(),t.F.remove(),e(t.s)}function B(t,e,o,a){this.d=e,this.u=o,this.R=0,this.da=this.aa=!1,this.W=a,this.k=t.k}function N(t,e,o,a,i){if(o=o||{},0===e.length&&i)T(t.u);else for(t.R+=e.length,i&&(t.aa=i),i=0;i<e.length;i++){var s=e[i],r=o[s.getName()],l=t.u,h=s;l.B&&p(l.p,[l.h.e(l.j,h.getName(),I(h).toString(),"loading")]),M(l,"fontloading",h),l=null,l=new V(n(t.ha,t),n(t.ia,t),t.d,s,t.k,t.W,a,r),l.start()}}function z(t){0==--t.R&&t.aa&&(t.da?(t=t.u,t.B&&p(t.p,[t.h.e(t.j,"active")],[t.h.e(t.j,"loading"),t.h.e(t.j,"inactive")]),M(t,"active")):T(t.u))}function G(t){this.J=t,this.v=new L,this.oa=new v(t.navigator.userAgent),this.a=this.oa.parse(),this.T=this.U=0,this.Q=this.S=!0}function W(t,e,o,a,i){var n=0==--t.U;(t.Q||t.S)&&setTimeout(function(){N(e,o,a||null,i||null,n)},0)}function j(t,e,o){this.O=t?t:e+et,this.q=[],this.V=[],this.ea=o||""}function Z(t){this.q=t,this.ca=[],this.L={}}function E(t,e){this.a=new v(navigator.userAgent).parse(),this.d=t,this.f=e}function R(t,e){this.d=t,this.f=e,this.o=[]}function Y(t,e){this.d=t,this.f=e,this.o=[]}function U(t,e){this.d=t,this.f=e,this.o=[]}function X(t,e){this.d=t,this.f=e}var Q=Date.now||function(){return+new Date};s.prototype.createElement=function(t,e,o){if(t=this.C.createElement(t),e)for(var a in e)e.hasOwnProperty(a)&&("style"==a?t.style.cssText=e[a]:t.setAttribute(a,e[a]));return o&&t.appendChild(this.C.createTextNode(o)),t};var J=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;m.prototype.compare=function(t){return this.c>t.c||this.c===t.c&&this.g>t.g||this.c===t.c&&this.g===t.g&&this.A>t.A?1:this.c<t.c||this.c===t.c&&this.g<t.g||this.c===t.c&&this.g===t.g&&this.A<t.A?-1:0},m.prototype.toString=function(){return[this.c,this.g||"",this.A||"",this.e||""].join("")},b.prototype.getName=function(){return this.M};var K=new b("Unknown",0,0,0,0,0,0,new g(!1,!1));v.prototype.parse=function(){var t;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){t=x(this);var e=f(y(this)),o=null,a=w(this.a,/Trident\/([\d\w\.]+)/,1),o=f(-1!=this.a.indexOf("MSIE")?w(this.a,/MSIE ([\d\w\.]+)/,1):w(this.a,/rv:([\d\w\.]+)/,1));""!=a&&f(a),t=new b("MSIE",0,0,0,0,0,0,new g("Windows"==t&&6<=o.c||"Windows Phone"==t&&8<=e.c,!1))}else if(-1!=this.a.indexOf("Opera"))t:if(t=f(w(this.a,/Presto\/([\d\w\.]+)/,1)),f(y(this)),null!==t.c||f(w(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))t=f(w(this.a,/Opera Mini\/([\d\.]+)/,1)),t=new b("OperaMini",0,0,0,x(this),0,0,new g(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&(t=f(w(this.a,/Version\/([\d\.]+)/,1)),null!==t.c)){t=new b("Opera",0,0,0,x(this),0,0,new g(10<=t.c,!1));break t}t=f(w(this.a,/Opera[\/ ]([\d\.]+)/,1)),t=null!==t.c?new b("Opera",0,0,0,x(this),0,0,new g(10<=t.c,!1)):new b("Opera",0,0,0,x(this),0,0,new g(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?t=q(this):/AppleWeb(K|k)it/.test(this.a)?t=q(this):-1!=this.a.indexOf("Gecko")?(t="Unknown",e=new m,f(y(this)),e=!1,-1!=this.a.indexOf("Firefox")?(t="Firefox",e=f(w(this.a,/Firefox\/([\d\w\.]+)/,1)),e=3<=e.c&&5<=e.g):-1!=this.a.indexOf("Mozilla")&&(t="Mozilla"),o=f(w(this.a,/rv:([^\)]+)/,1)),e||(e=1<o.c||1==o.c&&9<o.g||1==o.c&&9==o.g&&2<=o.A),t=new b(t,0,0,0,x(this),0,0,new g(e,!1))):t=K;return t},S.prototype.e=function(t){for(var e=[],o=0;o<arguments.length;o++)e.push(arguments[o].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.la)},C.prototype.getName=function(){return this.M},H.prototype.remove=function(){var t=this.m;t.parentNode&&t.parentNode.removeChild(t)};var tt={ra:"serif",qa:"sans-serif",pa:"monospace"};V.prototype.start=function(){this.D=new H(this.d,this.G),D(this.D),this.F=new H(this.d,this.G),D(this.F),this.na=Q();var t=new C(this.s.getName()+",serif",I(this.s)),t=O(t);this.D.m.style.cssText=t,t=new C(this.s.getName()+",sans-serif",I(this.s)),t=O(t),this.F.m.style.cssText=t,$(this)},B.prototype.ha=function(t){var e=this.u;e.B&&p(e.p,[e.h.e(e.j,t.getName(),I(t).toString(),"active")],[e.h.e(e.j,t.getName(),I(t).toString(),"loading"),e.h.e(e.j,t.getName(),I(t).toString(),"inactive")]),M(e,"fontactive",t),this.da=!0,z(this)},B.prototype.ia=function(t){var e=this.u;if(e.B){var o=h(e.p,e.h.e(e.j,t.getName(),I(t).toString(),"active")),a=[],i=[e.h.e(e.j,t.getName(),I(t).toString(),"loading")];o||a.push(e.h.e(e.j,t.getName(),I(t).toString(),"inactive")),p(e.p,a,i)}M(e,"fontinactive",t),z(this)},G.prototype.load=function(t){this.d=new s(this.J,t.context||this.J),this.S=!1!==t.events,this.Q=!1!==t.classes;var e=new k(this.d,t),o=[],a=t.timeout;e.B&&p(e.p,[e.h.e(e.j,"loading")]),M(e,"loading");var i,o=this.v,r=this.d,l=[];for(i in t)if(t.hasOwnProperty(i)){var h=o.w[i];h&&l.push(h(t[i],r))}for(o=l,this.T=this.U=o.length,t=new B(this.a,this.d,e,a),a=0,i=o.length;i>a;a++)r=o[a],r.K(this.a,n(this.ka,this,r,e,t))},G.prototype.ka=function(t,e,o,a){var i=this;a?t.load(function(t,e,a){W(i,o,t,e,a)}):(t=0==--this.U,this.T--,t&&0==this.T?T(e):(this.Q||this.S)&&N(o,[],{},null,t))};var et="//zhoulvjun.github.io/js/embed_view.css";j.prototype.e=function(){if(0==this.q.length)throw Error("No fonts to load!");if(-1!=this.O.indexOf("kit="))return this.O;for(var t=this.q.length,e=[],o=0;t>o;o++)e.push(this.q[o].replace(/ /g,"+"));return t=this.O,0<this.V.length&&(t),0<this.ea.length&&(t),t};var ot={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},at={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},it={i:"i",italic:"i",n:"n",normal:"n"},nt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;Z.prototype.parse=function(){for(var t=this.q.length,e=0;t>e;e++){var o=this.q[e].split(":"),a=o[0].replace(/\+/g," "),i=["n4"];if(2<=o.length){var n,s=o[1];if(n=[],s)for(var s=s.split(","),r=s.length,l=0;r>l;l++){var p;if(p=s[l],p.match(/^[\w-]+$/)){p=nt.exec(p.toLowerCase());var h=void 0;if(null==p)h="";else{if(h=void 0,h=p[1],null==h||""==h)h="4";else var u=at[h],h=u?u:isNaN(h)?"4":h.substr(0,1);p=p[2],h=[null==p||""==p?"n":it[p],h].join("")}p=h}else p="";p&&n.push(p)}0<n.length&&(i=n),3==o.length&&(o=o[2],n=[],o=o?o.split(","):n,0<o.length&&(o=ot[o[0]])&&(this.L[a]=o))}for(this.L[a]||(o=ot[a])&&(this.L[a]=o),o=0;o<i.length;o+=1)this.ca.push(new C(a,i[o]))}};var st={Arimo:!0,Cousine:!0,Tinos:!0};E.prototype.K=function(t,e){e(t.k.X)},E.prototype.load=function(t){var e=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?l(e,n(this.$,this,t)):this.$(t)},E.prototype.$=function(t){for(var e=this.d,o=new j(this.f.api,u(e),this.f.text),a=this.f.families,i=a.length,n=0;i>n;n++){var s=a[n].split(":");3==s.length&&o.V.push(s.pop());var r="";2==s.length&&""!=s[1]&&(r=":"),o.q.push(s.join(r))}a=new Z(a),a.parse(),c(e,o.e()),t(a.ca,a.L,st)},R.prototype.H=function(t){var e=this.d;return u(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(e.t.location.hostname||e.J.location.hostname)+"/"+t+".js"},R.prototype.K=function(t,e){var o=this.f.id,a=this.d.t,i=this;o?(a.__webfontfontdeckmodule__||(a.__webfontfontdeckmodule__={}),a.__webfontfontdeckmodule__[o]=function(t,o){for(var a=0,n=o.fonts.length;n>a;++a){var s=o.fonts[a];i.o.push(new C(s.name,_("font-weight:"+s.weight+";font-style:"+s.style)))}e(t)},d(this.d,this.H(o),function(t){t&&e(!1)})):e(!1)},
R.prototype.load=function(t){t(this.o)},Y.prototype.H=function(t){var e=u(this.d);return(this.f.api||e+"//use.typekit.net")+"/"+t+".js"},Y.prototype.K=function(t,e){var o=this.f.id,a=this.d.t,i=this;o?d(this.d,this.H(o),function(t){if(t)e(!1);else{if(a.Typekit&&a.Typekit.config&&a.Typekit.config.fn){t=a.Typekit.config.fn;for(var o=0;o<t.length;o+=2)for(var n=t[o],s=t[o+1],r=0;r<s.length;r++)i.o.push(new C(n,s[r]));try{a.Typekit.load({events:!1,classes:!1})}catch(l){}}e(!0)}},2e3):e(!1)},Y.prototype.load=function(t){t(this.o)},U.prototype.K=function(t,e){var o=this,a=o.f.projectId,i=o.f.version;if(a){var n=o.d.t;d(this.d,o.H(a,i),function(i){if(i)e(!1);else{if(n["__mti_fntLst"+a]&&(i=n["__mti_fntLst"+a]()))for(var s=0;s<i.length;s++)o.o.push(new C(i[s].fontfamily));e(t.k.X)}}).id="__MonotypeAPIScript__"+a}else e(!1)},U.prototype.H=function(t,e){var o=u(this.d),a=(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return o+"//"+a+"/"+t+".js"+(e?"?v="+e:"")},U.prototype.load=function(t){t(this.o)},X.prototype.load=function(t){var e,o,a=this.f.urls||[],i=this.f.families||[],n=this.f.testStrings||{};for(e=0,o=a.length;o>e;e++)c(this.d,a[e]);for(a=[],e=0,o=i.length;o>e;e++){var s=i[e].split(":");if(s[1])for(var r=s[1].split(","),l=0;l<r.length;l+=1)a.push(new C(s[0],r[l]));else a.push(new C(s[0]))}t(a,n)},X.prototype.K=function(t,e){return e(t.k.X)};var rt=new G(this);rt.v.w.custom=function(t,e){return new X(e,t)},rt.v.w.fontdeck=function(t,e){return new R(e,t)},rt.v.w.monotype=function(t,e){return new U(e,t)},rt.v.w.typekit=function(t,e){return new Y(e,t)},rt.v.w.google=function(t,e){return new E(e,t)},this.WebFont||(this.WebFont={},this.WebFont.load=n(rt.load,rt),this.WebFontConfig&&rt.load(this.WebFontConfig))}(this,document),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function o(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function a(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function n(t){return{left:function(e,o,a,i){for(arguments.length<3&&(a=0),arguments.length<4&&(i=e.length);i>a;){var n=a+i>>>1;t(e[n],o)<0?a=n+1:i=n}return a},right:function(e,o,a,i){for(arguments.length<3&&(a=0),arguments.length<4&&(i=e.length);i>a;){var n=a+i>>>1;t(e[n],o)>0?i=n:a=n+1}return a}}}function s(t){return t.length}function r(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var o in e)Object.defineProperty(t.prototype,o,{value:e[o],enumerable:!1})}function p(){this._=Object.create(null)}function h(t){return(t+="")===ms||t[0]===fs?fs+t:t}function u(t){return(t+="")[0]===fs?t.slice(1):t}function c(t){return h(t)in this._}function d(t){return(t=h(t))in this._&&delete this._[t]}function g(){var t=[];for(var e in this._)t.push(u(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function f(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function v(t){return t}function x(t,e,o){return function(){var a=o.apply(e,arguments);return a===e?t:a}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var o=0,a=bs.length;a>o;++o){var i=bs[o]+e;if(i in t)return i}}function q(){}function w(){}function S(t){function e(){for(var e,a=o,i=-1,n=a.length;++i<n;)(e=a[i].on)&&e.apply(this,arguments);return t}var o=[],a=new p;return e.on=function(e,i){var n,s=a.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,o=o.slice(0,n=o.indexOf(s)).concat(o.slice(n+1)),a.remove(e)),i&&o.push(a.set(e,{on:i})),t)},e}function C(){os.event.preventDefault()}function I(){for(var t,e=os.event;t=e.sourceEvent;)e=t;return e}function _(t){for(var e=new w,o=0,a=arguments.length;++o<a;)e[arguments[o]]=S(e);return e.of=function(o,a){return function(i){try{var n=i.sourceEvent=os.event;i.target=t,os.event=i,e[i.type].apply(o,a)}finally{os.event=n}}},e}function k(t){return xs(t,Ss),t}function T(t){return"function"==typeof t?t:function(){return ys(t,this)}}function M(t){return"function"==typeof t?t:function(){return qs(t,this)}}function L(t,e){function o(){this.removeAttribute(t)}function a(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function n(){this.setAttributeNS(t.space,t.local,e)}function s(){var o=e.apply(this,arguments);null==o?this.removeAttribute(t):this.setAttribute(t,o)}function r(){var o=e.apply(this,arguments);null==o?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,o)}return t=os.ns.qualify(t),null==e?t.local?a:o:"function"==typeof e?t.local?r:s:t.local?n:i}function H(t){return t.trim().replace(/\s+/g," ")}function D(t){return new RegExp("(?:^|\\s+)"+os.requote(t)+"(?:\\s+|$)","g")}function O(t){return(t+"").trim().split(/^|\s+/)}function V(t,e){function o(){for(var o=-1;++o<i;)t[o](this,e)}function a(){for(var o=-1,a=e.apply(this,arguments);++o<i;)t[o](this,a)}t=O(t).map(F);var i=t.length;return"function"==typeof e?a:o}function F(t){var e=D(t);return function(o,a){if(i=o.classList)return a?i.add(t):i.remove(t);var i=o.getAttribute("class")||"";a?(e.lastIndex=0,e.test(i)||o.setAttribute("class",H(i+" "+t))):o.setAttribute("class",H(i.replace(e," ")))}}function $(t,e,o){function a(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,o)}function n(){var a=e.apply(this,arguments);null==a?this.style.removeProperty(t):this.style.setProperty(t,a,o)}return null==e?a:"function"==typeof e?n:i}function A(t,e){function o(){delete this[t]}function a(){this[t]=e}function i(){var o=e.apply(this,arguments);null==o?delete this[t]:this[t]=o}return null==e?o:"function"==typeof e?i:a}function P(t){function e(){var e=this.ownerDocument,o=this.namespaceURI;return o?e.createElementNS(o,t):e.createElement(t)}function o(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=os.ns.qualify(t)).local?o:e}function B(){var t=this.parentNode;t&&t.removeChild(this)}function N(t){return{__data__:t}}function z(t){return function(){return ws(this,t)}}function G(t){return arguments.length||(t=o),function(e,o){return e&&o?t(e.__data__,o.__data__):!e-!o}}function W(t,e){for(var o=0,a=t.length;a>o;o++)for(var i,n=t[o],s=0,r=n.length;r>s;s++)(i=n[s])&&e(i,s,o);return t}function j(t){return xs(t,Is),t}function Z(t){var e,o;return function(a,i,n){var s,r=t[n].update,l=r.length;for(n!=o&&(o=n,e=0),i>=e&&(e=i+1);!(s=r[e])&&++e<l;);return s}}function E(t,e,o){function a(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function i(){var i=l(e,is(arguments));a.call(this),this.addEventListener(t,this[s]=i,i.$=o),i._=e}function n(){var e,o=new RegExp("^__on([^.]+)"+os.requote(t)+"$");for(var a in this)if(e=a.match(o)){var i=this[a];this.removeEventListener(e[1],i,i.$),delete this[a]}}var s="__on"+t,r=t.indexOf("."),l=R;r>0&&(t=t.slice(0,r));var p=_s.get(t);return p&&(t=p,l=Y),r?e?i:a:e?q:n}function R(t,e){return function(o){var a=os.event;os.event=o,e[0]=this.__data__;try{t.apply(this,e)}finally{os.event=a}}}function Y(t,e){var o=R(t,e);return function(t){var e=this,a=t.relatedTarget;a&&(a===e||8&a.compareDocumentPosition(e))||o.call(e,t)}}function U(o){var a=".dragsuppress-"+ ++Ts,i="click"+a,n=os.select(e(o)).on("touchmove"+a,C).on("dragstart"+a,C).on("selectstart"+a,C);if(null==ks&&(ks="onselectstart"in o?!1:y(o.style,"userSelect")),ks){var s=t(o).style,r=s[ks];s[ks]="none"}return function(t){if(n.on(a,null),ks&&(s[ks]=r),t){var e=function(){n.on(i,null)};n.on(i,function(){C(),e()},!0),setTimeout(e,0)}}}function X(t,o){o.changedTouches&&(o=o.changedTouches[0]);var a=t.ownerSVGElement||t;if(a.createSVGPoint){var i=a.createSVGPoint();if(0>Ms){var n=e(t);if(n.scrollX||n.scrollY){a=os.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=a[0][0].getScreenCTM();Ms=!(s.f||s.e),a.remove()}}return Ms?(i.x=o.pageX,i.y=o.pageY):(i.x=o.clientX,i.y=o.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[o.clientX-r.left-t.clientLeft,o.clientY-r.top-t.clientTop]}function Q(){return os.event.changedTouches[0].identifier}function J(t){return t>0?1:0>t?-1:0}function K(t,e,o){return(e[0]-t[0])*(o[1]-t[1])-(e[1]-t[1])*(o[0]-t[0])}function tt(t){return t>1?0:-1>t?Ds:Math.acos(t)}function et(t){return t>1?Fs:-1>t?-Fs:Math.asin(t)}function ot(t){return((t=Math.exp(t))-1/t)/2}function at(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function nt(t){return(t=Math.sin(t/2))*t}function st(){}function rt(t,e,o){return this instanceof rt?(this.h=+t,this.s=+e,void(this.l=+o)):arguments.length<2?t instanceof rt?new rt(t.h,t.s,t.l):qt(""+t,wt,rt):new rt(t,e,o)}function lt(t,e,o){function a(t){return t>360?t-=360:0>t&&(t+=360),60>t?n+(s-n)*t/60:180>t?s:240>t?n+(s-n)*(240-t)/60:n}function i(t){return Math.round(255*a(t))}var n,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,o=0>o?0:o>1?1:o,s=.5>=o?o*(1+e):o+e-o*e,n=2*o-s,new bt(i(t+120),i(t),i(t-120))}function pt(t,e,o){return this instanceof pt?(this.h=+t,this.c=+e,void(this.l=+o)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof ut?dt(t.l,t.a,t.b):dt((t=St((t=os.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,e,o)}function ht(t,e,o){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ut(o,Math.cos(t*=$s)*e,Math.sin(t)*e)}function ut(t,e,o){return this instanceof ut?(this.l=+t,this.a=+e,void(this.b=+o)):arguments.length<2?t instanceof ut?new ut(t.l,t.a,t.b):t instanceof pt?ht(t.h,t.c,t.l):St((t=bt(t)).r,t.g,t.b):new ut(t,e,o)}function ct(t,e,o){var a=(t+16)/116,i=a+e/500,n=a-o/200;return i=gt(i)*Rs,a=gt(a)*Ys,n=gt(n)*Us,new bt(ft(3.2404542*i-1.5371385*a-.4985314*n),ft(-.969266*i+1.8760108*a+.041556*n),ft(.0556434*i-.2040259*a+1.0572252*n))}function dt(t,e,o){return t>0?new pt(Math.atan2(o,e)*As,Math.sqrt(e*e+o*o),t):new pt(NaN,NaN,t)}function gt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ft(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function bt(t,e,o){return this instanceof bt?(this.r=~~t,this.g=~~e,void(this.b=~~o)):arguments.length<2?t instanceof bt?new bt(t.r,t.g,t.b):qt(""+t,bt,lt):new bt(t,e,o)}function vt(t){return new bt(t>>16,t>>8&255,255&t)}function xt(t){return vt(t)+""}function yt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function qt(t,e,o){t=t.toLowerCase();var a,i,n,s=0,r=0,l=0;if(a=/([a-z]+)\((.*)\)/.exec(t))switch(i=a[2].split(","),a[1]){case"hsl":return o(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(It(i[0]),It(i[1]),It(i[2]))}return(n=Js.get(t))?e(n.r,n.g,n.b):(null==t||"#"!==t.charAt(0)||isNaN(n=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&n)>>4,s=s>>4|s,r=240&n,r=r>>4|r,l=15&n,l=l<<4|l):7===t.length&&(s=(16711680&n)>>16,r=(65280&n)>>8,l=255&n)),e(s,r,l))}function wt(t,e,o){var a,i,n=Math.min(t/=255,e/=255,o/=255),s=Math.max(t,e,o),r=s-n,l=(s+n)/2;return r?(i=.5>l?r/(s+n):r/(2-s-n),a=t==s?(e-o)/r+(o>e?6:0):e==s?(o-t)/r+2:(t-e)/r+4,a*=60):(a=NaN,i=l>0&&1>l?0:a),new rt(a,i,l)}function St(t,e,o){t=Ct(t),e=Ct(e),o=Ct(o);var a=mt((.4124564*t+.3575761*e+.1804375*o)/Rs),i=mt((.2126729*t+.7151522*e+.072175*o)/Ys),n=mt((.0193339*t+.119192*e+.9503041*o)/Us);return ut(116*i-16,500*(a-i),200*(i-n))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function It(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function _t(t){return"function"==typeof t?t:function(){return t}}function kt(t){return function(e,o,a){return 2===arguments.length&&"function"==typeof o&&(a=o,o=null),Tt(e,o,t,a)}}function Tt(t,e,o,a){function i(){var t,e=l.status;if(!e&&Lt(l)||e>=200&&300>e||304===e){try{t=o.call(n,l)}catch(a){return void s.error.call(n,a)}s.load.call(n,t)}else s.error.call(n,l)}var n={},s=os.dispatch("beforesend","progress","load","error"),r={},l=new XMLHttpRequest,p=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=os.event;os.event=t;try{s.progress.call(n,l)}finally{os.event=e}},n.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?r[t]:(null==e?delete r[t]:r[t]=e+"",n)},n.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",n):e},n.responseType=function(t){return arguments.length?(p=t,n):p},n.response=function(t){return o=t,n},["get","post"].forEach(function(t){n[t]=function(){return n.send.apply(n,[t].concat(is(arguments)))}}),n.send=function(o,a,i){if(2===arguments.length&&"function"==typeof a&&(i=a,a=null),l.open(o,t,!0),null==e||"accept"in r||(r.accept=e+",*/*"),l.setRequestHeader)for(var h in r)l.setRequestHeader(h,r[h]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=p&&(l.responseType=p),null!=i&&n.on("error",i).on("load",function(t){i(null,t)}),s.beforesend.call(n,l),l.send(null==a?null:a),n},n.abort=function(){return l.abort(),n},os.rebind(n,s,"on"),null==a?n:n.get(Mt(a))}function Mt(t){return 1===t.length?function(e,o){t(null==e?o:null)}:t}function Lt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ht(){var t=Dt(),e=Ot()-t;e>24?(isFinite(e)&&(clearTimeout(or),or=setTimeout(Ht,e)),er=0):(er=1,ir(Ht))}function Dt(){var t=Date.now();for(ar=Ks;ar;)t>=ar.t&&(ar.f=ar.c(t-ar.t)),ar=ar.n;return t}function Ot(){for(var t,e=Ks,o=1/0;e;)e.f?e=t?t.n=e.n:Ks=e.n:(e.t<o&&(o=e.t),e=(t=e).n);return tr=t,o}function Vt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ft(t,e){var o=Math.pow(10,3*gs(8-e));return{scale:e>8?function(t){return t/o}:function(t){return t*o},symbol:t}}function $t(t){var e=t.decimal,o=t.thousands,a=t.grouping,i=t.currency,n=a&&o?function(t,e){for(var i=t.length,n=[],s=0,r=a[0],l=0;i>0&&r>0&&(l+r+1>e&&(r=Math.max(1,e-l)),n.push(t.substring(i-=r,i+r)),!((l+=r+1)>e));)r=a[s=(s+1)%a.length];return n.reverse().join(o)}:v;return function(t){var o=sr.exec(t),a=o[1]||" ",s=o[2]||">",r=o[3]||"-",l=o[4]||"",p=o[5],h=+o[6],u=o[7],c=o[8],d=o[9],g=1,m="",f="",b=!1,v=!0;switch(c&&(c=+c.substring(1)),(p||"0"===a&&"="===s)&&(p=a="0",s="="),d){case"n":u=!0,d="g";break;case"%":g=100,f="%",d="f";break;case"p":g=100,f="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+d.toLowerCase());case"c":v=!1;case"d":b=!0,c=0;break;case"s":g=-1,d="r"}"$"===l&&(m=i[0],f=i[1]),"r"!=d||c||(d="g"),null!=c&&("g"==d?c=Math.max(1,Math.min(21,c)):("e"==d||"f"==d)&&(c=Math.max(0,Math.min(20,c)))),d=rr.get(d)||At;var x=p&&u;return function(t){var o=f;if(b&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===r?"":r;if(0>g){var l=os.formatPrefix(t,c);t=l.scale(t),o=l.symbol+f}else t*=g;t=d(t,c);var y,q,w=t.lastIndexOf(".");if(0>w){var S=v?t.lastIndexOf("e"):-1;0>S?(y=t,q=""):(y=t.substring(0,S),q=t.substring(S))}else y=t.substring(0,w),q=e+t.substring(w+1);!p&&u&&(y=n(y,1/0));var C=m.length+y.length+q.length+(x?0:i.length),I=h>C?new Array(C=h-C+1).join(a):"";return x&&(y=n(I+y,I.length?h-q.length:1/0)),i+=m,t=y+q,("<"===s?i+t+I:">"===s?I+i+t:"^"===s?I.substring(0,C>>=1)+i+t+I.substring(C):i+(x?t:I+t))+o}}}function At(t){return t+""}function Pt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Bt(t,e,o){function a(e){var o=t(e),a=n(o,1);return a-e>e-o?o:a}function i(o){return e(o=t(new pr(o-1)),1),o}function n(t,o){return e(t=new pr(+t),o),t}function s(t,a,n){var s=i(t),r=[];if(n>1)for(;a>s;)o(s)%n||r.push(new Date(+s)),e(s,1);else for(;a>s;)r.push(new Date(+s)),e(s,1);return r}function r(t,e,o){try{pr=Pt;var a=new Pt;return a._=t,s(a,e,o)}finally{pr=Date}}t.floor=t,t.round=a,t.ceil=i,t.offset=n,t.range=s;var l=t.utc=Nt(t);return l.floor=l,l.round=Nt(a),l.ceil=Nt(i),l.offset=Nt(n),l.range=r,t}function Nt(t){return function(e,o){try{pr=Pt;var a=new Pt;return a._=e,t(a,o)._}finally{pr=Date}}}function zt(t){function e(t){function e(e){for(var o,i,n,s=[],r=-1,l=0;++r<a;)37===t.charCodeAt(r)&&(s.push(t.slice(l,r)),null!=(i=ur[o=t.charAt(++r)])&&(o=t.charAt(++r)),(n=T[o])&&(o=n(e,null==i?"e"===o?" ":"0":i)),s.push(o),l=r+1);return s.push(t.slice(l,r)),s.join("")}var a=t.length;return e.parse=function(e){var a={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=o(a,t,e,0);if(i!=e.length)return null;"p"in a&&(a.H=a.H%12+12*a.p);var n=null!=a.Z&&pr!==Pt,s=new(n?Pt:pr);return"j"in a?s.setFullYear(a.y,0,a.j):"w"in a&&("W"in a||"U"in a)?(s.setFullYear(a.y,0,1),s.setFullYear(a.y,0,"W"in a?(a.w+6)%7+7*a.W-(s.getDay()+5)%7:a.w+7*a.U-(s.getDay()+6)%7)):s.setFullYear(a.y,a.m,a.d),s.setHours(a.H+(a.Z/100|0),a.M+a.Z%100,a.S,a.L),n?s._:s},e.toString=function(){return t},e}function o(t,e,o,a){for(var i,n,s,r=0,l=e.length,p=o.length;l>r;){if(a>=p)return-1;if(i=e.charCodeAt(r++),37===i){if(s=e.charAt(r++),n=M[s in ur?e.charAt(r++):s],!n||(a=n(t,o,a))<0)return-1}else if(i!=o.charCodeAt(a++))return-1}return a}function a(t,e,o){w.lastIndex=0;var a=w.exec(e.slice(o));return a?(t.w=S.get(a[0].toLowerCase()),o+a[0].length):-1}function i(t,e,o){y.lastIndex=0;var a=y.exec(e.slice(o));return a?(t.w=q.get(a[0].toLowerCase()),o+a[0].length):-1}function n(t,e,o){_.lastIndex=0;var a=_.exec(e.slice(o));return a?(t.m=k.get(a[0].toLowerCase()),o+a[0].length):-1}function s(t,e,o){C.lastIndex=0;var a=C.exec(e.slice(o));return a?(t.m=I.get(a[0].toLowerCase()),o+a[0].length):-1}function r(t,e,a){return o(t,T.c.toString(),e,a)}function l(t,e,a){return o(t,T.x.toString(),e,a)}function p(t,e,a){return o(t,T.X.toString(),e,a)}function h(t,e,o){var a=x.get(e.slice(o,o+=2).toLowerCase());return null==a?-1:(t.p=a,o)}var u=t.dateTime,c=t.date,d=t.time,g=t.periods,m=t.days,f=t.shortDays,b=t.months,v=t.shortMonths;e.utc=function(t){function o(t){try{pr=Pt;var e=new pr;return e._=t,a(e)}finally{pr=Date}}var a=e(t);return o.parse=function(t){try{pr=Pt;var e=a.parse(t);return e&&e._}finally{pr=Date}},o.toString=a.toString,o},e.multi=e.utc.multi=re;var x=os.map(),y=Wt(m),q=jt(m),w=Wt(f),S=jt(f),C=Wt(b),I=jt(b),_=Wt(v),k=jt(v);g.forEach(function(t,e){x.set(t.toLowerCase(),e)});var T={a:function(t){return f[t.getDay()]},A:function(t){return m[t.getDay()]},b:function(t){return v[t.getMonth()]},B:function(t){return b[t.getMonth()]},c:e(u),d:function(t,e){return Gt(t.getDate(),e,2)},e:function(t,e){return Gt(t.getDate(),e,2)},H:function(t,e){return Gt(t.getHours(),e,2)},I:function(t,e){return Gt(t.getHours()%12||12,e,2)},j:function(t,e){return Gt(1+lr.dayOfYear(t),e,3)},L:function(t,e){return Gt(t.getMilliseconds(),e,3)},m:function(t,e){return Gt(t.getMonth()+1,e,2)},M:function(t,e){return Gt(t.getMinutes(),e,2)},p:function(t){return g[+(t.getHours()>=12)]},S:function(t,e){return Gt(t.getSeconds(),e,2)},U:function(t,e){return Gt(lr.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Gt(lr.mondayOfYear(t),e,2)},x:e(c),X:e(d),y:function(t,e){return Gt(t.getFullYear()%100,e,2)},Y:function(t,e){return Gt(t.getFullYear()%1e4,e,4)},Z:ne,"%":function(){return"%"}},M={a:a,A:i,b:n,B:s,c:r,d:Kt,e:Kt,H:ee,I:ee,j:te,L:ie,m:Jt,M:oe,p:h,S:ae,U:Et,w:Zt,W:Rt,x:l,X:p,y:Ut,Y:Yt,Z:Xt,"%":se};return e}function Gt(t,e,o){var a=0>t?"-":"",i=(a?-t:t)+"",n=i.length;return a+(o>n?new Array(o-n+1).join(e)+i:i)}function Wt(t){return new RegExp("^(?:"+t.map(os.requote).join("|")+")","i")}function jt(t){for(var e=new p,o=-1,a=t.length;++o<a;)e.set(t[o].toLowerCase(),o);return e}function Zt(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+1));return a?(t.w=+a[0],o+a[0].length):-1}function Et(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o));return a?(t.U=+a[0],o+a[0].length):-1}function Rt(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o));return a?(t.W=+a[0],o+a[0].length):-1}function Yt(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+4));return a?(t.y=+a[0],o+a[0].length):-1}function Ut(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+2));return a?(t.y=Qt(+a[0]),o+a[0].length):-1}function Xt(t,e,o){return/^[+-]\d{4}$/.test(e=e.slice(o,o+5))?(t.Z=-e,o+5):-1}function Qt(t){return t+(t>68?1900:2e3)}function Jt(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+2));return a?(t.m=a[0]-1,o+a[0].length):-1}function Kt(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+2));return a?(t.d=+a[0],o+a[0].length):-1}function te(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+3));return a?(t.j=+a[0],o+a[0].length):-1}function ee(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+2));return a?(t.H=+a[0],o+a[0].length):-1}function oe(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+2));return a?(t.M=+a[0],o+a[0].length):-1}function ae(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+2));return a?(t.S=+a[0],o+a[0].length):-1}function ie(t,e,o){cr.lastIndex=0;var a=cr.exec(e.slice(o,o+3));return a?(t.L=+a[0],o+a[0].length):-1}function ne(t){var e=t.getTimezoneOffset(),o=e>0?"-":"+",a=gs(e)/60|0,i=gs(e)%60;return o+Gt(a,"0",2)+Gt(i,"0",2)}function se(t,e,o){dr.lastIndex=0;var a=dr.exec(e.slice(o,o+1));return a?o+a[0].length:-1}function re(t){for(var e=t.length,o=-1;++o<e;)t[o][0]=this(t[o][0]);return function(e){for(var o=0,a=t[o];!a[1](e);)a=t[++o];return a[0](e)}}function le(){}function pe(t,e,o){var a=o.s=t+e,i=a-t,n=a-i;o.t=t-n+(e-i)}function he(t,e){t&&br.hasOwnProperty(t.type)&&br[t.type](t,e)}function ue(t,e,o){var a,i=-1,n=t.length-o;for(e.lineStart();++i<n;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function ce(t,e){var o=-1,a=t.length;for(e.polygonStart();++o<a;)ue(t[o],e,1);e.polygonEnd()}function de(){function t(t,e){t*=$s,e=e*$s/2+Ds/4;var o=t-a,s=o>=0?1:-1,r=s*o,l=Math.cos(e),p=Math.sin(e),h=n*p,u=i*l+h*Math.cos(r),c=h*s*Math.sin(r);xr.add(Math.atan2(c,u)),a=t,i=l,n=p}var e,o,a,i,n;yr.point=function(s,r){yr.point=t,a=(e=s)*$s,i=Math.cos(r=(o=r)*$s/2+Ds/4),n=Math.sin(r)},yr.lineEnd=function(){t(e,o)}}function ge(t){var e=t[0],o=t[1],a=Math.cos(o);return[a*Math.cos(e),a*Math.sin(e),Math.sin(o)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function fe(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function be(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ve(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ye(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function qe(t,e){return gs(t[0]-e[0])<Ls&&gs(t[1]-e[1])<Ls}function we(t,e){t*=$s;var o=Math.cos(e*=$s);Se(o*Math.cos(t),o*Math.sin(t),Math.sin(e))}function Se(t,e,o){++qr,Sr+=(t-Sr)/qr,Cr+=(e-Cr)/qr,Ir+=(o-Ir)/qr}function Ce(){function t(t,i){t*=$s;var n=Math.cos(i*=$s),s=n*Math.cos(t),r=n*Math.sin(t),l=Math.sin(i),p=Math.atan2(Math.sqrt((p=o*l-a*r)*p+(p=a*s-e*l)*p+(p=e*r-o*s)*p),e*s+o*r+a*l);wr+=p,_r+=p*(e+(e=s)),kr+=p*(o+(o=r)),Tr+=p*(a+(a=l)),Se(e,o,a)}var e,o,a;Dr.point=function(i,n){i*=$s;var s=Math.cos(n*=$s);e=s*Math.cos(i),o=s*Math.sin(i),a=Math.sin(n),Dr.point=t,Se(e,o,a)}}function Ie(){Dr.point=we}function _e(){function t(t,e){t*=$s;var o=Math.cos(e*=$s),s=o*Math.cos(t),r=o*Math.sin(t),l=Math.sin(e),p=i*l-n*r,h=n*s-a*l,u=a*r-i*s,c=Math.sqrt(p*p+h*h+u*u),d=a*s+i*r+n*l,g=c&&-tt(d)/c,m=Math.atan2(c,d);Mr+=g*p,Lr+=g*h,Hr+=g*u,wr+=m,_r+=m*(a+(a=s)),kr+=m*(i+(i=r)),Tr+=m*(n+(n=l)),Se(a,i,n)}var e,o,a,i,n;Dr.point=function(s,r){e=s,o=r,Dr.point=t,s*=$s;var l=Math.cos(r*=$s);a=l*Math.cos(s),i=l*Math.sin(s),n=Math.sin(r),Se(a,i,n)},Dr.lineEnd=function(){t(e,o),Dr.lineEnd=Ie,Dr.point=we}}function ke(t,e){function o(o,a){return o=t(o,a),e(o[0],o[1])}return t.invert&&e.invert&&(o.invert=function(o,a){return o=e.invert(o,a),o&&t.invert(o[0],o[1])}),o}function Te(){return!0}function Me(t,e,o,a,i){var n=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,o=t[0],a=t[e];if(qe(o,a)){i.lineStart();for(var r=0;e>r;++r)i.point((o=t[r])[0],o[1]);return void i.lineEnd()}var l=new He(o,t,null,!0),p=new He(o,null,l,!1);l.o=p,n.push(l),s.push(p),l=new He(a,t,null,!1),p=new He(a,null,l,!0),l.o=p,n.push(l),s.push(p)}}),s.sort(e),Le(n),Le(s),n.length){for(var r=0,l=o,p=s.length;p>r;++r)s[r].e=l=!l;for(var h,u,c=n[0];;){for(var d=c,g=!0;d.v;)if((d=d.n)===c)return;h=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(var r=0,p=h.length;p>r;++r)i.point((u=h[r])[0],u[1]);else a(d.x,d.n.x,1,i);d=d.n}else{if(g){h=d.p.z;for(var r=h.length-1;r>=0;--r)i.point((u=h[r])[0],u[1])}else a(d.x,d.p.x,-1,i);d=d.p}d=d.o,h=d.z,g=!g}while(!d.v);i.lineEnd()}}}function Le(t){if(e=t.length){for(var e,o,a=0,i=t[0];++a<e;)i.n=o=t[a],o.p=i,i=o;i.n=o=t[0],o.p=i}}function He(t,e,o,a){this.x=t,this.z=e,this.o=o,this.e=a,this.v=!1,this.n=this.p=null}function De(t,e,o,a){return function(i,n){function s(e,o){var a=i(e,o);t(e=a[0],o=a[1])&&n.point(e,o)}function r(t,e){var o=i(t,e);f.point(o[0],o[1])}function l(){v.point=r,f.lineStart()}function p(){v.point=s,f.lineEnd()}function h(t,e){m.push([t,e]);var o=i(t,e);y.point(o[0],o[1])}function u(){y.lineStart(),m=[]}function c(){h(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),o=x.buffer(),a=o.length;if(m.pop(),g.push(m),m=null,a)if(1&e){t=o[0];var i,a=t.length-1,s=-1;if(a>0){for(q||(n.polygonStart(),q=!0),n.lineStart();++s<a;)n.point((i=t[s])[0],i[1]);n.lineEnd()}}else a>1&&2&e&&o.push(o.pop().concat(o.shift())),d.push(o.filter(Oe))}var d,g,m,f=e(n),b=i.invert(a[0],a[1]),v={point:s,lineStart:l,lineEnd:p,polygonStart:function(){v.point=h,v.lineStart=u,v.lineEnd=c,d=[],g=[]},polygonEnd:function(){v.point=s,v.lineStart=l,v.lineEnd=p,d=os.merge(d);var t=Be(b,g);d.length?(q||(n.polygonStart(),q=!0),Me(d,Fe,t,o,n)):t&&(q||(n.polygonStart(),q=!0),n.lineStart(),o(null,null,1,n),n.lineEnd()),q&&(n.polygonEnd(),q=!1),d=g=null},sphere:function(){n.polygonStart(),n.lineStart(),o(null,null,1,n),n.lineEnd(),n.polygonEnd()}},x=Ve(),y=e(x),q=!1;return v}}function Oe(t){return t.length>1}function Ve(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,o){t.push([e,o])},lineEnd:q,buffer:function(){var o=e;return e=[],t=null,o},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Fe(t,e){return((t=t.x)[0]<0?t[1]-Fs-Ls:Fs-t[1])-((e=e.x)[0]<0?e[1]-Fs-Ls:Fs-e[1])}function $e(t){var e,o=NaN,a=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(n,s){var r=n>0?Ds:-Ds,l=gs(n-o);gs(l-Ds)<Ls?(t.point(o,a=(a+s)/2>0?Fs:-Fs),t.point(i,a),t.lineEnd(),t.lineStart(),t.point(r,a),t.point(n,a),e=0):i!==r&&l>=Ds&&(gs(o-i)<Ls&&(o-=i*Ls),gs(n-r)<Ls&&(n-=r*Ls),a=Ae(o,a,n,s),t.point(i,a),t.lineEnd(),t.lineStart(),t.point(r,a),e=0),t.point(o=n,a=s),i=r},lineEnd:function(){t.lineEnd(),o=a=NaN},clean:function(){return 2-e}}}function Ae(t,e,o,a){var i,n,s=Math.sin(t-o);return gs(s)>Ls?Math.atan((Math.sin(e)*(n=Math.cos(a))*Math.sin(o)-Math.sin(a)*(i=Math.cos(e))*Math.sin(t))/(i*n*s)):(e+a)/2}function Pe(t,e,o,a){var i;if(null==t)i=o*Fs,a.point(-Ds,i),a.point(0,i),a.point(Ds,i),a.point(Ds,0),a.point(Ds,-i),a.point(0,-i),a.point(-Ds,-i),a.point(-Ds,0),a.point(-Ds,i);else if(gs(t[0]-e[0])>Ls){var n=t[0]<e[0]?Ds:-Ds;i=o*n/2,a.point(-n,i),a.point(0,i),a.point(n,i)}else a.point(e[0],e[1])}function Be(t,e){var o=t[0],a=t[1],i=[Math.sin(o),-Math.cos(o),0],n=0,s=0;xr.reset();for(var r=0,l=e.length;l>r;++r){var p=e[r],h=p.length;if(h)for(var u=p[0],c=u[0],d=u[1]/2+Ds/4,g=Math.sin(d),m=Math.cos(d),f=1;;){f===h&&(f=0),t=p[f];var b=t[0],v=t[1]/2+Ds/4,x=Math.sin(v),y=Math.cos(v),q=b-c,w=q>=0?1:-1,S=w*q,C=S>Ds,I=g*x;if(xr.add(Math.atan2(I*w*Math.sin(S),m*y+I*Math.cos(S))),n+=C?q+w*Os:q,C^c>=o^b>=o){var _=fe(ge(u),ge(t));xe(_);var k=fe(i,_);xe(k);var T=(C^q>=0?-1:1)*et(k[2]);(a>T||a===T&&(_[0]||_[1]))&&(s+=C^q>=0?1:-1)}if(!f++)break;c=b,g=x,m=y,u=t}}return(-Ls>n||Ls>n&&0>xr)^1&s}function Ne(t){function e(t,e){return Math.cos(t)*Math.cos(e)>n}function o(t){var o,n,l,p,h;return{lineStart:function(){p=l=!1,h=1},point:function(u,c){var d,g=[u,c],m=e(u,c),f=s?m?0:i(u,c):m?i(u+(0>u?Ds:-Ds),c):0;if(!o&&(p=l=m)&&t.lineStart(),m!==l&&(d=a(o,g),(qe(o,d)||qe(g,d))&&(g[0]+=Ls,g[1]+=Ls,m=e(g[0],g[1]))),m!==l)h=0,m?(t.lineStart(),d=a(g,o),t.point(d[0],d[1])):(d=a(o,g),t.point(d[0],d[1]),t.lineEnd()),o=d;else if(r&&o&&s^m){var b;f&n||!(b=a(g,o,!0))||(h=0,s?(t.lineStart(),t.point(b[0][0],b[0][1]),t.point(b[1][0],b[1][1]),t.lineEnd()):(t.point(b[1][0],b[1][1]),t.lineEnd(),t.lineStart(),t.point(b[0][0],b[0][1])))}!m||o&&qe(o,g)||t.point(g[0],g[1]),o=g,l=m,n=f},lineEnd:function(){l&&t.lineEnd(),o=null},clean:function(){return h|(p&&l)<<1}}}function a(t,e,o){var a=ge(t),i=ge(e),s=[1,0,0],r=fe(a,i),l=me(r,r),p=r[0],h=l-p*p;if(!h)return!o&&t;var u=n*l/h,c=-n*p/h,d=fe(s,r),g=ve(s,u),m=ve(r,c);be(g,m);var f=d,b=me(g,f),v=me(f,f),x=b*b-v*(me(g,g)-1);if(!(0>x)){var y=Math.sqrt(x),q=ve(f,(-b-y)/v);if(be(q,g),q=ye(q),!o)return q;var w,S=t[0],C=e[0],I=t[1],_=e[1];S>C&&(w=S,S=C,C=w);var k=C-S,T=gs(k-Ds)<Ls,M=T||Ls>k;if(!T&&I>_&&(w=I,I=_,_=w),M?T?I+_>0^q[1]<(gs(q[0]-S)<Ls?I:_):I<=q[1]&&q[1]<=_:k>Ds^(S<=q[0]&&q[0]<=C)){var L=ve(f,(-b+y)/v);return be(L,g),[q,ye(L)]}}}function i(e,o){var a=s?t:Ds-t,i=0;return-a>e?i|=1:e>a&&(i|=2),-a>o?i|=4:o>a&&(i|=8),i}var n=Math.cos(t),s=n>0,r=gs(n)>Ls,l=go(t,6*$s);return De(e,o,l,s?[0,-t]:[-Ds,t-Ds])}function ze(t,e,o,a){return function(i){var n,s=i.a,r=i.b,l=s.x,p=s.y,h=r.x,u=r.y,c=0,d=1,g=h-l,m=u-p;if(n=t-l,g||!(n>0)){if(n/=g,0>g){if(c>n)return;d>n&&(d=n)}else if(g>0){if(n>d)return;n>c&&(c=n)}if(n=o-l,g||!(0>n)){if(n/=g,0>g){if(n>d)return;n>c&&(c=n)}else if(g>0){if(c>n)return;d>n&&(d=n)}if(n=e-p,m||!(n>0)){if(n/=m,0>m){if(c>n)return;d>n&&(d=n)}else if(m>0){if(n>d)return;n>c&&(c=n)}if(n=a-p,m||!(0>n)){if(n/=m,0>m){if(n>d)return;n>c&&(c=n)}else if(m>0){if(c>n)return;d>n&&(d=n)}return c>0&&(i.a={x:l+c*g,y:p+c*m}),1>d&&(i.b={x:l+d*g,y:p+d*m}),i}}}}}}function Ge(t,e,o,a){function i(a,i){return gs(a[0]-t)<Ls?i>0?0:3:gs(a[0]-o)<Ls?i>0?2:1:gs(a[1]-e)<Ls?i>0?1:0:i>0?3:2}function n(t,e){return s(t.x,e.x)}function s(t,e){var o=i(t,1),a=i(e,1);return o!==a?o-a:0===o?e[1]-t[1]:1===o?t[0]-e[0]:2===o?t[1]-e[1]:e[0]-t[0]}return function(r){function l(t){for(var e=0,o=f.length,a=t[1],i=0;o>i;++i)for(var n,s=1,r=f[i],l=r.length,p=r[0];l>s;++s)n=r[s],p[1]<=a?n[1]>a&&K(p,n,t)>0&&++e:n[1]<=a&&K(p,n,t)<0&&--e,p=n;return 0!==e}function p(n,r,l,p){var h=0,u=0;if(null==n||(h=i(n,l))!==(u=i(r,l))||s(n,r)<0^l>0){do p.point(0===h||3===h?t:o,h>1?a:e);while((h=(h+l+4)%4)!==u)}else p.point(r[0],r[1])}function h(i,n){return i>=t&&o>=i&&n>=e&&a>=n}function u(t,e){h(t,e)&&r.point(t,e)}function c(){M.point=g,f&&f.push(b=[]),C=!0,S=!1,q=w=NaN}function d(){m&&(g(v,x),y&&S&&k.rejoin(),m.push(k.buffer())),M.point=u,S&&r.lineEnd()}function g(t,e){t=Math.max(-Vr,Math.min(Vr,t)),e=Math.max(-Vr,Math.min(Vr,e));var o=h(t,e);if(f&&b.push([t,e]),C)v=t,x=e,y=o,C=!1,o&&(r.lineStart(),r.point(t,e));else if(o&&S)r.point(t,e);else{var a={a:{x:q,y:w},b:{x:t,y:e}};T(a)?(S||(r.lineStart(),r.point(a.a.x,a.a.y)),r.point(a.b.x,a.b.y),o||r.lineEnd(),I=!1):o&&(r.lineStart(),r.point(t,e),I=!1)}q=t,w=e,S=o}var m,f,b,v,x,y,q,w,S,C,I,_=r,k=Ve(),T=ze(t,e,o,a),M={point:u,lineStart:c,lineEnd:d,polygonStart:function(){r=k,m=[],f=[],I=!0},polygonEnd:function(){r=_,m=os.merge(m);var e=l([t,a]),o=I&&e,i=m.length;(o||i)&&(r.polygonStart(),o&&(r.lineStart(),p(null,null,1,r),r.lineEnd()),i&&Me(m,n,e,p,r),r.polygonEnd()),m=f=b=null}};return M}}function We(t){var e=0,o=Ds/3,a=no(t),i=a(e,o);return i.parallels=function(t){return arguments.length?a(e=t[0]*Ds/180,o=t[1]*Ds/180):[e/Ds*180,o/Ds*180]},i}function je(t,e){function o(t,e){var o=Math.sqrt(n-2*i*Math.sin(e))/i;return[o*Math.sin(t*=i),s-o*Math.cos(t)]}var a=Math.sin(t),i=(a+Math.sin(e))/2,n=1+a*(2*i-a),s=Math.sqrt(n)/i;return o.invert=function(t,e){var o=s-e;return[Math.atan2(t,o)/i,et((n-(t*t+o*o)*i*i)/(2*i))]},o}function Ze(){function t(t,e){$r+=i*t-a*e,a=t,i=e}var e,o,a,i;zr.point=function(n,s){zr.point=t,e=a=n,o=i=s},zr.lineEnd=function(){t(e,o)}}function Ee(t,e){Ar>t&&(Ar=t),t>Br&&(Br=t),Pr>e&&(Pr=e),e>Nr&&(Nr=e)}function Re(){function t(t,e){s.push("M",t,",",e,n)}function e(t,e){s.push("M",t,",",e),r.point=o}function o(t,e){s.push("L",t,",",e)}function a(){r.point=t}function i(){s.push("Z")}var n=Ye(4.5),s=[],r={point:t,lineStart:function(){
r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=i},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return n=Ye(t),r},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return r}function Ye(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ue(t,e){Sr+=t,Cr+=e,++Ir}function Xe(){function t(t,a){var i=t-e,n=a-o,s=Math.sqrt(i*i+n*n);_r+=s*(e+t)/2,kr+=s*(o+a)/2,Tr+=s,Ue(e=t,o=a)}var e,o;Wr.point=function(a,i){Wr.point=t,Ue(e=a,o=i)}}function Qe(){Wr.point=Ue}function Je(){function t(t,e){var o=t-a,n=e-i,s=Math.sqrt(o*o+n*n);_r+=s*(a+t)/2,kr+=s*(i+e)/2,Tr+=s,s=i*t-a*e,Mr+=s*(a+t),Lr+=s*(i+e),Hr+=3*s,Ue(a=t,i=e)}var e,o,a,i;Wr.point=function(n,s){Wr.point=t,Ue(e=a=n,o=i=s)},Wr.lineEnd=function(){t(e,o)}}function Ke(t){function e(e,o){t.moveTo(e+s,o),t.arc(e,o,s,0,Os)}function o(e,o){t.moveTo(e,o),r.point=a}function a(e,o){t.lineTo(e,o)}function i(){r.point=e}function n(){t.closePath()}var s=4.5,r={point:e,lineStart:function(){r.point=o},lineEnd:i,polygonStart:function(){r.lineEnd=n},polygonEnd:function(){r.lineEnd=i,r.point=e},pointRadius:function(t){return s=t,r},result:q};return r}function to(t){function e(t){return(r?a:o)(t)}function o(e){return ao(e,function(o,a){o=t(o,a),e.point(o[0],o[1])})}function a(e){function o(o,a){o=t(o,a),e.point(o[0],o[1])}function a(){x=NaN,C.point=n,e.lineStart()}function n(o,a){var n=ge([o,a]),s=t(o,a);i(x,y,v,q,w,S,x=s[0],y=s[1],v=o,q=n[0],w=n[1],S=n[2],r,e),e.point(x,y)}function s(){C.point=o,e.lineEnd()}function l(){a(),C.point=p,C.lineEnd=h}function p(t,e){n(u=t,c=e),d=x,g=y,m=q,f=w,b=S,C.point=n}function h(){i(x,y,v,q,w,S,d,g,u,m,f,b,r,e),C.lineEnd=s,s()}var u,c,d,g,m,f,b,v,x,y,q,w,S,C={point:o,lineStart:a,lineEnd:s,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=a}};return C}function i(e,o,a,r,l,p,h,u,c,d,g,m,f,b){var v=h-e,x=u-o,y=v*v+x*x;if(y>4*n&&f--){var q=r+d,w=l+g,S=p+m,C=Math.sqrt(q*q+w*w+S*S),I=Math.asin(S/=C),_=gs(gs(S)-1)<Ls||gs(a-c)<Ls?(a+c)/2:Math.atan2(w,q),k=t(_,I),T=k[0],M=k[1],L=T-e,H=M-o,D=x*L-v*H;(D*D/y>n||gs((v*L+x*H)/y-.5)>.3||s>r*d+l*g+p*m)&&(i(e,o,a,r,l,p,T,M,_,q/=C,w/=C,S,f,b),b.point(T,M),i(T,M,_,q,w,S,h,u,c,d,g,m,f,b))}}var n=.5,s=Math.cos(30*$s),r=16;return e.precision=function(t){return arguments.length?(r=(n=t*t)>0&&16,e):Math.sqrt(n)},e}function eo(t){var e=to(function(e,o){return t([e*As,o*As])});return function(t){return so(e(t))}}function oo(t){this.stream=t}function ao(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function io(t){return no(function(){return t})()}function no(t){function e(t){return t=r(t[0]*$s,t[1]*$s),[t[0]*c+l,p-t[1]*c]}function o(t){return t=r.invert((t[0]-l)/c,(p-t[1])/c),t&&[t[0]*As,t[1]*As]}function a(){r=ke(s=po(b,x,y),n);var t=n(m,f);return l=d-t[0]*c,p=g+t[1]*c,i()}function i(){return h&&(h.valid=!1,h=null),e}var n,s,r,l,p,h,u=to(function(t,e){return t=n(t,e),[t[0]*c+l,p-t[1]*c]}),c=150,d=480,g=250,m=0,f=0,b=0,x=0,y=0,q=Or,w=v,S=null,C=null;return e.stream=function(t){return h&&(h.valid=!1),h=so(q(s,u(w(t)))),h.valid=!0,h},e.clipAngle=function(t){return arguments.length?(q=null==t?(S=t,Or):Ne((S=+t)*$s),i()):S},e.clipExtent=function(t){return arguments.length?(C=t,w=t?Ge(t[0][0],t[0][1],t[1][0],t[1][1]):v,i()):C},e.scale=function(t){return arguments.length?(c=+t,a()):c},e.translate=function(t){return arguments.length?(d=+t[0],g=+t[1],a()):[d,g]},e.center=function(t){return arguments.length?(m=t[0]%360*$s,f=t[1]%360*$s,a()):[m*As,f*As]},e.rotate=function(t){return arguments.length?(b=t[0]%360*$s,x=t[1]%360*$s,y=t.length>2?t[2]%360*$s:0,a()):[b*As,x*As,y*As]},os.rebind(e,u,"precision"),function(){return n=t.apply(this,arguments),e.invert=n.invert&&o,a()}}function so(t){return ao(t,function(e,o){t.point(e*$s,o*$s)})}function ro(t,e){return[t,e]}function lo(t,e){return[t>Ds?t-Os:-Ds>t?t+Os:t,e]}function po(t,e,o){return t?e||o?ke(uo(t),co(e,o)):uo(t):e||o?co(e,o):lo}function ho(t){return function(e,o){return e+=t,[e>Ds?e-Os:-Ds>e?e+Os:e,o]}}function uo(t){var e=ho(t);return e.invert=ho(-t),e}function co(t,e){function o(t,e){var o=Math.cos(e),r=Math.cos(t)*o,l=Math.sin(t)*o,p=Math.sin(e),h=p*a+r*i;return[Math.atan2(l*n-h*s,r*a-p*i),et(h*n+l*s)]}var a=Math.cos(t),i=Math.sin(t),n=Math.cos(e),s=Math.sin(e);return o.invert=function(t,e){var o=Math.cos(e),r=Math.cos(t)*o,l=Math.sin(t)*o,p=Math.sin(e),h=p*n-l*s;return[Math.atan2(l*n+p*s,r*a+h*i),et(h*a-r*i)]},o}function go(t,e){var o=Math.cos(t),a=Math.sin(t);return function(i,n,s,r){var l=s*e;null!=i?(i=mo(o,i),n=mo(o,n),(s>0?n>i:i>n)&&(i+=s*Os)):(i=t+s*Os,n=t-.5*l);for(var p,h=i;s>0?h>n:n>h;h-=l)r.point((p=ye([o,-a*Math.cos(h),-a*Math.sin(h)]))[0],p[1])}}function mo(t,e){var o=ge(e);o[0]-=t,xe(o);var a=tt(-o[1]);return((-o[2]<0?-a:a)+2*Math.PI-Ls)%(2*Math.PI)}function fo(t,e,o){var a=os.range(t,e-Ls,o).concat(e);return function(t){return a.map(function(e){return[t,e]})}}function bo(t,e,o){var a=os.range(t,e-Ls,o).concat(e);return function(t){return a.map(function(e){return[e,t]})}}function vo(t){return t.source}function xo(t){return t.target}function yo(t,e,o,a){var i=Math.cos(e),n=Math.sin(e),s=Math.cos(a),r=Math.sin(a),l=i*Math.cos(t),p=i*Math.sin(t),h=s*Math.cos(o),u=s*Math.sin(o),c=2*Math.asin(Math.sqrt(nt(a-e)+i*s*nt(o-t))),d=1/Math.sin(c),g=c?function(t){var e=Math.sin(t*=c)*d,o=Math.sin(c-t)*d,a=o*l+e*h,i=o*p+e*u,s=o*n+e*r;return[Math.atan2(i,a)*As,Math.atan2(s,Math.sqrt(a*a+i*i))*As]}:function(){return[t*As,e*As]};return g.distance=c,g}function qo(){function t(t,i){var n=Math.sin(i*=$s),s=Math.cos(i),r=gs((t*=$s)-e),l=Math.cos(r);jr+=Math.atan2(Math.sqrt((r=s*Math.sin(r))*r+(r=a*n-o*s*l)*r),o*n+a*s*l),e=t,o=n,a=s}var e,o,a;Zr.point=function(i,n){e=i*$s,o=Math.sin(n*=$s),a=Math.cos(n),Zr.point=t},Zr.lineEnd=function(){Zr.point=Zr.lineEnd=q}}function wo(t,e){function o(e,o){var a=Math.cos(e),i=Math.cos(o),n=t(a*i);return[n*i*Math.sin(e),n*Math.sin(o)]}return o.invert=function(t,o){var a=Math.sqrt(t*t+o*o),i=e(a),n=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*n,a*s),Math.asin(a&&o*n/a)]},o}function So(t,e){function o(t,e){s>0?-Fs+Ls>e&&(e=-Fs+Ls):e>Fs-Ls&&(e=Fs-Ls);var o=s/Math.pow(i(e),n);return[o*Math.sin(n*t),s-o*Math.cos(n*t)]}var a=Math.cos(t),i=function(t){return Math.tan(Ds/4+t/2)},n=t===e?Math.sin(t):Math.log(a/Math.cos(e))/Math.log(i(e)/i(t)),s=a*Math.pow(i(t),n)/n;return n?(o.invert=function(t,e){var o=s-e,a=J(n)*Math.sqrt(t*t+o*o);return[Math.atan2(t,o)/n,2*Math.atan(Math.pow(s/a,1/n))-Fs]},o):Io}function Co(t,e){function o(t,e){var o=n-e;return[o*Math.sin(i*t),n-o*Math.cos(i*t)]}var a=Math.cos(t),i=t===e?Math.sin(t):(a-Math.cos(e))/(e-t),n=a/i+t;return gs(i)<Ls?ro:(o.invert=function(t,e){var o=n-e;return[Math.atan2(t,o)/i,n-J(i)*Math.sqrt(t*t+o*o)]},o)}function Io(t,e){return[t,Math.log(Math.tan(Ds/4+e/2))]}function _o(t){var e,o=io(t),a=o.scale,i=o.translate,n=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?e?o.clipExtent(null):o:t},o.translate=function(){var t=i.apply(o,arguments);return t===o?e?o.clipExtent(null):o:t},o.clipExtent=function(t){var s=n.apply(o,arguments);if(s===o){if(e=null==t){var r=Ds*a(),l=i();n([[l[0]-r,l[1]-r],[l[0]+r,l[1]+r]])}}else e&&(s=null);return s},o.clipExtent(null)}function ko(t,e){return[Math.log(Math.tan(Ds/4+e/2)),-t]}function To(t){return t[0]}function Mo(t){return t[1]}function Lo(t){for(var e=t.length,o=[0,1],a=2,i=2;e>i;i++){for(;a>1&&K(t[o[a-2]],t[o[a-1]],t[i])<=0;)--a;o[a++]=i}return o.slice(0,a)}function Ho(t,e){return t[0]-e[0]||t[1]-e[1]}function Do(t,e,o){return(o[0]-e[0])*(t[1]-e[1])<(o[1]-e[1])*(t[0]-e[0])}function Oo(t,e,o,a){var i=t[0],n=o[0],s=e[0]-i,r=a[0]-n,l=t[1],p=o[1],h=e[1]-l,u=a[1]-p,c=(r*(l-p)-u*(i-n))/(u*s-r*h);return[i+c*s,l+c*h]}function Vo(t){var e=t[0],o=t[t.length-1];return!(e[0]-o[0]||e[1]-o[1])}function Fo(){oa(this),this.edge=this.site=this.circle=null}function $o(t){var e=al.pop()||new Fo;return e.site=t,e}function Ao(t){Ro(t),tl.remove(t),al.push(t),oa(t)}function Po(t){var e=t.circle,o=e.x,a=e.cy,i={x:o,y:a},n=t.P,s=t.N,r=[t];Ao(t);for(var l=n;l.circle&&gs(o-l.circle.x)<Ls&&gs(a-l.circle.cy)<Ls;)n=l.P,r.unshift(l),Ao(l),l=n;r.unshift(l),Ro(l);for(var p=s;p.circle&&gs(o-p.circle.x)<Ls&&gs(a-p.circle.cy)<Ls;)s=p.N,r.push(p),Ao(p),p=s;r.push(p),Ro(p);var h,u=r.length;for(h=1;u>h;++h)p=r[h],l=r[h-1],Ko(p.edge,l.site,p.site,i);l=r[0],p=r[u-1],p.edge=Qo(l.site,p.site,null,i),Eo(l),Eo(p)}function Bo(t){for(var e,o,a,i,n=t.x,s=t.y,r=tl._;r;)if(a=No(r,s)-n,a>Ls)r=r.L;else{if(i=n-zo(r,s),!(i>Ls)){a>-Ls?(e=r.P,o=r):i>-Ls?(e=r,o=r.N):e=o=r;break}if(!r.R){e=r;break}r=r.R}var l=$o(t);if(tl.insert(e,l),e||o){if(e===o)return Ro(e),o=$o(e.site),tl.insert(l,o),l.edge=o.edge=Qo(e.site,l.site),Eo(e),void Eo(o);if(!o)return void(l.edge=Qo(e.site,l.site));Ro(e),Ro(o);var p=e.site,h=p.x,u=p.y,c=t.x-h,d=t.y-u,g=o.site,m=g.x-h,f=g.y-u,b=2*(c*f-d*m),v=c*c+d*d,x=m*m+f*f,y={x:(f*v-d*x)/b+h,y:(c*x-m*v)/b+u};Ko(o.edge,p,g,y),l.edge=Qo(p,t,null,y),o.edge=Qo(t,g,null,y),Eo(e),Eo(o)}}function No(t,e){var o=t.site,a=o.x,i=o.y,n=i-e;if(!n)return a;var s=t.P;if(!s)return-(1/0);o=s.site;var r=o.x,l=o.y,p=l-e;if(!p)return r;var h=r-a,u=1/n-1/p,c=h/p;return u?(-c+Math.sqrt(c*c-2*u*(h*h/(-2*p)-l+p/2+i-n/2)))/u+a:(a+r)/2}function zo(t,e){var o=t.N;if(o)return No(o,e);var a=t.site;return a.y===e?a.x:1/0}function Go(t){this.site=t,this.edges=[]}function Wo(t){for(var e,o,a,i,n,s,r,l,p,h,u=t[0][0],c=t[1][0],d=t[0][1],g=t[1][1],m=Kr,f=m.length;f--;)if(n=m[f],n&&n.prepare())for(r=n.edges,l=r.length,s=0;l>s;)h=r[s].end(),a=h.x,i=h.y,p=r[++s%l].start(),e=p.x,o=p.y,(gs(a-e)>Ls||gs(i-o)>Ls)&&(r.splice(s,0,new ta(Jo(n.site,h,gs(a-u)<Ls&&g-i>Ls?{x:u,y:gs(e-u)<Ls?o:g}:gs(i-g)<Ls&&c-a>Ls?{x:gs(o-g)<Ls?e:c,y:g}:gs(a-c)<Ls&&i-d>Ls?{x:c,y:gs(e-c)<Ls?o:d}:gs(i-d)<Ls&&a-u>Ls?{x:gs(o-d)<Ls?e:u,y:d}:null),n.site,null)),++l)}function jo(t,e){return e.angle-t.angle}function Zo(){oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Eo(t){var e=t.P,o=t.N;if(e&&o){var a=e.site,i=t.site,n=o.site;if(a!==n){var s=i.x,r=i.y,l=a.x-s,p=a.y-r,h=n.x-s,u=n.y-r,c=2*(l*u-p*h);if(!(c>=-Hs)){var d=l*l+p*p,g=h*h+u*u,m=(u*d-p*g)/c,f=(l*g-h*d)/c,u=f+r,b=il.pop()||new Zo;b.arc=t,b.site=i,b.x=m+s,b.y=u+Math.sqrt(m*m+f*f),b.cy=u,t.circle=b;for(var v=null,x=ol._;x;)if(b.y<x.y||b.y===x.y&&b.x<=x.x){if(!x.L){v=x.P;break}x=x.L}else{if(!x.R){v=x;break}x=x.R}ol.insert(v,b),v||(el=b)}}}}function Ro(t){var e=t.circle;e&&(e.P||(el=e.N),ol.remove(e),il.push(e),oa(e),t.circle=null)}function Yo(t){for(var e,o=Jr,a=ze(t[0][0],t[0][1],t[1][0],t[1][1]),i=o.length;i--;)e=o[i],(!Uo(e,t)||!a(e)||gs(e.a.x-e.b.x)<Ls&&gs(e.a.y-e.b.y)<Ls)&&(e.a=e.b=null,o.splice(i,1))}function Uo(t,e){var o=t.b;if(o)return!0;var a,i,n=t.a,s=e[0][0],r=e[1][0],l=e[0][1],p=e[1][1],h=t.l,u=t.r,c=h.x,d=h.y,g=u.x,m=u.y,f=(c+g)/2,b=(d+m)/2;if(m===d){if(s>f||f>=r)return;if(c>g){if(n){if(n.y>=p)return}else n={x:f,y:l};o={x:f,y:p}}else{if(n){if(n.y<l)return}else n={x:f,y:p};o={x:f,y:l}}}else if(a=(c-g)/(m-d),i=b-a*f,-1>a||a>1)if(c>g){if(n){if(n.y>=p)return}else n={x:(l-i)/a,y:l};o={x:(p-i)/a,y:p}}else{if(n){if(n.y<l)return}else n={x:(p-i)/a,y:p};o={x:(l-i)/a,y:l}}else if(m>d){if(n){if(n.x>=r)return}else n={x:s,y:a*s+i};o={x:r,y:a*r+i}}else{if(n){if(n.x<s)return}else n={x:r,y:a*r+i};o={x:s,y:a*s+i}}return t.a=n,t.b=o,!0}function Xo(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qo(t,e,o,a){var i=new Xo(t,e);return Jr.push(i),o&&Ko(i,t,e,o),a&&Ko(i,e,t,a),Kr[t.i].edges.push(new ta(i,t,e)),Kr[e.i].edges.push(new ta(i,e,t)),i}function Jo(t,e,o){var a=new Xo(t,null);return a.a=e,a.b=o,Jr.push(a),a}function Ko(t,e,o,a){t.a||t.b?t.l===o?t.b=a:t.a=a:(t.a=a,t.l=e,t.r=o)}function ta(t,e,o){var a=t.a,i=t.b;this.edge=t,this.site=e,this.angle=o?Math.atan2(o.y-e.y,o.x-e.x):t.l===e?Math.atan2(i.x-a.x,a.y-i.y):Math.atan2(a.x-i.x,i.y-a.y)}function ea(){this._=null}function oa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function aa(t,e){var o=e,a=e.R,i=o.U;i?i.L===o?i.L=a:i.R=a:t._=a,a.U=i,o.U=a,o.R=a.L,o.R&&(o.R.U=o),a.L=o}function ia(t,e){var o=e,a=e.L,i=o.U;i?i.L===o?i.L=a:i.R=a:t._=a,a.U=i,o.U=a,o.L=a.R,o.L&&(o.L.U=o),a.R=o}function na(t){for(;t.L;)t=t.L;return t}function sa(t,e){var o,a,i,n=t.sort(ra).pop();for(Jr=[],Kr=new Array(t.length),tl=new ea,ol=new ea;;)if(i=el,n&&(!i||n.y<i.y||n.y===i.y&&n.x<i.x))(n.x!==o||n.y!==a)&&(Kr[n.i]=new Go(n),Bo(n),o=n.x,a=n.y),n=t.pop();else{if(!i)break;Po(i.arc)}e&&(Yo(e),Wo(e));var s={cells:Kr,edges:Jr};return tl=ol=Jr=Kr=null,s}function ra(t,e){return e.y-t.y||e.x-t.x}function la(t,e,o){return(t.x-o.x)*(e.y-t.y)-(t.x-e.x)*(o.y-t.y)}function pa(t){return t.x}function ha(t){return t.y}function ua(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ca(t,e,o,a,i,n){if(!t(e,o,a,i,n)){var s=.5*(o+i),r=.5*(a+n),l=e.nodes;l[0]&&ca(t,l[0],o,a,s,r),l[1]&&ca(t,l[1],s,a,i,r),l[2]&&ca(t,l[2],o,r,s,n),l[3]&&ca(t,l[3],s,r,i,n)}}function da(t,e,o,a,i,n,s){var r,l=1/0;return function p(t,h,u,c,d){if(!(h>n||u>s||a>c||i>d)){if(g=t.point){var g,m=e-t.x,f=o-t.y,b=m*m+f*f;if(l>b){var v=Math.sqrt(l=b);a=e-v,i=o-v,n=e+v,s=o+v,r=g}}for(var x=t.nodes,y=.5*(h+c),q=.5*(u+d),w=e>=y,S=o>=q,C=S<<1|w,I=C+4;I>C;++C)if(t=x[3&C])switch(3&C){case 0:p(t,h,u,y,q);break;case 1:p(t,y,u,c,q);break;case 2:p(t,h,q,y,d);break;case 3:p(t,y,q,c,d)}}}(t,a,i,n,s),r}function ga(t,e){t=os.rgb(t),e=os.rgb(e);var o=t.r,a=t.g,i=t.b,n=e.r-o,s=e.g-a,r=e.b-i;return function(t){return"#"+yt(Math.round(o+n*t))+yt(Math.round(a+s*t))+yt(Math.round(i+r*t))}}function ma(t,e){var o,a={},i={};for(o in t)o in e?a[o]=va(t[o],e[o]):i[o]=t[o];for(o in e)o in t||(i[o]=e[o]);return function(t){for(o in a)i[o]=a[o](t);return i}}function fa(t,e){return t=+t,e=+e,function(o){return t*(1-o)+e*o}}function ba(t,e){var o,a,i,n=sl.lastIndex=rl.lastIndex=0,s=-1,r=[],l=[];for(t+="",e+="";(o=sl.exec(t))&&(a=rl.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),r[s]?r[s]+=i:r[++s]=i),(o=o[0])===(a=a[0])?r[s]?r[s]+=a:r[++s]=a:(r[++s]=null,l.push({i:s,x:fa(o,a)})),n=rl.lastIndex;return n<e.length&&(i=e.slice(n),r[s]?r[s]+=i:r[++s]=i),r.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var o,a=0;e>a;++a)r[(o=l[a]).i]=o.x(t);return r.join("")})}function va(t,e){for(var o,a=os.interpolators.length;--a>=0&&!(o=os.interpolators[a](t,e)););return o}function xa(t,e){var o,a=[],i=[],n=t.length,s=e.length,r=Math.min(t.length,e.length);for(o=0;r>o;++o)a.push(va(t[o],e[o]));for(;n>o;++o)i[o]=t[o];for(;s>o;++o)i[o]=e[o];return function(t){for(o=0;r>o;++o)i[o]=a[o](t);return i}}function ya(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function qa(t){return function(e){return 1-t(1-e)}}function wa(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Sa(t){return t*t}function Ca(t){return t*t*t}function Ia(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,o=e*t;return 4*(.5>t?o:3*(t-e)+o-.75)}function _a(t){return function(e){return Math.pow(e,t)}}function ka(t){return 1-Math.cos(t*Fs)}function Ta(t){return Math.pow(2,10*(t-1))}function Ma(t){return 1-Math.sqrt(1-t*t)}function La(t,e){var o;return arguments.length<2&&(e=.45),arguments.length?o=e/Os*Math.asin(1/t):(t=1,o=e/4),function(a){return 1+t*Math.pow(2,-10*a)*Math.sin((a-o)*Os/e)}}function Ha(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Da(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Oa(t,e){t=os.hcl(t),e=os.hcl(e);var o=t.h,a=t.c,i=t.l,n=e.h-o,s=e.c-a,r=e.l-i;return isNaN(s)&&(s=0,a=isNaN(a)?e.c:a),isNaN(n)?(n=0,o=isNaN(o)?e.h:o):n>180?n-=360:-180>n&&(n+=360),function(t){return ht(o+n*t,a+s*t,i+r*t)+""}}function Va(t,e){t=os.hsl(t),e=os.hsl(e);var o=t.h,a=t.s,i=t.l,n=e.h-o,s=e.s-a,r=e.l-i;return isNaN(s)&&(s=0,a=isNaN(a)?e.s:a),isNaN(n)?(n=0,o=isNaN(o)?e.h:o):n>180?n-=360:-180>n&&(n+=360),function(t){return lt(o+n*t,a+s*t,i+r*t)+""}}function Fa(t,e){t=os.lab(t),e=os.lab(e);var o=t.l,a=t.a,i=t.b,n=e.l-o,s=e.a-a,r=e.b-i;return function(t){return ct(o+n*t,a+s*t,i+r*t)+""}}function $a(t,e){return e-=t,function(o){return Math.round(t+e*o)}}function Aa(t){var e=[t.a,t.b],o=[t.c,t.d],a=Ba(e),i=Pa(e,o),n=Ba(Na(o,e,-i))||0;e[0]*o[1]<o[0]*e[1]&&(e[0]*=-1,e[1]*=-1,a*=-1,i*=-1),this.rotate=(a?Math.atan2(e[1],e[0]):Math.atan2(-o[0],o[1]))*As,this.translate=[t.e,t.f],this.scale=[a,n],this.skew=n?Math.atan2(i,n)*As:0}function Pa(t,e){return t[0]*e[0]+t[1]*e[1]}function Ba(t){var e=Math.sqrt(Pa(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Na(t,e,o){return t[0]+=o*e[0],t[1]+=o*e[1],t}function za(t,e){var o,a=[],i=[],n=os.transform(t),s=os.transform(e),r=n.translate,l=s.translate,p=n.rotate,h=s.rotate,u=n.skew,c=s.skew,d=n.scale,g=s.scale;return r[0]!=l[0]||r[1]!=l[1]?(a.push("translate(",null,",",null,")"),i.push({i:1,x:fa(r[0],l[0])},{i:3,x:fa(r[1],l[1])})):l[0]||l[1]?a.push("translate("+l+")"):a.push(""),p!=h?(p-h>180?h+=360:h-p>180&&(p+=360),i.push({i:a.push(a.pop()+"rotate(",null,")")-2,x:fa(p,h)})):h&&a.push(a.pop()+"rotate("+h+")"),u!=c?i.push({i:a.push(a.pop()+"skewX(",null,")")-2,x:fa(u,c)}):c&&a.push(a.pop()+"skewX("+c+")"),d[0]!=g[0]||d[1]!=g[1]?(o=a.push(a.pop()+"scale(",null,",",null,")"),i.push({i:o-4,x:fa(d[0],g[0])},{i:o-2,x:fa(d[1],g[1])})):(1!=g[0]||1!=g[1])&&a.push(a.pop()+"scale("+g+")"),o=i.length,function(t){for(var e,n=-1;++n<o;)a[(e=i[n]).i]=e.x(t);return a.join("")}}function Ga(t,e){return e=(e-=t=+t)||1/e,function(o){return(o-t)/e}}function Wa(t,e){return e=(e-=t=+t)||1/e,function(o){return Math.max(0,Math.min(1,(o-t)/e))}}function ja(t){for(var e=t.source,o=t.target,a=Ea(e,o),i=[e];e!==a;)e=e.parent,i.push(e);for(var n=i.length;o!==a;)i.splice(n,0,o),o=o.parent;return i}function Za(t){for(var e=[],o=t.parent;null!=o;)e.push(t),t=o,o=o.parent;return e.push(t),e}function Ea(t,e){if(t===e)return t;for(var o=Za(t),a=Za(e),i=o.pop(),n=a.pop(),s=null;i===n;)s=i,i=o.pop(),n=a.pop();return s}function Ra(t){t.fixed|=2}function Ya(t){t.fixed&=-7}function Ua(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Xa(t){t.fixed&=-5}function Qa(t,e,o){var a=0,i=0;if(t.charge=0,!t.leaf)for(var n,s=t.nodes,r=s.length,l=-1;++l<r;)n=s[l],null!=n&&(Qa(n,e,o),t.charge+=n.charge,a+=n.charge*n.cx,i+=n.charge*n.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var p=e*o[t.point.index];t.charge+=t.pointCharge=p,a+=p*t.point.x,i+=p*t.point.y}t.cx=a/t.charge,t.cy=i/t.charge}function Ja(t,e){return os.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ii,t}function Ka(t,e){for(var o=[t];null!=(t=o.pop());)if(e(t),(i=t.children)&&(a=i.length))for(var a,i;--a>=0;)o.push(i[a])}function ti(t,e){for(var o=[t],a=[];null!=(t=o.pop());)if(a.push(t),(n=t.children)&&(i=n.length))for(var i,n,s=-1;++s<i;)o.push(n[s]);for(;null!=(t=a.pop());)e(t)}function ei(t){return t.children}function oi(t){return t.value}function ai(t,e){return e.value-t.value}function ii(t){return os.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ni(t){return t.x}function si(t){return t.y}function ri(t,e,o){t.y0=e,t.y=o}function li(t){return os.range(t.length)}function pi(t){for(var e=-1,o=t[0].length,a=[];++e<o;)a[e]=0;return a}function hi(t){for(var e,o=1,a=0,i=t[0][1],n=t.length;n>o;++o)(e=t[o][1])>i&&(a=o,i=e);return a}function ui(t){return t.reduce(ci,0)}function ci(t,e){return t+e[1]}function di(t,e){return gi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function gi(t,e){for(var o=-1,a=+t[0],i=(t[1]-a)/e,n=[];++o<=e;)n[o]=i*o+a;return n}function mi(t){return[os.min(t),os.max(t)]}function fi(t,e){return t.value-e.value}function bi(t,e){var o=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=o,o._pack_prev=e}function vi(t,e){t._pack_next=e,e._pack_prev=t}function xi(t,e){var o=e.x-t.x,a=e.y-t.y,i=t.r+e.r;return.999*i*i>o*o+a*a}function yi(t){function e(t){h=Math.min(t.x-t.r,h),u=Math.max(t.x+t.r,u),c=Math.min(t.y-t.r,c),d=Math.max(t.y+t.r,d)}if((o=t.children)&&(p=o.length)){var o,a,i,n,s,r,l,p,h=1/0,u=-(1/0),c=1/0,d=-(1/0);if(o.forEach(qi),a=o[0],a.x=-a.r,a.y=0,e(a),p>1&&(i=o[1],i.x=i.r,i.y=0,e(i),p>2))for(n=o[2],Ci(a,i,n),e(n),bi(a,n),a._pack_prev=n,bi(n,i),i=a._pack_next,s=3;p>s;s++){Ci(a,i,n=o[s]);var g=0,m=1,f=1;for(r=i._pack_next;r!==i;r=r._pack_next,m++)if(xi(r,n)){g=1;break}if(1==g)for(l=a._pack_prev;l!==r._pack_prev&&!xi(l,n);l=l._pack_prev,f++);g?(f>m||m==f&&i.r<a.r?vi(a,i=r):vi(a=l,i),s--):(bi(a,n),i=n,e(n))}var b=(h+u)/2,v=(c+d)/2,x=0;for(s=0;p>s;s++)n=o[s],n.x-=b,n.y-=v,x=Math.max(x,n.r+Math.sqrt(n.x*n.x+n.y*n.y));t.r=x,o.forEach(wi)}}function qi(t){t._pack_next=t._pack_prev=t}function wi(t){delete t._pack_next,delete t._pack_prev}function Si(t,e,o,a){var i=t.children;if(t.x=e+=a*t.x,t.y=o+=a*t.y,t.r*=a,i)for(var n=-1,s=i.length;++n<s;)Si(i[n],e,o,a)}function Ci(t,e,o){var a=t.r+o.r,i=e.x-t.x,n=e.y-t.y;if(a&&(i||n)){var s=e.r+o.r,r=i*i+n*n;s*=s,a*=a;var l=.5+(a-s)/(2*r),p=Math.sqrt(Math.max(0,2*s*(a+r)-(a-=r)*a-s*s))/(2*r);o.x=t.x+l*i+p*n,o.y=t.y+l*n-p*i}else o.x=t.x+a,o.y=t.y}function Ii(t,e){return t.parent==e.parent?1:2}function _i(t){var e=t.children;return e.length?e[0]:t.t}function ki(t){var e,o=t.children;return(e=o.length)?o[e-1]:t.t}function Ti(t,e,o){var a=o/(e.i-t.i);e.c-=a,e.s+=o,t.c+=a,e.z+=o,e.m+=o}function Mi(t){for(var e,o=0,a=0,i=t.children,n=i.length;--n>=0;)e=i[n],e.z+=o,e.m+=o,o+=e.s+(a+=e.c)}function Li(t,e,o){return t.a.parent===e.parent?t.a:o}function Hi(t){return 1+os.max(t,function(t){return t.y})}function Di(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Oi(t){var e=t.children;return e&&e.length?Oi(e[0]):t}function Vi(t){var e,o=t.children;return o&&(e=o.length)?Vi(o[e-1]):t}function Fi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function $i(t,e){var o=t.x+e[3],a=t.y+e[0],i=t.dx-e[1]-e[3],n=t.dy-e[0]-e[2];return 0>i&&(o+=i/2,i=0),0>n&&(a+=n/2,n=0),{x:o,y:a,dx:i,dy:n}}function Ai(t){var e=t[0],o=t[t.length-1];return o>e?[e,o]:[o,e]}function Pi(t){return t.rangeExtent?t.rangeExtent():Ai(t.range())}function Bi(t,e,o,a){var i=o(t[0],t[1]),n=a(e[0],e[1]);return function(t){return n(i(t))}}function Ni(t,e){var o,a=0,i=t.length-1,n=t[a],s=t[i];return n>s&&(o=a,a=i,i=o,o=n,n=s,s=o),t[a]=e.floor(n),t[i]=e.ceil(s),t}function zi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:vl}function Gi(t,e,o,a){var i=[],n=[],s=0,r=Math.min(t.length,e.length)-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=r;)i.push(o(t[s-1],t[s])),n.push(a(e[s-1],e[s]));return function(e){var o=os.bisect(t,e,1,r)-1;return n[o](i[o](e))}}function Wi(t,e,o,a){function i(){var i=Math.min(t.length,e.length)>2?Gi:Bi,l=a?Wa:Ga;return s=i(t,e,l,o),r=i(e,t,l,va),n}function n(t){return s(t)}var s,r;return n.invert=function(t){return r(t)},n.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},n.range=function(t){return arguments.length?(e=t,i()):e},n.rangeRound=function(t){return n.range(t).interpolate($a)},n.clamp=function(t){return arguments.length?(a=t,i()):a},n.interpolate=function(t){return arguments.length?(o=t,i()):o},n.ticks=function(e){return Ri(t,e)},n.tickFormat=function(e,o){return Yi(t,e,o)},n.nice=function(e){return Zi(t,e),i()},n.copy=function(){return Wi(t,e,o,a)},i()}function ji(t,e){return os.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zi(t,e){return Ni(t,zi(Ei(t,e)[2]))}function Ei(t,e){null==e&&(e=10);var o=Ai(t),a=o[1]-o[0],i=Math.pow(10,Math.floor(Math.log(a/e)/Math.LN10)),n=e/a*i;return.15>=n?i*=10:.35>=n?i*=5:.75>=n&&(i*=2),o[0]=Math.ceil(o[0]/i)*i,o[1]=Math.floor(o[1]/i)*i+.5*i,o[2]=i,o}function Ri(t,e){return os.range.apply(os,Ei(t,e))}function Yi(t,e,o){var a=Ei(t,e);if(o){var i=sr.exec(o);if(i.shift(),"s"===i[8]){var n=os.formatPrefix(Math.max(gs(a[0]),gs(a[1])));return i[7]||(i[7]="."+Ui(n.scale(a[2]))),i[8]="f",o=os.format(i.join("")),function(t){return o(n.scale(t))+n.symbol}}i[7]||(i[7]="."+Xi(i[8],a)),o=i.join("")}else o=",."+Ui(a[2])+"f";return os.format(o)}function Ui(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Xi(t,e){var o=Ui(e[2]);return t in xl?Math.abs(o-Ui(Math.max(gs(e[0]),gs(e[1]))))+ +("e"!==t):o-2*("%"===t)}function Qi(t,e,o,a){function i(t){return(o?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function n(t){return o?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(i(e))}return s.invert=function(e){return n(t.invert(e))},s.domain=function(e){return arguments.length?(o=e[0]>=0,t.domain((a=e.map(Number)).map(i)),s):a},s.base=function(o){return arguments.length?(e=+o,t.domain(a.map(i)),s):e},s.nice=function(){var e=Ni(a.map(i),o?Math:ql);return t.domain(e),a=e.map(n),s},s.ticks=function(){var t=Ai(a),s=[],r=t[0],l=t[1],p=Math.floor(i(r)),h=Math.ceil(i(l)),u=e%1?2:e;if(isFinite(h-p)){if(o){for(;h>p;p++)for(var c=1;u>c;c++)s.push(n(p)*c);s.push(n(p))}else for(s.push(n(p));p++<h;)for(var c=u-1;c>0;c--)s.push(n(p)*c);for(p=0;s[p]<r;p++);for(h=s.length;s[h-1]>l;h--);s=s.slice(p,h)}return s},s.tickFormat=function(t,e){if(!arguments.length)return yl;arguments.length<2?e=yl:"function"!=typeof e&&(e=os.format(e));var a,r=Math.max(.1,t/s.ticks().length),l=o?(a=1e-12,Math.ceil):(a=-1e-12,Math.floor);return function(t){return t/n(l(i(t)+a))<=r?e(t):""}},s.copy=function(){return Qi(t.copy(),e,o,a)},ji(s,t)}function Ji(t,e,o){function a(e){return t(i(e))}var i=Ki(e),n=Ki(1/e);return a.invert=function(e){return n(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((o=e.map(Number)).map(i)),a):o},a.ticks=function(t){return Ri(o,t)},a.tickFormat=function(t,e){return Yi(o,t,e)},a.nice=function(t){return a.domain(Zi(o,t))},a.exponent=function(s){return arguments.length?(i=Ki(e=s),n=Ki(1/e),t.domain(o.map(i)),a):e},a.copy=function(){return Ji(t.copy(),e,o)},ji(a,t)}function Ki(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function tn(t,e){function o(o){return n[((i.get(o)||("range"===e.t?i.set(o,t.push(o)):NaN))-1)%n.length]}function a(e,o){return os.range(t.length).map(function(t){return e+o*t})}var i,n,s;return o.domain=function(a){if(!arguments.length)return t;t=[],i=new p;for(var n,s=-1,r=a.length;++s<r;)i.has(n=a[s])||i.set(n,t.push(n));return o[e.t].apply(o,e.a)},o.range=function(t){return arguments.length?(n=t,s=0,e={t:"range",a:arguments},o):n},o.rangePoints=function(i,r){arguments.length<2&&(r=0);var l=i[0],p=i[1],h=t.length<2?(l=(l+p)/2,0):(p-l)/(t.length-1+r);return n=a(l+h*r/2,h),s=0,e={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(i,r){arguments.length<2&&(r=0);var l=i[0],p=i[1],h=t.length<2?(l=p=Math.round((l+p)/2),0):(p-l)/(t.length-1+r)|0;return n=a(l+Math.round(h*r/2+(p-l-(t.length-1+r)*h)/2),h),s=0,e={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(i,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var p=i[1]<i[0],h=i[p-0],u=i[1-p],c=(u-h)/(t.length-r+2*l);return n=a(h+c*l,c),p&&n.reverse(),s=c*(1-r),e={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(i,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var p=i[1]<i[0],h=i[p-0],u=i[1-p],c=Math.floor((u-h)/(t.length-r+2*l));return n=a(h+Math.round((u-h-(t.length-r)*c)/2),c),p&&n.reverse(),s=Math.round(c*(1-r)),e={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return s},o.rangeExtent=function(){return Ai(e.a[0])},o.copy=function(){return tn(t,e)},o.domain(t)}function en(t,e){function n(){var o=0,a=e.length;for(r=[];++o<a;)r[o-1]=os.quantile(t,o/a);return s}function s(t){return isNaN(t=+t)?void 0:e[os.bisect(r,t)]}var r;return s.domain=function(e){return arguments.length?(t=e.map(a).filter(i).sort(o),n()):t},s.range=function(t){return arguments.length?(e=t,n()):e},s.quantiles=function(){return r},s.invertExtent=function(o){return o=e.indexOf(o),0>o?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.copy=function(){return en(t,e)},n()}function on(t,e,o){function a(e){return o[Math.max(0,Math.min(s,Math.floor(n*(e-t))))]}function i(){return n=o.length/(e-t),s=o.length-1,a}var n,s;return a.domain=function(o){return arguments.length?(t=+o[0],e=+o[o.length-1],i()):[t,e]},a.range=function(t){return arguments.length?(o=t,i()):o},a.invertExtent=function(e){return e=o.indexOf(e),e=0>e?NaN:e/n+t,[e,e+1/n]},a.copy=function(){return on(t,e,o)},i()}function an(t,e){function o(o){return o>=o?e[os.bisect(t,o)]:void 0}return o.domain=function(e){return arguments.length?(t=e,o):t},o.range=function(t){return arguments.length?(e=t,o):e},o.invertExtent=function(o){return o=e.indexOf(o),[t[o-1],t[o]]},o.copy=function(){return an(t,e)},o}function nn(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(o){return arguments.length?(t=o.map(e),e):t},e.ticks=function(e){return Ri(t,e)},e.tickFormat=function(e,o){return Yi(t,e,o)},e.copy=function(){return nn(t)},e}function sn(){return 0}function rn(t){return t.innerRadius}function ln(t){return t.outerRadius}function pn(t){return t.startAngle}function hn(t){return t.endAngle}function un(t){return t&&t.padAngle}function cn(t,e,o,a){return(t-o)*e-(e-a)*t>0?0:1}function dn(t,e,o,a,i){var n=t[0]-e[0],s=t[1]-e[1],r=(i?a:-a)/Math.sqrt(n*n+s*s),l=r*s,p=-r*n,h=t[0]+l,u=t[1]+p,c=e[0]+l,d=e[1]+p,g=(h+c)/2,m=(u+d)/2,f=c-h,b=d-u,v=f*f+b*b,x=o-a,y=h*d-c*u,q=(0>b?-1:1)*Math.sqrt(x*x*v-y*y),w=(y*b-f*q)/v,S=(-y*f-b*q)/v,C=(y*b+f*q)/v,I=(-y*f+b*q)/v,_=w-g,k=S-m,T=C-g,M=I-m;return _*_+k*k>T*T+M*M&&(w=C,S=I),[[w-l,S-p],[w*o/x,S*o/x]]}function gn(t){function e(e){function s(){p.push("M",n(t(h),r))}for(var l,p=[],h=[],u=-1,c=e.length,d=_t(o),g=_t(a);++u<c;)i.call(this,l=e[u],u)?h.push([+d.call(this,l,u),+g.call(this,l,u)]):h.length&&(s(),h=[]);return h.length&&s(),p.length?p.join(""):null}var o=To,a=Mo,i=Te,n=mn,s=n.key,r=.7;return e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?n=t:(n=kl.get(t)||mn).key,e):s},e.tension=function(t){return arguments.length?(r=t,e):r},e}function mn(t){return t.join("L")}function fn(t){return mn(t)+"Z"}function bn(t){for(var e=0,o=t.length,a=t[0],i=[a[0],",",a[1]];++e<o;)i.push("H",(a[0]+(a=t[e])[0])/2,"V",a[1]);return o>1&&i.push("H",a[0]),i.join("")}function vn(t){for(var e=0,o=t.length,a=t[0],i=[a[0],",",a[1]];++e<o;)i.push("V",(a=t[e])[1],"H",a[0]);return i.join("")}function xn(t){for(var e=0,o=t.length,a=t[0],i=[a[0],",",a[1]];++e<o;)i.push("H",(a=t[e])[0],"V",a[1]);return i.join("")}function yn(t,e){return t.length<4?mn(t):t[1]+Sn(t.slice(1,-1),Cn(t,e))}function qn(t,e){return t.length<3?mn(t):t[0]+Sn((t.push(t[0]),t),Cn([t[t.length-2]].concat(t,[t[1]]),e))}function wn(t,e){return t.length<3?mn(t):t[0]+Sn(t,Cn(t,e))}function Sn(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mn(t);var o=t.length!=e.length,a="",i=t[0],n=t[1],s=e[0],r=s,l=1;if(o&&(a+="Q"+(n[0]-2*s[0]/3)+","+(n[1]-2*s[1]/3)+","+n[0]+","+n[1],i=t[1],l=2),e.length>1){r=e[1],n=t[l],l++,a+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(n[0]-r[0])+","+(n[1]-r[1])+","+n[0]+","+n[1];for(var p=2;p<e.length;p++,l++)n=t[l],r=e[p],a+="S"+(n[0]-r[0])+","+(n[1]-r[1])+","+n[0]+","+n[1]}if(o){var h=t[l];a+="Q"+(n[0]+2*r[0]/3)+","+(n[1]+2*r[1]/3)+","+h[0]+","+h[1]}return a}function Cn(t,e){for(var o,a=[],i=(1-e)/2,n=t[0],s=t[1],r=1,l=t.length;++r<l;)o=n,n=s,s=t[r],a.push([i*(s[0]-o[0]),i*(s[1]-o[1])]);return a}function In(t){if(t.length<3)return mn(t);var e=1,o=t.length,a=t[0],i=a[0],n=a[1],s=[i,i,i,(a=t[1])[0]],r=[n,n,n,a[1]],l=[i,",",n,"L",Mn(Ll,s),",",Mn(Ll,r)];for(t.push(t[o-1]);++e<=o;)a=t[e],s.shift(),s.push(a[0]),r.shift(),r.push(a[1]),Ln(l,s,r);return t.pop(),l.push("L",a),l.join("")}function _n(t){if(t.length<4)return mn(t);for(var e,o=[],a=-1,i=t.length,n=[0],s=[0];++a<3;)e=t[a],n.push(e[0]),s.push(e[1]);for(o.push(Mn(Ll,n)+","+Mn(Ll,s)),--a;++a<i;)e=t[a],n.shift(),n.push(e[0]),s.shift(),s.push(e[1]),Ln(o,n,s);return o.join("")}function kn(t){for(var e,o,a=-1,i=t.length,n=i+4,s=[],r=[];++a<4;)o=t[a%i],
s.push(o[0]),r.push(o[1]);for(e=[Mn(Ll,s),",",Mn(Ll,r)],--a;++a<n;)o=t[a%i],s.shift(),s.push(o[0]),r.shift(),r.push(o[1]),Ln(e,s,r);return e.join("")}function Tn(t,e){var o=t.length-1;if(o)for(var a,i,n=t[0][0],s=t[0][1],r=t[o][0]-n,l=t[o][1]-s,p=-1;++p<=o;)a=t[p],i=p/o,a[0]=e*a[0]+(1-e)*(n+i*r),a[1]=e*a[1]+(1-e)*(s+i*l);return In(t)}function Mn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ln(t,e,o){t.push("C",Mn(Tl,e),",",Mn(Tl,o),",",Mn(Ml,e),",",Mn(Ml,o),",",Mn(Ll,e),",",Mn(Ll,o))}function Hn(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Dn(t){for(var e=0,o=t.length-1,a=[],i=t[0],n=t[1],s=a[0]=Hn(i,n);++e<o;)a[e]=(s+(s=Hn(i=n,n=t[e+1])))/2;return a[e]=s,a}function On(t){for(var e,o,a,i,n=[],s=Dn(t),r=-1,l=t.length-1;++r<l;)e=Hn(t[r],t[r+1]),gs(e)<Ls?s[r]=s[r+1]=0:(o=s[r]/e,a=s[r+1]/e,i=o*o+a*a,i>9&&(i=3*e/Math.sqrt(i),s[r]=i*o,s[r+1]=i*a));for(r=-1;++r<=l;)i=(t[Math.min(l,r+1)][0]-t[Math.max(0,r-1)][0])/(6*(1+s[r]*s[r])),n.push([i||0,s[r]*i||0]);return n}function Vn(t){return t.length<3?mn(t):t[0]+Sn(t,On(t))}function Fn(t){for(var e,o,a,i=-1,n=t.length;++i<n;)e=t[i],o=e[0],a=e[1]-Fs,e[0]=o*Math.cos(a),e[1]=o*Math.sin(a);return t}function $n(t){function e(e){function l(){m.push("M",r(t(b),u),h,p(t(f.reverse()),u),"Z")}for(var c,d,g,m=[],f=[],b=[],v=-1,x=e.length,y=_t(o),q=_t(i),w=o===a?function(){return d}:_t(a),S=i===n?function(){return g}:_t(n);++v<x;)s.call(this,c=e[v],v)?(f.push([d=+y.call(this,c,v),g=+q.call(this,c,v)]),b.push([+w.call(this,c,v),+S.call(this,c,v)])):f.length&&(l(),f=[],b=[]);return f.length&&l(),m.length?m.join(""):null}var o=To,a=To,i=0,n=Mo,s=Te,r=mn,l=r.key,p=r,h="L",u=.7;return e.x=function(t){return arguments.length?(o=a=t,e):a},e.x0=function(t){return arguments.length?(o=t,e):o},e.x1=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(i=n=t,e):n},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?r=t:(r=kl.get(t)||mn).key,p=r.reverse||r,h=r.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(u=t,e):u},e}function An(t){return t.radius}function Pn(t){return[t.x,t.y]}function Bn(t){return function(){var e=t.apply(this,arguments),o=e[0],a=e[1]-Fs;return[o*Math.cos(a),o*Math.sin(a)]}}function Nn(){return 64}function zn(){return"circle"}function Gn(t){var e=Math.sqrt(t/Ds);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wn(t){return function(){var e,o;(e=this[t])&&(o=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,o.event&&o.event.interrupt.call(this,this.__data__,o.index))}}function jn(t,e,o){return xs(t,Al),t.namespace=e,t.id=o,t}function Zn(t,e,o,a){var i=t.id,n=t.namespace;return W(t,"function"==typeof o?function(t,s,r){t[n][i].tween.set(e,a(o.call(t,t.__data__,s,r)))}:(o=a(o),function(t){t[n][i].tween.set(e,o)}))}function En(t){return null==t&&(t=""),function(){this.textContent=t}}function Rn(t){return null==t?"__transition__":"__transition_"+t+"__"}function Yn(t,e,o,a,i){var n=t[o]||(t[o]={active:0,count:0}),s=n[a];if(!s){var r=i.time;s=n[a]={tween:new p,time:r,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++n.count,os.timer(function(i){function l(o){if(n.active>a)return h();var i=n[n.active];i&&(--n.count,delete n[n.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),n.active=a,s.event&&s.event.start.call(t,t.__data__,e),s.tween.forEach(function(o,a){(a=a.call(t,t.__data__,e))&&m.push(a)}),c=s.ease,u=s.duration,os.timer(function(){return g.c=p(o||1)?Te:p,1},0,r)}function p(o){if(n.active!==a)return 1;for(var i=o/u,r=c(i),l=m.length;l>0;)m[--l].call(t,r);return i>=1?(s.event&&s.event.end.call(t,t.__data__,e),h()):void 0}function h(){return--n.count?delete n[a]:delete t[o],1}var u,c,d=s.delay,g=ar,m=[];return g.t=d+r,i>=d?l(i-d):void(g.c=l)},0,r)}}function Un(t,e,o){t.attr("transform",function(t){var a=e(t);return"translate("+(isFinite(a)?a:o(t))+",0)"})}function Xn(t,e,o){t.attr("transform",function(t){var a=e(t);return"translate(0,"+(isFinite(a)?a:o(t))+")"})}function Qn(t){return t.toISOString()}function Jn(t,e,o){function a(e){return t(e)}function i(t,o){var a=t[1]-t[0],i=a/o,n=os.bisect(El,i);return n==El.length?[e.year,Ei(t.map(function(t){return t/31536e6}),o)[2]]:n?e[i/El[n-1]<El[n]/i?n-1:n]:[Ul,Ei(t,o)[2]]}return a.invert=function(e){return Kn(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain().map(Kn)},a.nice=function(t,e){function o(o){return!isNaN(o)&&!t.range(o,Kn(+o+1),e).length}var n=a.domain(),s=Ai(n),r=null==t?i(s,10):"number"==typeof t&&i(s,t);return r&&(t=r[0],e=r[1]),a.domain(Ni(n,e>1?{floor:function(e){for(;o(e=t.floor(e));)e=Kn(e-1);return e},ceil:function(e){for(;o(e=t.ceil(e));)e=Kn(+e+1);return e}}:t))},a.ticks=function(t,e){var o=Ai(a.domain()),n=null==t?i(o,10):"number"==typeof t?i(o,t):!t.range&&[{range:t},e];return n&&(t=n[0],e=n[1]),t.range(o[0],Kn(+o[1]+1),1>e?1:e)},a.tickFormat=function(){return o},a.copy=function(){return Jn(t.copy(),e,o)},ji(a,t)}function Kn(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=ns.createRange();return e.selectNode(ns.body),e.createContextualFragment(t.responseText)}var os={version:"3.5.6"},as=[].slice,is=function(t){return as.call(t)},ns=this.document;if(ns)try{is(ns.documentElement.childNodes)[0].nodeType}catch(ss){is=function(t){for(var e=t.length,o=new Array(e);e--;)o[e]=t[e];return o}}if(Date.now||(Date.now=function(){return+new Date}),ns)try{ns.createElement("DIV").style.setProperty("opacity",0,"")}catch(rs){var ls=this.Element.prototype,ps=ls.setAttribute,hs=ls.setAttributeNS,us=this.CSSStyleDeclaration.prototype,cs=us.setProperty;ls.setAttribute=function(t,e){ps.call(this,t,e+"")},ls.setAttributeNS=function(t,e,o){hs.call(this,t,e,o+"")},us.setProperty=function(t,e,o){cs.call(this,t,e+"",o)}}os.ascending=o,os.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},os.min=function(t,e){var o,a,i=-1,n=t.length;if(1===arguments.length){for(;++i<n;)if(null!=(a=t[i])&&a>=a){o=a;break}for(;++i<n;)null!=(a=t[i])&&o>a&&(o=a)}else{for(;++i<n;)if(null!=(a=e.call(t,t[i],i))&&a>=a){o=a;break}for(;++i<n;)null!=(a=e.call(t,t[i],i))&&o>a&&(o=a)}return o},os.max=function(t,e){var o,a,i=-1,n=t.length;if(1===arguments.length){for(;++i<n;)if(null!=(a=t[i])&&a>=a){o=a;break}for(;++i<n;)null!=(a=t[i])&&a>o&&(o=a)}else{for(;++i<n;)if(null!=(a=e.call(t,t[i],i))&&a>=a){o=a;break}for(;++i<n;)null!=(a=e.call(t,t[i],i))&&a>o&&(o=a)}return o},os.extent=function(t,e){var o,a,i,n=-1,s=t.length;if(1===arguments.length){for(;++n<s;)if(null!=(a=t[n])&&a>=a){o=i=a;break}for(;++n<s;)null!=(a=t[n])&&(o>a&&(o=a),a>i&&(i=a))}else{for(;++n<s;)if(null!=(a=e.call(t,t[n],n))&&a>=a){o=i=a;break}for(;++n<s;)null!=(a=e.call(t,t[n],n))&&(o>a&&(o=a),a>i&&(i=a))}return[o,i]},os.sum=function(t,e){var o,a=0,n=t.length,s=-1;if(1===arguments.length)for(;++s<n;)i(o=+t[s])&&(a+=o);else for(;++s<n;)i(o=+e.call(t,t[s],s))&&(a+=o);return a},os.mean=function(t,e){var o,n=0,s=t.length,r=-1,l=s;if(1===arguments.length)for(;++r<s;)i(o=a(t[r]))?n+=o:--l;else for(;++r<s;)i(o=a(e.call(t,t[r],r)))?n+=o:--l;return l?n/l:void 0},os.quantile=function(t,e){var o=(t.length-1)*e+1,a=Math.floor(o),i=+t[a-1],n=o-a;return n?i+n*(t[a]-i):i},os.median=function(t,e){var n,s=[],r=t.length,l=-1;if(1===arguments.length)for(;++l<r;)i(n=a(t[l]))&&s.push(n);else for(;++l<r;)i(n=a(e.call(t,t[l],l)))&&s.push(n);return s.length?os.quantile(s.sort(o),.5):void 0},os.variance=function(t,e){var o,n,s=t.length,r=0,l=0,p=-1,h=0;if(1===arguments.length)for(;++p<s;)i(o=a(t[p]))&&(n=o-r,r+=n/++h,l+=n*(o-r));else for(;++p<s;)i(o=a(e.call(t,t[p],p)))&&(n=o-r,r+=n/++h,l+=n*(o-r));return h>1?l/(h-1):void 0},os.deviation=function(){var t=os.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ds=n(o);os.bisectLeft=ds.left,os.bisect=os.bisectRight=ds.right,os.bisector=function(t){return n(1===t.length?function(e,a){return o(t(e),a)}:t)},os.shuffle=function(t,e,o){(n=arguments.length)<3&&(o=t.length,2>n&&(e=0));for(var a,i,n=o-e;n;)i=Math.random()*n--|0,a=t[n+e],t[n+e]=t[i+e],t[i+e]=a;return t},os.permute=function(t,e){for(var o=e.length,a=new Array(o);o--;)a[o]=t[e[o]];return a},os.pairs=function(t){for(var e,o=0,a=t.length-1,i=t[0],n=new Array(0>a?0:a);a>o;)n[o]=[e=i,i=t[++o]];return n},os.zip=function(){if(!(a=arguments.length))return[];for(var t=-1,e=os.min(arguments,s),o=new Array(e);++t<e;)for(var a,i=-1,n=o[t]=new Array(a);++i<a;)n[i]=arguments[i][t];return o},os.transpose=function(t){return os.zip.apply(os,t)},os.keys=function(t){var e=[];for(var o in t)e.push(o);return e},os.values=function(t){var e=[];for(var o in t)e.push(t[o]);return e},os.entries=function(t){var e=[];for(var o in t)e.push({key:o,value:t[o]});return e},os.merge=function(t){for(var e,o,a,i=t.length,n=-1,s=0;++n<i;)s+=t[n].length;for(o=new Array(s);--i>=0;)for(a=t[i],e=a.length;--e>=0;)o[--s]=a[e];return o};var gs=Math.abs;os.range=function(t,e,o){if(arguments.length<3&&(o=1,arguments.length<2&&(e=t,t=0)),(e-t)/o===1/0)throw new Error("infinite range");var a,i=[],n=r(gs(o)),s=-1;if(t*=n,e*=n,o*=n,0>o)for(;(a=t+o*++s)>e;)i.push(a/n);else for(;(a=t+o*++s)<e;)i.push(a/n);return i},os.map=function(t,e){var o=new p;if(t instanceof p)t.forEach(function(t,e){o.set(t,e)});else if(Array.isArray(t)){var a,i=-1,n=t.length;if(1===arguments.length)for(;++i<n;)o.set(i,t[i]);else for(;++i<n;)o.set(e.call(t,a=t[i],i),a)}else for(var s in t)o.set(s,t[s]);return o};var ms="__proto__",fs="\x00";l(p,{has:c,get:function(t){return this._[h(t)]},set:function(t,e){return this._[h(t)]=e},remove:d,keys:g,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:u(e),value:this._[e]});return t},size:m,empty:f,forEach:function(t){for(var e in this._)t.call(this,u(e),this._[e])}}),os.nest=function(){function t(e,s,r){if(r>=n.length)return a?a.call(i,s):o?s.sort(o):s;for(var l,h,u,c,d=-1,g=s.length,m=n[r++],f=new p;++d<g;)(c=f.get(l=m(h=s[d])))?c.push(h):f.set(l,[h]);return e?(h=e(),u=function(o,a){h.set(o,t(e,a,r))}):(h={},u=function(o,a){h[o]=t(e,a,r)}),f.forEach(u),h}function e(t,o){if(o>=n.length)return t;var a=[],i=s[o++];return t.forEach(function(t,i){a.push({key:t,values:e(i,o)})}),i?a.sort(function(t,e){return i(t.key,e.key)}):a}var o,a,i={},n=[],s=[];return i.map=function(e,o){return t(o,e,0)},i.entries=function(o){return e(t(os.map,o,0),0)},i.key=function(t){return n.push(t),i},i.sortKeys=function(t){return s[n.length-1]=t,i},i.sortValues=function(t){return o=t,i},i.rollup=function(t){return a=t,i},i},os.set=function(t){var e=new b;if(t)for(var o=0,a=t.length;a>o;++o)e.add(t[o]);return e},l(b,{has:c,add:function(t){return this._[h(t+="")]=!0,t},remove:d,values:g,size:m,empty:f,forEach:function(t){for(var e in this._)t.call(this,u(e))}}),os.behavior={},os.rebind=function(t,e){for(var o,a=1,i=arguments.length;++a<i;)t[o=arguments[a]]=x(t,e,e[o]);return t};var bs=["webkit","ms","moz","Moz","o","O"];os.dispatch=function(){for(var t=new w,e=-1,o=arguments.length;++e<o;)t[arguments[e]]=S(t);return t},w.prototype.on=function(t,e){var o=t.indexOf("."),a="";if(o>=0&&(a=t.slice(o+1),t=t.slice(0,o)),t)return arguments.length<2?this[t].on(a):this[t].on(a,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(a,null);return this}},os.event=null,os.requote=function(t){return t.replace(vs,"\\$&")};var vs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var o in e)t[o]=e[o]},ys=function(t,e){return e.querySelector(t)},qs=function(t,e){return e.querySelectorAll(t)},ws=function(t,e){var o=t.matches||t[y(t,"matchesSelector")];return(ws=function(t,e){return o.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ys=function(t,e){return Sizzle(t,e)[0]||null},qs=Sizzle,ws=Sizzle.matchesSelector),os.selection=function(){return os.select(ns.documentElement)};var Ss=os.selection.prototype=[];Ss.select=function(t){var e,o,a,i,n=[];t=T(t);for(var s=-1,r=this.length;++s<r;){n.push(e=[]),e.parentNode=(a=this[s]).parentNode;for(var l=-1,p=a.length;++l<p;)(i=a[l])?(e.push(o=t.call(i,i.__data__,l,s)),o&&"__data__"in i&&(o.__data__=i.__data__)):e.push(null)}return k(n)},Ss.selectAll=function(t){var e,o,a=[];t=M(t);for(var i=-1,n=this.length;++i<n;)for(var s=this[i],r=-1,l=s.length;++r<l;)(o=s[r])&&(a.push(e=is(t.call(o,o.__data__,r,i))),e.parentNode=o);return k(a)};var Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};os.ns={prefix:Cs,qualify:function(t){var e=t.indexOf(":"),o=t;return e>=0&&(o=t.slice(0,e),t=t.slice(e+1)),Cs.hasOwnProperty(o)?{space:Cs[o],local:t}:t}},Ss.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var o=this.node();return t=os.ns.qualify(t),t.local?o.getAttributeNS(t.space,t.local):o.getAttribute(t)}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},Ss.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var o=this.node(),a=(t=O(t)).length,i=-1;if(e=o.classList){for(;++i<a;)if(!e.contains(t[i]))return!1}else for(e=o.getAttribute("class");++i<a;)if(!D(t[i]).test(e))return!1;return!0}for(e in t)this.each(V(e,t[e]));return this}return this.each(V(t,e))},Ss.style=function(t,o,a){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(o="");for(a in t)this.each($(a,t[a],o));return this}if(2>i){var n=this.node();return e(n).getComputedStyle(n,null).getPropertyValue(t)}a=""}return this.each($(t,o,a))},Ss.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},Ss.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ss.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ss.append=function(t){return t=P(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ss.insert=function(t,e){return t=P(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ss.remove=function(){return this.each(B)},Ss.data=function(t,e){function o(t,o){var a,i,n,s=t.length,u=o.length,c=Math.min(s,u),d=new Array(u),g=new Array(u),m=new Array(s);if(e){var f,b=new p,v=new Array(s);for(a=-1;++a<s;)b.has(f=e.call(i=t[a],i.__data__,a))?m[a]=i:b.set(f,i),v[a]=f;for(a=-1;++a<u;)(i=b.get(f=e.call(o,n=o[a],a)))?i!==!0&&(d[a]=i,i.__data__=n):g[a]=N(n),b.set(f,!0);for(a=-1;++a<s;)b.get(v[a])!==!0&&(m[a]=t[a])}else{for(a=-1;++a<c;)i=t[a],n=o[a],i?(i.__data__=n,d[a]=i):g[a]=N(n);for(;u>a;++a)g[a]=N(o[a]);for(;s>a;++a)m[a]=t[a]}g.update=d,g.parentNode=d.parentNode=m.parentNode=t.parentNode,r.push(g),l.push(d),h.push(m)}var a,i,n=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(a=this[0]).length);++n<s;)(i=a[n])&&(t[n]=i.__data__);return t}var r=j([]),l=k([]),h=k([]);if("function"==typeof t)for(;++n<s;)o(a=this[n],t.call(a,a.parentNode.__data__,n));else for(;++n<s;)o(a=this[n],t);return l.enter=function(){return r},l.exit=function(){return h},l},Ss.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ss.filter=function(t){var e,o,a,i=[];"function"!=typeof t&&(t=z(t));for(var n=0,s=this.length;s>n;n++){i.push(e=[]),e.parentNode=(o=this[n]).parentNode;for(var r=0,l=o.length;l>r;r++)(a=o[r])&&t.call(a,a.__data__,r,n)&&e.push(a)}return k(i)},Ss.order=function(){for(var t=-1,e=this.length;++t<e;)for(var o,a=this[t],i=a.length-1,n=a[i];--i>=0;)(o=a[i])&&(n&&n!==o.nextSibling&&n.parentNode.insertBefore(o,n),n=o);return this},Ss.sort=function(t){t=G.apply(this,arguments);for(var e=-1,o=this.length;++e<o;)this[e].sort(t);return this.order()},Ss.each=function(t){return W(this,function(e,o,a){t.call(e,e.__data__,o,a)})},Ss.call=function(t){var e=is(arguments);return t.apply(e[0]=this,e),this},Ss.empty=function(){return!this.node()},Ss.node=function(){for(var t=0,e=this.length;e>t;t++)for(var o=this[t],a=0,i=o.length;i>a;a++){var n=o[a];if(n)return n}return null},Ss.size=function(){var t=0;return W(this,function(){++t}),t};var Is=[];os.selection.enter=j,os.selection.enter.prototype=Is,Is.append=Ss.append,Is.empty=Ss.empty,Is.node=Ss.node,Is.call=Ss.call,Is.size=Ss.size,Is.select=function(t){for(var e,o,a,i,n,s=[],r=-1,l=this.length;++r<l;){a=(i=this[r]).update,s.push(e=[]),e.parentNode=i.parentNode;for(var p=-1,h=i.length;++p<h;)(n=i[p])?(e.push(a[p]=o=t.call(i.parentNode,n.__data__,p,r)),o.__data__=n.__data__):e.push(null)}return k(s)},Is.insert=function(t,e){return arguments.length<2&&(e=Z(this)),Ss.insert.call(this,t,e)},os.select=function(e){var o;return"string"==typeof e?(o=[ys(e,ns)],o.parentNode=ns.documentElement):(o=[e],o.parentNode=t(e)),k([o])},os.selectAll=function(t){var e;return"string"==typeof t?(e=is(qs(t,ns)),e.parentNode=ns.documentElement):(e=t,e.parentNode=null),k([e])},Ss.on=function(t,e,o){var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(e=!1);for(o in t)this.each(E(o,t[o],e));return this}if(2>a)return(a=this.node()["__on"+t])&&a._;o=!1}return this.each(E(t,e,o))};var _s=os.map({mouseenter:"mouseover",mouseleave:"mouseout"});ns&&_s.forEach(function(t){"on"+t in ns&&_s.remove(t)});var ks,Ts=0;os.mouse=function(t){return X(t,I())};var Ms=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;os.touch=function(t,e,o){if(arguments.length<3&&(o=e,e=I().changedTouches),e)for(var a,i=0,n=e.length;n>i;++i)if((a=e[i]).identifier===o)return X(t,a)},os.behavior.drag=function(){function t(){this.on("mousedown.drag",n).on("touchstart.drag",s)}function o(t,e,o,n,s){return function(){function r(){var t,o,a=e(c,m);a&&(t=a[0]-x[0],o=a[1]-x[1],g|=t|o,x=a,d({type:"drag",x:a[0]+p[0],y:a[1]+p[1],dx:t,dy:o}))}function l(){e(c,m)&&(b.on(n+f,null).on(s+f,null),v(g&&os.event.target===u),d({type:"dragend"}))}var p,h=this,u=os.event.target,c=h.parentNode,d=a.of(h,arguments),g=0,m=t(),f=".drag"+(null==m?"":"-"+m),b=os.select(o(u)).on(n+f,r).on(s+f,l),v=U(u),x=e(c,m);i?(p=i.apply(h,arguments),p=[p.x-x[0],p.y-x[1]]):p=[0,0],d({type:"dragstart"})}}var a=_(t,"drag","dragstart","dragend"),i=null,n=o(q,os.mouse,e,"mousemove","mouseup"),s=o(Q,os.touch,v,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},os.rebind(t,a,"on")},os.touches=function(t,e){return arguments.length<2&&(e=I().touches),e?is(e).map(function(e){var o=X(t,e);return o.identifier=e.identifier,o}):[]};var Ls=1e-6,Hs=Ls*Ls,Ds=Math.PI,Os=2*Ds,Vs=Os-Ls,Fs=Ds/2,$s=Ds/180,As=180/Ds,Ps=Math.SQRT2,Bs=2,Ns=4;os.interpolateZoom=function(t,e){function o(t){var e=t*v;if(b){var o=at(m),s=n/(Bs*c)*(o*it(Ps*e+m)-ot(m));return[a+s*p,i+s*h,n*o/at(Ps*e+m)]}return[a+t*p,i+t*h,n*Math.exp(Ps*e)]}var a=t[0],i=t[1],n=t[2],s=e[0],r=e[1],l=e[2],p=s-a,h=r-i,u=p*p+h*h,c=Math.sqrt(u),d=(l*l-n*n+Ns*u)/(2*n*Bs*c),g=(l*l-n*n-Ns*u)/(2*l*Bs*c),m=Math.log(Math.sqrt(d*d+1)-d),f=Math.log(Math.sqrt(g*g+1)-g),b=f-m,v=(b||Math.log(l/n))/Ps;return o.duration=1e3*v,o},os.behavior.zoom=function(){function t(t){t.on(H,u).on(Gs+".zoom",d).on("dblclick.zoom",g).on(V,c)}function o(t){return[(t[0]-I.x)/I.k,(t[1]-I.y)/I.k]}function a(t){return[t[0]*I.k+I.x,t[1]*I.k+I.y]}function i(t){I.k=Math.max(T[0],Math.min(T[1],t))}function n(t,e){e=a(e),I.x+=t[0]-e[0],I.y+=t[1]-e[1]}function s(e,o,a,s){e.__chart__={x:I.x,y:I.y,k:I.k},i(Math.pow(2,s)),n(f=o,a),e=os.select(e),M>0&&(e=e.transition().duration(M)),e.call(t.event)}function r(){q&&q.domain(y.range().map(function(t){return(t-I.x)/I.k}).map(y.invert)),S&&S.domain(w.range().map(function(t){return(t-I.y)/I.k}).map(w.invert))}function l(t){L++||t({type:"zoomstart"})}function p(t){r(),t({type:"zoom",scale:I.k,translate:[I.x,I.y]})}function h(t){--L||(t({type:"zoomend"}),f=null)}function u(){function t(){u=1,n(os.mouse(i),d),p(r)}function a(){c.on(D,null).on(O,null),g(u&&os.event.target===s),h(r)}var i=this,s=os.event.target,r=F.of(i,arguments),u=0,c=os.select(e(i)).on(D,t).on(O,a),d=o(os.mouse(i)),g=U(i);$l.call(i),l(r)}function c(){function t(){var t=os.touches(g);return d=I.k,t.forEach(function(t){t.identifier in f&&(f[t.identifier]=o(t))}),t}function e(){var e=os.event.target;os.select(e).on(y,a).on(q,r),w.push(e);for(var o=os.event.changedTouches,i=0,n=o.length;n>i;++i)f[o[i].identifier]=null;var l=t(),p=Date.now();if(1===l.length){if(500>p-x){var h=l[0];s(g,h,f[h.identifier],Math.floor(Math.log(I.k)/Math.LN2)+1),C()}x=p}else if(l.length>1){var h=l[0],u=l[1],c=h[0]-u[0],d=h[1]-u[1];b=c*c+d*d}}function a(){var t,e,o,a,s=os.touches(g);$l.call(g);for(var r=0,l=s.length;l>r;++r,a=null)if(o=s[r],a=f[o.identifier]){if(e)break;t=o,e=a}if(a){var h=(h=o[0]-t[0])*h+(h=o[1]-t[1])*h,u=b&&Math.sqrt(h/b);t=[(t[0]+o[0])/2,(t[1]+o[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],i(u*d)}x=null,n(t,e),p(m)}function r(){if(os.event.touches.length){for(var e=os.event.changedTouches,o=0,a=e.length;a>o;++o)delete f[e[o].identifier];for(var i in f)return void t()}os.selectAll(w).on(v,null),S.on(H,u).on(V,c),_(),h(m)}var d,g=this,m=F.of(g,arguments),f={},b=0,v=".zoom-"+os.event.changedTouches[0].identifier,y="touchmove"+v,q="touchend"+v,w=[],S=os.select(g),_=U(g);e(),l(m),S.on(H,null).on(V,e)}function d(){var t=F.of(this,arguments);v?clearTimeout(v):($l.call(this),m=o(f=b||os.mouse(this)),l(t)),v=setTimeout(function(){v=null,h(t)},50),C(),i(Math.pow(2,.002*zs())*I.k),n(f,m),p(t)}function g(){var t=os.mouse(this),e=Math.log(I.k)/Math.LN2;s(this,t,o(t),os.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var m,f,b,v,x,y,q,w,S,I={x:0,y:0,k:1},k=[960,500],T=Ws,M=250,L=0,H="mousedown.zoom",D="mousemove.zoom",O="mouseup.zoom",V="touchstart.zoom",F=_(t,"zoomstart","zoom","zoomend");return Gs||(Gs="onwheel"in ns?(zs=function(){return-os.event.deltaY*(os.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ns?(zs=function(){return os.event.wheelDelta},"mousewheel"):(zs=function(){return-os.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=F.of(this,arguments),e=I;Vl?os.select(this).transition().each("start.zoom",function(){I=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var o=k[0],a=k[1],i=f?f[0]:o/2,n=f?f[1]:a/2,s=os.interpolateZoom([(i-I.x)/I.k,(n-I.y)/I.k,o/I.k],[(i-e.x)/e.k,(n-e.y)/e.k,o/e.k]);return function(e){var a=s(e),r=o/a[2];this.__chart__=I={x:i-a[0]*r,y:n-a[1]*r,k:r},p(t)}}).each("interrupt.zoom",function(){h(t)}).each("end.zoom",function(){h(t)}):(this.__chart__=I,l(t),p(t),h(t))})},t.translate=function(e){return arguments.length?(I={x:+e[0],y:+e[1],k:I.k},r(),t):[I.x,I.y]},t.scale=function(e){return arguments.length?(I={x:I.x,y:I.y,k:+e},r(),t):I.k},t.scaleExtent=function(e){return arguments.length?(T=null==e?Ws:[+e[0],+e[1]],t):T},t.center=function(e){return arguments.length?(b=e&&[+e[0],+e[1]],t):b},t.size=function(e){return arguments.length?(k=e&&[+e[0],+e[1]],t):k},t.duration=function(e){return arguments.length?(M=+e,t):M},t.x=function(e){return arguments.length?(q=e,y=e.copy(),I={x:0,y:0,k:1},t):q},t.y=function(e){return arguments.length?(S=e,w=e.copy(),I={x:0,y:0,k:1},t):S},os.rebind(t,F,"on")};var zs,Gs,Ws=[0,1/0];os.color=st,st.prototype.toString=function(){return this.rgb()+""},os.hsl=rt;var js=rt.prototype=new st;js.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new rt(this.h,this.s,this.l/t)},js.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new rt(this.h,this.s,t*this.l)},js.rgb=function(){return lt(this.h,this.s,this.l)},os.hcl=pt;var Zs=pt.prototype=new st;Zs.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+Es*(arguments.length?t:1)))},Zs.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-Es*(arguments.length?t:1)))},Zs.rgb=function(){return ht(this.h,this.c,this.l).rgb()},os.lab=ut;var Es=18,Rs=.95047,Ys=1,Us=1.08883,Xs=ut.prototype=new st;Xs.brighter=function(t){return new ut(Math.min(100,this.l+Es*(arguments.length?t:1)),this.a,this.b)},Xs.darker=function(t){return new ut(Math.max(0,this.l-Es*(arguments.length?t:1)),this.a,this.b)},Xs.rgb=function(){return ct(this.l,this.a,this.b)},os.rgb=bt;var Qs=bt.prototype=new st;Qs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,o=this.g,a=this.b,i=30;return e||o||a?(e&&i>e&&(e=i),o&&i>o&&(o=i),a&&i>a&&(a=i),new bt(Math.min(255,e/t),Math.min(255,o/t),Math.min(255,a/t))):new bt(i,i,i)},Qs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new bt(t*this.r,t*this.g,t*this.b)},Qs.hsl=function(){return wt(this.r,this.g,this.b)},Qs.toString=function(){return"#"+yt(this.r)+yt(this.g)+yt(this.b)};var Js=os.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Js.forEach(function(t,e){Js.set(t,vt(e))}),os.functor=_t,os.xhr=kt(v),os.dsv=function(t,e){function o(t,o,n){arguments.length<3&&(n=o,o=null);var s=Tt(t,e,null==o?a:i(o),n);return s.row=function(t){return arguments.length?s.response(null==(o=t)?a:i(t)):o},s}function a(t){return o.parse(t.responseText)}function i(t){return function(e){return o.parse(e.responseText,t)}}function n(e){return e.map(s).join(t)}function s(t){return r.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var r=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return o.parse=function(t,e){var a;return o.parseRows(t,function(t,o){if(a)return a(t,o-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");a=e?function(t,o){return e(i(t),o)}:i})},o.parseRows=function(t,e){function o(){if(h>=p)return s;if(i)return i=!1,n;var e=h;if(34===t.charCodeAt(e)){for(var o=e;o++<p;)if(34===t.charCodeAt(o)){if(34!==t.charCodeAt(o+1))break;++o}h=o+2;var a=t.charCodeAt(o+1);return 13===a?(i=!0,10===t.charCodeAt(o+2)&&++h):10===a&&(i=!0),t.slice(e+1,o).replace(/""/g,'"')}for(;p>h;){var a=t.charCodeAt(h++),r=1;if(10===a)i=!0;else if(13===a)i=!0,10===t.charCodeAt(h)&&(++h,++r);else if(a!==l)continue;return t.slice(e,h-r)}return t.slice(e)}for(var a,i,n={},s={},r=[],p=t.length,h=0,u=0;(a=o())!==s;){for(var c=[];a!==n&&a!==s;)c.push(a),a=o();e&&null==(c=e(c,u++))||r.push(c)}return r},o.format=function(e){if(Array.isArray(e[0]))return o.formatRows(e);var a=new b,i=[];return e.forEach(function(t){for(var e in t)a.has(e)||i.push(a.add(e))}),[i.map(s).join(t)].concat(e.map(function(e){return i.map(function(t){return s(e[t])}).join(t)})).join("\n")},o.formatRows=function(t){return t.map(n).join("\n")},o},os.csv=os.dsv(",","text/csv"),os.tsv=os.dsv("	","text/tab-separated-values");var Ks,tr,er,or,ar,ir=this[y(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};os.timer=function(t,e,o){var a=arguments.length;2>a&&(e=0),3>a&&(o=Date.now());var i=o+e,n={c:t,t:i,f:!1,n:null};tr?tr.n=n:Ks=n,tr=n,er||(or=clearTimeout(or),er=1,ir(Ht))},os.timer.flush=function(){Dt(),Ot()},os.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var nr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(Ft);os.formatPrefix=function(t,e){var o=0;return t&&(0>t&&(t*=-1),e&&(t=os.round(t,Vt(t,e))),o=1+Math.floor(1e-12+Math.log(t)/Math.LN10),o=Math.max(-24,Math.min(24,3*Math.floor((o-1)/3)))),nr[8+o/3]};var sr=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,rr=os.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=os.round(t,Vt(t,e))).toFixed(Math.max(0,Math.min(20,Vt(t*(1+1e-15),e))))}}),lr=os.time={},pr=Date;Pt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hr.setUTCDate.apply(this._,arguments)},setDay:function(){hr.setUTCDay.apply(this._,arguments)},setFullYear:function(){hr.setUTCFullYear.apply(this._,arguments)},setHours:function(){hr.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hr.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hr.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hr.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hr.setUTCSeconds.apply(this._,arguments)},setTime:function(){hr.setTime.apply(this._,arguments)}};var hr=Date.prototype;lr.year=Bt(function(t){return t=lr.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e);
},function(t){return t.getFullYear()}),lr.years=lr.year.range,lr.years.utc=lr.year.utc.range,lr.day=Bt(function(t){var e=new pr(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),lr.days=lr.day.range,lr.days.utc=lr.day.utc.range,lr.dayOfYear=function(t){var e=lr.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var o=lr[t]=Bt(function(t){return(t=lr.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var o=lr.year(t).getDay();return Math.floor((lr.dayOfYear(t)+(o+e)%7)/7)-(o!==e)});lr[t+"s"]=o.range,lr[t+"s"].utc=o.utc.range,lr[t+"OfYear"]=function(t){var o=lr.year(t).getDay();return Math.floor((lr.dayOfYear(t)+(o+e)%7)/7)}}),lr.week=lr.sunday,lr.weeks=lr.sunday.range,lr.weeks.utc=lr.sunday.utc.range,lr.weekOfYear=lr.sundayOfYear;var ur={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,dr=/^%/;os.locale=function(t){return{numberFormat:$t(t),timeFormat:zt(t)}};var gr=os.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});os.format=gr.numberFormat,os.geo={},le.prototype={s:0,t:0,add:function(t){pe(t,this.t,mr),pe(mr.s,this.s,this),this.s?this.t+=mr.t:this.s=mr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mr=new le;os.geo.stream=function(t,e){t&&fr.hasOwnProperty(t.type)?fr[t.type](t,e):he(t,e)};var fr={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var o=t.features,a=-1,i=o.length;++a<i;)he(o[a].geometry,e)}},br={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var o=t.coordinates,a=-1,i=o.length;++a<i;)t=o[a],e.point(t[0],t[1],t[2])},LineString:function(t,e){ue(t.coordinates,e,0)},MultiLineString:function(t,e){for(var o=t.coordinates,a=-1,i=o.length;++a<i;)ue(o[a],e,0)},Polygon:function(t,e){ce(t.coordinates,e)},MultiPolygon:function(t,e){for(var o=t.coordinates,a=-1,i=o.length;++a<i;)ce(o[a],e)},GeometryCollection:function(t,e){for(var o=t.geometries,a=-1,i=o.length;++a<i;)he(o[a],e)}};os.geo.area=function(t){return vr=0,os.geo.stream(t,yr),vr};var vr,xr=new le,yr={sphere:function(){vr+=4*Ds},point:q,lineStart:q,lineEnd:q,polygonStart:function(){xr.reset(),yr.lineStart=de},polygonEnd:function(){var t=2*xr;vr+=0>t?4*Ds+t:t,yr.lineStart=yr.lineEnd=yr.point=q}};os.geo.bounds=function(){function t(t,e){x.push(y=[h=t,c=t]),u>e&&(u=e),e>d&&(d=e)}function e(e,o){var a=ge([e*$s,o*$s]);if(b){var i=fe(b,a),n=[i[1],-i[0],0],s=fe(n,i);xe(s),s=ye(s);var l=e-g,p=l>0?1:-1,m=s[0]*As*p,f=gs(l)>180;if(f^(m>p*g&&p*e>m)){var v=s[1]*As;v>d&&(d=v)}else if(m=(m+360)%360-180,f^(m>p*g&&p*e>m)){var v=-s[1]*As;u>v&&(u=v)}else u>o&&(u=o),o>d&&(d=o);f?g>e?r(h,e)>r(h,c)&&(c=e):r(e,c)>r(h,c)&&(h=e):c>=h?(h>e&&(h=e),e>c&&(c=e)):e>g?r(h,e)>r(h,c)&&(c=e):r(e,c)>r(h,c)&&(h=e)}else t(e,o);b=a,g=e}function o(){q.point=e}function a(){y[0]=h,y[1]=c,q.point=t,b=null}function i(t,o){if(b){var a=t-g;v+=gs(a)>180?a+(a>0?360:-360):a}else m=t,f=o;yr.point(t,o),e(t,o)}function n(){yr.lineStart()}function s(){i(m,f),yr.lineEnd(),gs(v)>Ls&&(h=-(c=180)),y[0]=h,y[1]=c,b=null}function r(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function p(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var h,u,c,d,g,m,f,b,v,x,y,q={point:t,lineStart:o,lineEnd:a,polygonStart:function(){q.point=i,q.lineStart=n,q.lineEnd=s,v=0,yr.polygonStart()},polygonEnd:function(){yr.polygonEnd(),q.point=t,q.lineStart=o,q.lineEnd=a,0>xr?(h=-(c=180),u=-(d=90)):v>Ls?d=90:-Ls>v&&(u=-90),y[0]=h,y[1]=c}};return function(t){d=c=-(h=u=1/0),x=[],os.geo.stream(t,q);var e=x.length;if(e){x.sort(l);for(var o,a=1,i=x[0],n=[i];e>a;++a)o=x[a],p(o[0],i)||p(o[1],i)?(r(i[0],o[1])>r(i[0],i[1])&&(i[1]=o[1]),r(o[0],i[1])>r(i[0],i[1])&&(i[0]=o[0])):n.push(i=o);for(var s,o,g=-(1/0),e=n.length-1,a=0,i=n[e];e>=a;i=o,++a)o=n[a],(s=r(i[1],o[0]))>g&&(g=s,h=o[0],c=i[1])}return x=y=null,h===1/0||u===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,u],[c,d]]}}(),os.geo.centroid=function(t){qr=wr=Sr=Cr=Ir=_r=kr=Tr=Mr=Lr=Hr=0,os.geo.stream(t,Dr);var e=Mr,o=Lr,a=Hr,i=e*e+o*o+a*a;return Hs>i&&(e=_r,o=kr,a=Tr,Ls>wr&&(e=Sr,o=Cr,a=Ir),i=e*e+o*o+a*a,Hs>i)?[NaN,NaN]:[Math.atan2(o,e)*As,et(a/Math.sqrt(i))*As]};var qr,wr,Sr,Cr,Ir,_r,kr,Tr,Mr,Lr,Hr,Dr={sphere:q,point:we,lineStart:Ce,lineEnd:Ie,polygonStart:function(){Dr.lineStart=_e},polygonEnd:function(){Dr.lineStart=Ce}},Or=De(Te,$e,Pe,[-Ds,-Ds/2]),Vr=1e9;os.geo.clipExtent=function(){var t,e,o,a,i,n,s={stream:function(t){return i&&(i.valid=!1),i=n(t),i.valid=!0,i},extent:function(r){return arguments.length?(n=Ge(t=+r[0][0],e=+r[0][1],o=+r[1][0],a=+r[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[o,a]]}};return s.extent([[0,0],[960,500]])},(os.geo.conicEqualArea=function(){return We(je)}).raw=je,os.geo.albers=function(){return os.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},os.geo.albersUsa=function(){function t(t){var n=t[0],s=t[1];return e=null,o(n,s),e||(a(n,s),e)||i(n,s),e}var e,o,a,i,n=os.geo.albers(),s=os.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=os.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,o){e=[t,o]}};return t.invert=function(t){var e=n.scale(),o=n.translate(),a=(t[0]-o[0])/e,i=(t[1]-o[1])/e;return(i>=.12&&.234>i&&a>=-.425&&-.214>a?s:i>=.166&&.234>i&&a>=-.214&&-.115>a?r:n).invert(t)},t.stream=function(t){var e=n.stream(t),o=s.stream(t),a=r.stream(t);return{point:function(t,i){e.point(t,i),o.point(t,i),a.point(t,i)},sphere:function(){e.sphere(),o.sphere(),a.sphere()},lineStart:function(){e.lineStart(),o.lineStart(),a.lineStart()},lineEnd:function(){e.lineEnd(),o.lineEnd(),a.lineEnd()},polygonStart:function(){e.polygonStart(),o.polygonStart(),a.polygonStart()},polygonEnd:function(){e.polygonEnd(),o.polygonEnd(),a.polygonEnd()}}},t.precision=function(e){return arguments.length?(n.precision(e),s.precision(e),r.precision(e),t):n.precision()},t.scale=function(e){return arguments.length?(n.scale(e),s.scale(.35*e),r.scale(e),t.translate(n.translate())):n.scale()},t.translate=function(e){if(!arguments.length)return n.translate();var p=n.scale(),h=+e[0],u=+e[1];return o=n.translate(e).clipExtent([[h-.455*p,u-.238*p],[h+.455*p,u+.238*p]]).stream(l).point,a=s.translate([h-.307*p,u+.201*p]).clipExtent([[h-.425*p+Ls,u+.12*p+Ls],[h-.214*p-Ls,u+.234*p-Ls]]).stream(l).point,i=r.translate([h-.205*p,u+.212*p]).clipExtent([[h-.214*p+Ls,u+.166*p+Ls],[h-.115*p-Ls,u+.234*p-Ls]]).stream(l).point,t},t.scale(1070)};var Fr,$r,Ar,Pr,Br,Nr,zr={point:q,lineStart:q,lineEnd:q,polygonStart:function(){$r=0,zr.lineStart=Ze},polygonEnd:function(){zr.lineStart=zr.lineEnd=zr.point=q,Fr+=gs($r/2)}},Gr={point:Ee,lineStart:q,lineEnd:q,polygonStart:q,polygonEnd:q},Wr={point:Ue,lineStart:Xe,lineEnd:Qe,polygonStart:function(){Wr.lineStart=Je},polygonEnd:function(){Wr.point=Ue,Wr.lineStart=Xe,Wr.lineEnd=Qe}};os.geo.path=function(){function t(t){return t&&("function"==typeof r&&n.pointRadius(+r.apply(this,arguments)),s&&s.valid||(s=i(n)),os.geo.stream(t,s)),n.result()}function e(){return s=null,t}var o,a,i,n,s,r=4.5;return t.area=function(t){return Fr=0,os.geo.stream(t,i(zr)),Fr},t.centroid=function(t){return Sr=Cr=Ir=_r=kr=Tr=Mr=Lr=Hr=0,os.geo.stream(t,i(Wr)),Hr?[Mr/Hr,Lr/Hr]:Tr?[_r/Tr,kr/Tr]:Ir?[Sr/Ir,Cr/Ir]:[NaN,NaN]},t.bounds=function(t){return Br=Nr=-(Ar=Pr=1/0),os.geo.stream(t,i(Gr)),[[Ar,Pr],[Br,Nr]]},t.projection=function(t){return arguments.length?(i=(o=t)?t.stream||eo(t):v,e()):o},t.context=function(t){return arguments.length?(n=null==(a=t)?new Re:new Ke(t),"function"!=typeof r&&n.pointRadius(r),e()):a},t.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(n.pointRadius(+e),+e),t):r},t.projection(os.geo.albersUsa()).context(null)},os.geo.transform=function(t){return{stream:function(e){var o=new oo(e);for(var a in t)o[a]=t[a];return o}}},oo.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},os.geo.projection=io,os.geo.projectionMutator=no,(os.geo.equirectangular=function(){return io(ro)}).raw=ro.invert=ro,os.geo.rotation=function(t){function e(e){return e=t(e[0]*$s,e[1]*$s),e[0]*=As,e[1]*=As,e}return t=po(t[0]%360*$s,t[1]*$s,t.length>2?t[2]*$s:0),e.invert=function(e){return e=t.invert(e[0]*$s,e[1]*$s),e[0]*=As,e[1]*=As,e},e},lo.invert=ro,os.geo.circle=function(){function t(){var t="function"==typeof a?a.apply(this,arguments):a,e=po(-t[0]*$s,-t[1]*$s,0).invert,i=[];return o(null,null,1,{point:function(t,o){i.push(t=e(t,o)),t[0]*=As,t[1]*=As}}),{type:"Polygon",coordinates:[i]}}var e,o,a=[0,0],i=6;return t.origin=function(e){return arguments.length?(a=e,t):a},t.angle=function(a){return arguments.length?(o=go((e=+a)*$s,i*$s),t):e},t.precision=function(a){return arguments.length?(o=go(e*$s,(i=+a)*$s),t):i},t.angle(90)},os.geo.distance=function(t,e){var o,a=(e[0]-t[0])*$s,i=t[1]*$s,n=e[1]*$s,s=Math.sin(a),r=Math.cos(a),l=Math.sin(i),p=Math.cos(i),h=Math.sin(n),u=Math.cos(n);return Math.atan2(Math.sqrt((o=u*s)*o+(o=p*h-l*u*r)*o),l*h+p*u*r)},os.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return os.range(Math.ceil(n/f)*f,i,f).map(c).concat(os.range(Math.ceil(p/b)*b,l,b).map(d)).concat(os.range(Math.ceil(a/g)*g,o,g).filter(function(t){return gs(t%f)>Ls}).map(h)).concat(os.range(Math.ceil(r/m)*m,s,m).filter(function(t){return gs(t%b)>Ls}).map(u))}var o,a,i,n,s,r,l,p,h,u,c,d,g=10,m=g,f=90,b=360,v=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[c(n).concat(d(l).slice(1),c(i).reverse().slice(1),d(p).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(n=+e[0][0],i=+e[1][0],p=+e[0][1],l=+e[1][1],n>i&&(e=n,n=i,i=e),p>l&&(e=p,p=l,l=e),t.precision(v)):[[n,p],[i,l]]},t.minorExtent=function(e){return arguments.length?(a=+e[0][0],o=+e[1][0],r=+e[0][1],s=+e[1][1],a>o&&(e=a,a=o,o=e),r>s&&(e=r,r=s,s=e),t.precision(v)):[[a,r],[o,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(f=+e[0],b=+e[1],t):[f,b]},t.minorStep=function(e){return arguments.length?(g=+e[0],m=+e[1],t):[g,m]},t.precision=function(e){return arguments.length?(v=+e,h=fo(r,s,90),u=bo(a,o,v),c=fo(p,l,90),d=bo(n,i,v),t):v},t.majorExtent([[-180,-90+Ls],[180,90-Ls]]).minorExtent([[-180,-80-Ls],[180,80+Ls]])},os.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||a.apply(this,arguments),o||i.apply(this,arguments)]}}var e,o,a=vo,i=xo;return t.distance=function(){return os.geo.distance(e||a.apply(this,arguments),o||i.apply(this,arguments))},t.source=function(o){return arguments.length?(a=o,e="function"==typeof o?null:o,t):a},t.target=function(e){return arguments.length?(i=e,o="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},os.geo.interpolate=function(t,e){return yo(t[0]*$s,t[1]*$s,e[0]*$s,e[1]*$s)},os.geo.length=function(t){return jr=0,os.geo.stream(t,Zr),jr};var jr,Zr={sphere:q,point:q,lineStart:qo,lineEnd:q,polygonStart:q,polygonEnd:q},Er=wo(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(os.geo.azimuthalEqualArea=function(){return io(Er)}).raw=Er;var Rr=wo(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},v);(os.geo.azimuthalEquidistant=function(){return io(Rr)}).raw=Rr,(os.geo.conicConformal=function(){return We(So)}).raw=So,(os.geo.conicEquidistant=function(){return We(Co)}).raw=Co;var Yr=wo(function(t){return 1/t},Math.atan);(os.geo.gnomonic=function(){return io(Yr)}).raw=Yr,Io.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Fs]},(os.geo.mercator=function(){return _o(Io)}).raw=Io;var Ur=wo(function(){return 1},Math.asin);(os.geo.orthographic=function(){return io(Ur)}).raw=Ur;var Xr=wo(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(os.geo.stereographic=function(){return io(Xr)}).raw=Xr,ko.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Fs]},(os.geo.transverseMercator=function(){var t=_o(ko),e=t.center,o=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?o([t[0],t[1],t.length>2?t[2]+90:90]):(t=o(),[t[0],t[1],t[2]-90])},o([0,0,90])}).raw=ko,os.geom={},os.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=_t(o),n=_t(a),s=t.length,r=[],l=[];for(e=0;s>e;e++)r.push([+i.call(this,t[e],e),+n.call(this,t[e],e),e]);for(r.sort(Ho),e=0;s>e;e++)l.push([r[e][0],-r[e][1]]);var p=Lo(r),h=Lo(l),u=h[0]===p[0],c=h[h.length-1]===p[p.length-1],d=[];for(e=p.length-1;e>=0;--e)d.push(t[r[p[e]][2]]);for(e=+u;e<h.length-c;++e)d.push(t[r[h[e]][2]]);return d}var o=To,a=Mo;return arguments.length?e(t):(e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(a=t,e):a},e)},os.geom.polygon=function(t){return xs(t,Qr),t};var Qr=os.geom.polygon.prototype=[];Qr.area=function(){for(var t,e=-1,o=this.length,a=this[o-1],i=0;++e<o;)t=a,a=this[e],i+=t[1]*a[0]-t[0]*a[1];return.5*i},Qr.centroid=function(t){var e,o,a=-1,i=this.length,n=0,s=0,r=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++a<i;)e=r,r=this[a],o=e[0]*r[1]-r[0]*e[1],n+=(e[0]+r[0])*o,s+=(e[1]+r[1])*o;return[n*t,s*t]},Qr.clip=function(t){for(var e,o,a,i,n,s,r=Vo(t),l=-1,p=this.length-Vo(this),h=this[p-1];++l<p;){for(e=t.slice(),t.length=0,i=this[l],n=e[(a=e.length-r)-1],o=-1;++o<a;)s=e[o],Do(s,h,i)?(Do(n,h,i)||t.push(Oo(n,s,h,i)),t.push(s)):Do(n,h,i)&&t.push(Oo(n,s,h,i)),n=s;r&&t.push(t[0]),h=i}return t};var Jr,Kr,tl,el,ol,al=[],il=[];Go.prototype.prepare=function(){for(var t,e=this.edges,o=e.length;o--;)t=e[o].edge,t.b&&t.a||e.splice(o,1);return e.sort(jo),e.length},ta.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ea.prototype={insert:function(t,e){var o,a,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;o=t}else this._?(t=na(this._),e.P=null,e.N=t,t.P=t.L=e,o=t):(e.P=e.N=null,this._=e,o=null);for(e.L=e.R=null,e.U=o,e.C=!0,t=e;o&&o.C;)a=o.U,o===a.L?(i=a.R,i&&i.C?(o.C=i.C=!1,a.C=!0,t=a):(t===o.R&&(aa(this,o),t=o,o=t.U),o.C=!1,a.C=!0,ia(this,a))):(i=a.L,i&&i.C?(o.C=i.C=!1,a.C=!0,t=a):(t===o.L&&(ia(this,o),t=o,o=t.U),o.C=!1,a.C=!0,aa(this,a))),o=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,o,a,i=t.U,n=t.L,s=t.R;if(o=n?s?na(s):n:s,i?i.L===t?i.L=o:i.R=o:this._=o,n&&s?(a=o.C,o.C=t.C,o.L=n,n.U=o,o!==s?(i=o.U,o.U=t.U,t=o.R,i.L=t,o.R=s,s.U=o):(o.U=i,i=o,t=o.R)):(a=t.C,t=o),t&&(t.U=i),!a){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,aa(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ia(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,aa(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ia(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,aa(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ia(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},os.geom.voronoi=function(t){function e(t){var e=new Array(t.length),a=r[0][0],i=r[0][1],n=r[1][0],s=r[1][1];return sa(o(t),r).cells.forEach(function(o,r){var l=o.edges,p=o.site,h=e[r]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):p.x>=a&&p.x<=n&&p.y>=i&&p.y<=s?[[a,s],[n,s],[n,i],[a,i]]:[];h.point=t[r]}),e}function o(t){return t.map(function(t,e){return{x:Math.round(n(t,e)/Ls)*Ls,y:Math.round(s(t,e)/Ls)*Ls,i:e}})}var a=To,i=Mo,n=a,s=i,r=nl;return t?e(t):(e.links=function(t){return sa(o(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sa(o(t)).cells.forEach(function(o,a){for(var i,n,s=o.site,r=o.edges.sort(jo),l=-1,p=r.length,h=r[p-1].edge,u=h.l===s?h.r:h.l;++l<p;)i=h,n=u,h=r[l].edge,u=h.l===s?h.r:h.l,a<n.i&&a<u.i&&la(s,n,u)<0&&e.push([t[a],t[n.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(n=_t(a=t),e):a},e.y=function(t){return arguments.length?(s=_t(i=t),e):i},e.clipExtent=function(t){return arguments.length?(r=null==t?nl:t,e):r===nl?null:r},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):r===nl?null:r&&r[1]},e)};var nl=[[-1e6,-1e6],[1e6,1e6]];os.geom.delaunay=function(t){return os.geom.voronoi().triangles(t)},os.geom.quadtree=function(t,e,o,a,i){function n(t){function n(t,e,o,a,i,n,s,r){if(!isNaN(o)&&!isNaN(a))if(t.leaf){var l=t.x,h=t.y;if(null!=l)if(gs(l-o)+gs(h-a)<.01)p(t,e,o,a,i,n,s,r);else{var u=t.point;t.x=t.y=t.point=null,p(t,u,l,h,i,n,s,r),p(t,e,o,a,i,n,s,r)}else t.x=o,t.y=a,t.point=e}else p(t,e,o,a,i,n,s,r)}function p(t,e,o,a,i,s,r,l){var p=.5*(i+r),h=.5*(s+l),u=o>=p,c=a>=h,d=c<<1|u;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=ua()),u?i=p:r=p,c?s=h:l=h,n(t,e,o,a,i,s,r,l)}var h,u,c,d,g,m,f,b,v,x=_t(r),y=_t(l);if(null!=e)m=e,f=o,b=a,v=i;else if(b=v=-(m=f=1/0),u=[],c=[],g=t.length,s)for(d=0;g>d;++d)h=t[d],h.x<m&&(m=h.x),h.y<f&&(f=h.y),h.x>b&&(b=h.x),h.y>v&&(v=h.y),u.push(h.x),c.push(h.y);else for(d=0;g>d;++d){var q=+x(h=t[d],d),w=+y(h,d);m>q&&(m=q),f>w&&(f=w),q>b&&(b=q),w>v&&(v=w),u.push(q),c.push(w)}var S=b-m,C=v-f;S>C?v=f+S:b=m+C;var I=ua();if(I.add=function(t){n(I,t,+x(t,++d),+y(t,d),m,f,b,v)},I.visit=function(t){ca(t,I,m,f,b,v)},I.find=function(t){return da(I,t[0],t[1],m,f,b,v)},d=-1,null==e){for(;++d<g;)n(I,t[d],u[d],c[d],m,f,b,v);--d}else t.forEach(I.add);return u=c=t=h=null,I}var s,r=To,l=Mo;return(s=arguments.length)?(r=pa,l=ha,3===s&&(i=o,a=e,o=e=0),n(t)):(n.x=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(l=t,n):l},n.extent=function(t){return arguments.length?(null==t?e=o=a=i=null:(e=+t[0][0],o=+t[0][1],a=+t[1][0],i=+t[1][1]),n):null==e?null:[[e,o],[a,i]]},n.size=function(t){return arguments.length?(null==t?e=o=a=i=null:(e=o=0,a=+t[0],i=+t[1]),n):null==e?null:[a-e,i-o]},n)},os.interpolateRgb=ga,os.interpolateObject=ma,os.interpolateNumber=fa,os.interpolateString=ba;var sl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rl=new RegExp(sl.source,"g");os.interpolate=va,os.interpolators=[function(t,e){var o=typeof e;return("string"===o?Js.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?ga:ba:e instanceof st?ga:Array.isArray(e)?xa:"object"===o&&isNaN(e)?ma:fa)(t,e)}],os.interpolateArray=xa;var ll=function(){return v},pl=os.map({linear:ll,poly:_a,quad:function(){return Sa},cubic:function(){return Ca},sin:function(){return ka},exp:function(){return Ta},circle:function(){return Ma},elastic:La,back:Ha,bounce:function(){return Da}}),hl=os.map({"in":v,out:qa,"in-out":wa,"out-in":function(t){return wa(qa(t))}});os.ease=function(t){var e=t.indexOf("-"),o=e>=0?t.slice(0,e):t,a=e>=0?t.slice(e+1):"in";return o=pl.get(o)||ll,a=hl.get(a)||v,ya(a(o.apply(null,as.call(arguments,1))))},os.interpolateHcl=Oa,os.interpolateHsl=Va,os.interpolateLab=Fa,os.interpolateRound=$a,os.transform=function(t){var e=ns.createElementNS(os.ns.prefix.svg,"g");return(os.transform=function(t){if(null!=t){e.setAttribute("transform",t);var o=e.transform.baseVal.consolidate()}return new Aa(o?o.matrix:ul)})(t)},Aa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ul={a:1,b:0,c:0,d:1,e:0,f:0};os.interpolateTransform=za,os.layout={},os.layout.bundle=function(){return function(t){for(var e=[],o=-1,a=t.length;++o<a;)e.push(ja(t[o]));return e}},os.layout.chord=function(){function t(){var t,p,u,c,d,g={},m=[],f=os.range(n),b=[];for(o=[],a=[],t=0,c=-1;++c<n;){for(p=0,d=-1;++d<n;)p+=i[c][d];m.push(p),b.push(os.range(n)),t+=p}for(s&&f.sort(function(t,e){return s(m[t],m[e])}),r&&b.forEach(function(t,e){t.sort(function(t,o){return r(i[e][t],i[e][o])})}),t=(Os-h*n)/t,p=0,c=-1;++c<n;){for(u=p,d=-1;++d<n;){var v=f[c],x=b[v][d],y=i[v][x],q=p,w=p+=y*t;g[v+"-"+x]={index:v,subindex:x,startAngle:q,endAngle:w,value:y}}a[v]={index:v,startAngle:u,endAngle:p,value:(p-u)/t},p+=h}for(c=-1;++c<n;)for(d=c-1;++d<n;){var S=g[c+"-"+d],C=g[d+"-"+c];(S.value||C.value)&&o.push(S.value<C.value?{source:C,target:S}:{source:S,target:C})}l&&e()}function e(){o.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var o,a,i,n,s,r,l,p={},h=0;return p.matrix=function(t){return arguments.length?(n=(i=t)&&i.length,o=a=null,p):i},p.padding=function(t){return arguments.length?(h=t,o=a=null,p):h},p.sortGroups=function(t){return arguments.length?(s=t,o=a=null,p):s},p.sortSubgroups=function(t){return arguments.length?(r=t,o=null,p):r},p.sortChords=function(t){return arguments.length?(l=t,o&&e(),p):l},p.chords=function(){return o||t(),o},p.groups=function(){return a||t(),a},p},os.layout.force=function(){function t(t){return function(e,o,a,i){if(e.point!==t){var n=e.cx-t.x,s=e.cy-t.y,r=i-o,l=n*n+s*s;if(l>r*r/f){if(g>l){var p=e.charge/l;t.px-=n*p,t.py-=s*p}return!0}if(e.point&&l&&g>l){var p=e.pointCharge/l;t.px-=n*p,t.py-=s*p}}return!e.charge}}function e(t){t.px=os.event.x,t.py=os.event.y,r.resume()}var o,a,i,n,s,r={},l=os.dispatch("start","tick","end"),p=[1,1],h=.9,u=cl,c=dl,d=-30,g=gl,m=.1,f=.64,b=[],x=[];return r.tick=function(){if((a*=.99)<.005)return l.end({type:"end",alpha:a=0}),!0;var e,o,r,u,c,g,f,v,y,q=b.length,w=x.length;for(o=0;w>o;++o)r=x[o],u=r.source,c=r.target,v=c.x-u.x,y=c.y-u.y,(g=v*v+y*y)&&(g=a*n[o]*((g=Math.sqrt(g))-i[o])/g,v*=g,y*=g,c.x-=v*(f=u.weight/(c.weight+u.weight)),c.y-=y*f,u.x+=v*(f=1-f),u.y+=y*f);if((f=a*m)&&(v=p[0]/2,y=p[1]/2,o=-1,f))for(;++o<q;)r=b[o],r.x+=(v-r.x)*f,r.y+=(y-r.y)*f;if(d)for(Qa(e=os.geom.quadtree(b),a,s),o=-1;++o<q;)(r=b[o]).fixed||e.visit(t(r));for(o=-1;++o<q;)r=b[o],r.fixed?(r.x=r.px,r.y=r.py):(r.x-=(r.px-(r.px=r.x))*h,r.y-=(r.py-(r.py=r.y))*h);l.tick({type:"tick",alpha:a})},r.nodes=function(t){return arguments.length?(b=t,r):b},r.links=function(t){return arguments.length?(x=t,r):x},r.size=function(t){return arguments.length?(p=t,r):p},r.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,r):u},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(c="function"==typeof t?t:+t,r):c},r.friction=function(t){return arguments.length?(h=+t,r):h},r.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,r):d},r.chargeDistance=function(t){return arguments.length?(g=t*t,r):Math.sqrt(g)},r.gravity=function(t){return arguments.length?(m=+t,r):m},r.theta=function(t){return arguments.length?(f=t*t,r):Math.sqrt(f)},r.alpha=function(t){return arguments.length?(t=+t,a?a=t>0?t:0:t>0&&(l.start({type:"start",alpha:a=t}),os.timer(r.tick)),r):a},r.start=function(){function t(t,a){if(!o){for(o=new Array(l),r=0;l>r;++r)o[r]=[];for(r=0;h>r;++r){var i=x[r];o[i.source.index].push(i.target),o[i.target.index].push(i.source)}}for(var n,s=o[e],r=-1,p=s.length;++r<p;)if(!isNaN(n=s[r][t]))return n;return Math.random()*a}var e,o,a,l=b.length,h=x.length,g=p[0],m=p[1];for(e=0;l>e;++e)(a=b[e]).index=e,a.weight=0;for(e=0;h>e;++e)a=x[e],"number"==typeof a.source&&(a.source=b[a.source]),"number"==typeof a.target&&(a.target=b[a.target]),++a.source.weight,++a.target.weight;for(e=0;l>e;++e)a=b[e],isNaN(a.x)&&(a.x=t("x",g)),isNaN(a.y)&&(a.y=t("y",m)),isNaN(a.px)&&(a.px=a.x),isNaN(a.py)&&(a.py=a.y);if(i=[],"function"==typeof u)for(e=0;h>e;++e)i[e]=+u.call(this,x[e],e);else for(e=0;h>e;++e)i[e]=u;if(n=[],"function"==typeof c)for(e=0;h>e;++e)n[e]=+c.call(this,x[e],e);else for(e=0;h>e;++e)n[e]=c;if(s=[],"function"==typeof d)for(e=0;l>e;++e)s[e]=+d.call(this,b[e],e);else for(e=0;l>e;++e)s[e]=d;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return o||(o=os.behavior.drag().origin(v).on("dragstart.force",Ra).on("drag.force",e).on("dragend.force",Ya)),arguments.length?void this.on("mouseover.force",Ua).on("mouseout.force",Xa).call(o):o},os.rebind(r,l,"on")};var cl=20,dl=1,gl=1/0;os.layout.hierarchy=function(){function t(i){var n,s=[i],r=[];for(i.depth=0;null!=(n=s.pop());)if(r.push(n),(p=o.call(t,n,n.depth))&&(l=p.length)){for(var l,p,h;--l>=0;)s.push(h=p[l]),h.parent=n,h.depth=n.depth+1;a&&(n.value=0),n.children=p}else a&&(n.value=+a.call(t,n,n.depth)||0),delete n.children;return ti(i,function(t){var o,i;e&&(o=t.children)&&o.sort(e),a&&(i=t.parent)&&(i.value+=t.value)}),r}var e=ai,o=ei,a=oi;return t.sort=function(o){return arguments.length?(e=o,t):e},t.children=function(e){return arguments.length?(o=e,t):o},t.value=function(e){return arguments.length?(a=e,t):a},t.revalue=function(e){return a&&(Ka(e,function(t){t.children&&(t.value=0)}),ti(e,function(e){var o;e.children||(e.value=+a.call(t,e,e.depth)||0),(o=e.parent)&&(o.value+=e.value)})),e},t},os.layout.partition=function(){function t(e,o,a,i){var n=e.children;if(e.x=o,e.y=e.depth*i,e.dx=a,e.dy=i,n&&(s=n.length)){var s,r,l,p=-1;for(a=e.value?a/e.value:0;++p<s;)t(r=n[p],o,l=r.value*a,i),o+=l}}function e(t){var o=t.children,a=0;if(o&&(i=o.length))for(var i,n=-1;++n<i;)a=Math.max(a,e(o[n]));return 1+a}function o(o,n){var s=a.call(this,o,n);return t(s[0],0,i[0],i[1]/e(s[0])),s}var a=os.layout.hierarchy(),i=[1,1];return o.size=function(t){return arguments.length?(i=t,o):i},Ja(o,a)},os.layout.pie=function(){function t(s){var r,l=s.length,p=s.map(function(o,a){return+e.call(t,o,a)}),h=+("function"==typeof a?a.apply(this,arguments):a),u=("function"==typeof i?i.apply(this,arguments):i)-h,c=Math.min(Math.abs(u)/l,+("function"==typeof n?n.apply(this,arguments):n)),d=c*(0>u?-1:1),g=(u-l*d)/os.sum(p),m=os.range(l),f=[];return null!=o&&m.sort(o===ml?function(t,e){return p[e]-p[t]}:function(t,e){return o(s[t],s[e])}),m.forEach(function(t){f[t]={data:s[t],value:r=p[t],startAngle:h,endAngle:h+=r*g+d,padAngle:c}}),f}var e=Number,o=ml,a=0,i=Os,n=0;return t.value=function(o){return arguments.length?(e=o,t):e},t.sort=function(e){return arguments.length?(o=e,t):o},t.startAngle=function(e){return arguments.length?(a=e,t):a},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(n=e,t):n},t};var ml={};os.layout.stack=function(){function t(r,l){if(!(c=r.length))return r;var p=r.map(function(o,a){return e.call(t,o,a)}),h=p.map(function(e){return e.map(function(e,o){return[n.call(t,e,o),s.call(t,e,o)]})}),u=o.call(t,h,l);p=os.permute(p,u),h=os.permute(h,u);var c,d,g,m,f=a.call(t,h,l),b=p[0].length;for(g=0;b>g;++g)for(i.call(t,p[0][g],m=f[g],h[0][g][1]),d=1;c>d;++d)i.call(t,p[d][g],m+=h[d-1][g][1],h[d][g][1]);return r}var e=v,o=li,a=pi,i=ri,n=ni,s=si;return t.values=function(o){return arguments.length?(e=o,t):e},t.order=function(e){return arguments.length?(o="function"==typeof e?e:fl.get(e)||li,t):o},t.offset=function(e){return arguments.length?(a="function"==typeof e?e:bl.get(e)||pi,t):a},t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(i=e,t):i},t};var fl=os.map({"inside-out":function(t){var e,o,a=t.length,i=t.map(hi),n=t.map(ui),s=os.range(a).sort(function(t,e){return i[t]-i[e]}),r=0,l=0,p=[],h=[];for(e=0;a>e;++e)o=s[e],l>r?(r+=n[o],p.push(o)):(l+=n[o],h.push(o));return h.reverse().concat(p)},reverse:function(t){return os.range(t.length).reverse()},"default":li}),bl=os.map({silhouette:function(t){var e,o,a,i=t.length,n=t[0].length,s=[],r=0,l=[];for(o=0;n>o;++o){for(e=0,a=0;i>e;e++)a+=t[e][o][1];a>r&&(r=a),s.push(a)}for(o=0;n>o;++o)l[o]=(r-s[o])/2;return l},wiggle:function(t){var e,o,a,i,n,s,r,l,p,h=t.length,u=t[0],c=u.length,d=[];for(d[0]=l=p=0,o=1;c>o;++o){for(e=0,i=0;h>e;++e)i+=t[e][o][1];for(e=0,n=0,r=u[o][0]-u[o-1][0];h>e;++e){for(a=0,s=(t[e][o][1]-t[e][o-1][1])/(2*r);e>a;++a)s+=(t[a][o][1]-t[a][o-1][1])/r;n+=s*t[e][o][1]}d[o]=l-=i?n/i*r:0,p>l&&(p=l)}for(o=0;c>o;++o)d[o]-=p;return d},expand:function(t){var e,o,a,i=t.length,n=t[0].length,s=1/i,r=[];for(o=0;n>o;++o){for(e=0,a=0;i>e;e++)a+=t[e][o][1];if(a)for(e=0;i>e;e++)t[e][o][1]/=a;else for(e=0;i>e;e++)t[e][o][1]=s}for(o=0;n>o;++o)r[o]=0;return r},zero:pi});os.layout.histogram=function(){function t(t,n){for(var s,r,l=[],p=t.map(o,this),h=a.call(this,p,n),u=i.call(this,h,p,n),n=-1,c=p.length,d=u.length-1,g=e?1:1/c;++n<d;)s=l[n]=[],s.dx=u[n+1]-(s.x=u[n]),s.y=0;if(d>0)for(n=-1;++n<c;)r=p[n],r>=h[0]&&r<=h[1]&&(s=l[os.bisect(u,r,1,d)-1],s.y+=g,s.push(t[n]));return l}var e=!0,o=Number,a=mi,i=di;return t.value=function(e){return arguments.length?(o=e,t):o},t.range=function(e){return arguments.length?(a=_t(e),t):a},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return gi(t,e)}:_t(e),t):i},t.frequency=function(o){return arguments.length?(e=!!o,t):e},t},os.layout.pack=function(){function t(t,n){var s=o.call(this,t,n),r=s[0],l=i[0],p=i[1],h=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(r.x=r.y=0,ti(r,function(t){t.r=+h(t.value)}),ti(r,yi),a){var u=a*(e?1:Math.max(2*r.r/l,2*r.r/p))/2;ti(r,function(t){t.r+=u}),ti(r,yi),ti(r,function(t){t.r-=u})}return Si(r,l/2,p/2,e?1:1/Math.max(2*r.r/l,2*r.r/p)),s}var e,o=os.layout.hierarchy().sort(fi),a=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(o){return arguments.length?(e=null==o||"function"==typeof o?o:+o,t):e},t.padding=function(e){return arguments.length?(a=+e,t):a},Ja(t,o)},os.layout.tree=function(){function t(t,i){var h=s.call(this,t,i),u=h[0],c=e(u);if(ti(c,o),c.parent.m=-c.z,Ka(c,a),p)Ka(u,n);else{var d=u,g=u,m=u;Ka(u,function(t){t.x<d.x&&(d=t),t.x>g.x&&(g=t),t.depth>m.depth&&(m=t)});var f=r(d,g)/2-d.x,b=l[0]/(g.x+r(g,d)/2+f),v=l[1]/(m.depth||1);Ka(u,function(t){t.x=(t.x+f)*b,t.y=t.depth*v})}return h}function e(t){for(var e,o={A:null,children:[t]},a=[o];null!=(e=a.pop());)for(var i,n=e.children,s=0,r=n.length;r>s;++s)a.push((n[s]=i={_:n[s],parent:e,children:(i=n[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return o.children[0]}function o(t){var e=t.children,o=t.parent.children,a=t.i?o[t.i-1]:null;if(e.length){Mi(t);var n=(e[0].z+e[e.length-1].z)/2;a?(t.z=a.z+r(t._,a._),t.m=t.z-n):t.z=n}else a&&(t.z=a.z+r(t._,a._));t.parent.A=i(t,a,t.parent.A||o[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,o){if(e){for(var a,i=t,n=t,s=e,l=i.parent.children[0],p=i.m,h=n.m,u=s.m,c=l.m;s=ki(s),i=_i(i),s&&i;)l=_i(l),n=ki(n),n.a=t,a=s.z+u-i.z-p+r(s._,i._),a>0&&(Ti(Li(s,t,o),t,a),p+=a,h+=a),u+=s.m,p+=i.m,c+=l.m,h+=n.m;s&&!ki(n)&&(n.t=s,n.m+=u-h),i&&!_i(l)&&(l.t=i,l.m+=p-c,o=t)}return o}function n(t){t.x*=l[0],t.y=t.depth*l[1]}var s=os.layout.hierarchy().sort(null).value(null),r=Ii,l=[1,1],p=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(p=null==(l=e)?n:null,t):p?null:l},t.nodeSize=function(e){return arguments.length?(p=null==(l=e)?null:n,t):p?l:null},Ja(t,s)},os.layout.cluster=function(){function t(t,n){var s,r=e.call(this,t,n),l=r[0],p=0;ti(l,function(t){var e=t.children;e&&e.length?(t.x=Di(e),t.y=Hi(e)):(t.x=s?p+=o(t,s):0,t.y=0,s=t)});var h=Oi(l),u=Vi(l),c=h.x-o(h,u)/2,d=u.x+o(u,h)/2;return ti(l,i?function(t){t.x=(t.x-l.x)*a[0],t.y=(l.y-t.y)*a[1]}:function(t){t.x=(t.x-c)/(d-c)*a[0],t.y=(1-(l.y?t.y/l.y:1))*a[1];
}),r}var e=os.layout.hierarchy().sort(null).value(null),o=Ii,a=[1,1],i=!1;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(i=null==(a=e),t):i?null:a},t.nodeSize=function(e){return arguments.length?(i=null!=(a=e),t):i?a:null},Ja(t,e)},os.layout.treemap=function(){function t(t,e){for(var o,a,i=-1,n=t.length;++i<n;)a=(o=t[i]).value*(0>e?0:e),o.area=isNaN(a)||0>=a?0:a}function e(o){var n=o.children;if(n&&n.length){var s,r,l,p=u(o),h=[],c=n.slice(),g=1/0,m="slice"===d?p.dx:"dice"===d?p.dy:"slice-dice"===d?1&o.depth?p.dy:p.dx:Math.min(p.dx,p.dy);for(t(c,p.dx*p.dy/o.value),h.area=0;(l=c.length)>0;)h.push(s=c[l-1]),h.area+=s.area,"squarify"!==d||(r=a(h,m))<=g?(c.pop(),g=r):(h.area-=h.pop().area,i(h,m,p,!1),m=Math.min(p.dx,p.dy),h.length=h.area=0,g=1/0);h.length&&(i(h,m,p,!0),h.length=h.area=0),n.forEach(e)}}function o(e){var a=e.children;if(a&&a.length){var n,s=u(e),r=a.slice(),l=[];for(t(r,s.dx*s.dy/e.value),l.area=0;n=r.pop();)l.push(n),l.area+=n.area,null!=n.z&&(i(l,n.z?s.dx:s.dy,s,!r.length),l.length=l.area=0);a.forEach(o)}}function a(t,e){for(var o,a=t.area,i=0,n=1/0,s=-1,r=t.length;++s<r;)(o=t[s].area)&&(n>o&&(n=o),o>i&&(i=o));return a*=a,e*=e,a?Math.max(e*i*g/a,a/(e*n*g)):1/0}function i(t,e,o,a){var i,n=-1,s=t.length,r=o.x,p=o.y,h=e?l(t.area/e):0;if(e==o.dx){for((a||h>o.dy)&&(h=o.dy);++n<s;)i=t[n],i.x=r,i.y=p,i.dy=h,r+=i.dx=Math.min(o.x+o.dx-r,h?l(i.area/h):0);i.z=!0,i.dx+=o.x+o.dx-r,o.y+=h,o.dy-=h}else{for((a||h>o.dx)&&(h=o.dx);++n<s;)i=t[n],i.x=r,i.y=p,i.dx=h,p+=i.dy=Math.min(o.y+o.dy-p,h?l(i.area/h):0);i.z=!1,i.dy+=o.y+o.dy-p,o.x+=h,o.dx-=h}}function n(a){var i=s||r(a),n=i[0];return n.x=0,n.y=0,n.dx=p[0],n.dy=p[1],s&&r.revalue(n),t([n],n.dx*n.dy/n.value),(s?o:e)(n),c&&(s=i),i}var s,r=os.layout.hierarchy(),l=Math.round,p=[1,1],h=null,u=Fi,c=!1,d="squarify",g=.5*(1+Math.sqrt(5));return n.size=function(t){return arguments.length?(p=t,n):p},n.padding=function(t){function e(e){var o=t.call(n,e,e.depth);return null==o?Fi(e):$i(e,"number"==typeof o?[o,o,o,o]:o)}function o(e){return $i(e,t)}if(!arguments.length)return h;var a;return u=null==(h=t)?Fi:"function"==(a=typeof t)?e:"number"===a?(t=[t,t,t,t],o):o,n},n.round=function(t){return arguments.length?(l=t?Math.round:Number,n):l!=Number},n.sticky=function(t){return arguments.length?(c=t,s=null,n):c},n.ratio=function(t){return arguments.length?(g=t,n):g},n.mode=function(t){return arguments.length?(d=t+"",n):d},Ja(n,r)},os.random={normal:function(t,e){var o=arguments.length;return 2>o&&(e=1),1>o&&(t=0),function(){var o,a,i;do o=2*Math.random()-1,a=2*Math.random()-1,i=o*o+a*a;while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=os.random.normal.apply(os,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=os.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,o=0;t>o;o++)e+=Math.random();return e}}},os.scale={};var vl={floor:v,ceil:v};os.scale.linear=function(){return Wi([0,1],[0,1],va,!1)};var xl={s:1,g:1,p:1,r:1,e:1};os.scale.log=function(){return Qi(os.scale.linear().domain([0,1]),10,!0,[1,10])};var yl=os.format(".0e"),ql={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};os.scale.pow=function(){return Ji(os.scale.linear(),1,[0,1])},os.scale.sqrt=function(){return os.scale.pow().exponent(.5)},os.scale.ordinal=function(){return tn([],{t:"range",a:[[]]})},os.scale.category10=function(){return os.scale.ordinal().range(wl)},os.scale.category20=function(){return os.scale.ordinal().range(Sl)},os.scale.category20b=function(){return os.scale.ordinal().range(Cl)},os.scale.category20c=function(){return os.scale.ordinal().range(Il)};var wl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Sl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Il=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);os.scale.quantile=function(){return en([],[])},os.scale.quantize=function(){return on(0,1,[0,1])},os.scale.threshold=function(){return an([.5],[0,1])},os.scale.identity=function(){return nn([0,1])},os.svg={},os.svg.arc=function(){function t(){var t=Math.max(0,+o.apply(this,arguments)),p=Math.max(0,+a.apply(this,arguments)),h=s.apply(this,arguments)-Fs,u=r.apply(this,arguments)-Fs,c=Math.abs(u-h),d=h>u?0:1;if(t>p&&(g=p,p=t,t=g),c>=Vs)return e(p,d)+(t?e(t,1-d):"")+"Z";var g,m,f,b,v,x,y,q,w,S,C,I,_=0,k=0,T=[];if((b=(+l.apply(this,arguments)||0)/2)&&(f=n===_l?Math.sqrt(t*t+p*p):+n.apply(this,arguments),d||(k*=-1),p&&(k=et(f/p*Math.sin(b))),t&&(_=et(f/t*Math.sin(b)))),p){v=p*Math.cos(h+k),x=p*Math.sin(h+k),y=p*Math.cos(u-k),q=p*Math.sin(u-k);var M=Math.abs(u-h-2*k)<=Ds?0:1;if(k&&cn(v,x,y,q)===d^M){var L=(h+u)/2;v=p*Math.cos(L),x=p*Math.sin(L),y=q=null}}else v=x=0;if(t){w=t*Math.cos(u-_),S=t*Math.sin(u-_),C=t*Math.cos(h+_),I=t*Math.sin(h+_);var H=Math.abs(h-u+2*_)<=Ds?0:1;if(_&&cn(w,S,C,I)===1-d^H){var D=(h+u)/2;w=t*Math.cos(D),S=t*Math.sin(D),C=I=null}}else w=S=0;if((g=Math.min(Math.abs(p-t)/2,+i.apply(this,arguments)))>.001){m=p>t^d?0:1;var O=null==C?[w,S]:null==y?[v,x]:Oo([v,x],[C,I],[y,q],[w,S]),V=v-O[0],F=x-O[1],$=y-O[0],A=q-O[1],P=1/Math.sin(Math.acos((V*$+F*A)/(Math.sqrt(V*V+F*F)*Math.sqrt($*$+A*A)))/2),B=Math.sqrt(O[0]*O[0]+O[1]*O[1]);if(null!=y){var N=Math.min(g,(p-B)/(P+1)),z=dn(null==C?[w,S]:[C,I],[v,x],p,N,d),G=dn([y,q],[w,S],p,N,d);g===N?T.push("M",z[0],"A",N,",",N," 0 0,",m," ",z[1],"A",p,",",p," 0 ",1-d^cn(z[1][0],z[1][1],G[1][0],G[1][1]),",",d," ",G[1],"A",N,",",N," 0 0,",m," ",G[0]):T.push("M",z[0],"A",N,",",N," 0 1,",m," ",G[0])}else T.push("M",v,",",x);if(null!=C){var W=Math.min(g,(t-B)/(P-1)),j=dn([v,x],[C,I],t,-W,d),Z=dn([w,S],null==y?[v,x]:[y,q],t,-W,d);g===W?T.push("L",Z[0],"A",W,",",W," 0 0,",m," ",Z[1],"A",t,",",t," 0 ",d^cn(Z[1][0],Z[1][1],j[1][0],j[1][1]),",",1-d," ",j[1],"A",W,",",W," 0 0,",m," ",j[0]):T.push("L",Z[0],"A",W,",",W," 0 0,",m," ",j[0])}else T.push("L",w,",",S)}else T.push("M",v,",",x),null!=y&&T.push("A",p,",",p," 0 ",M,",",d," ",y,",",q),T.push("L",w,",",S),null!=C&&T.push("A",t,",",t," 0 ",H,",",1-d," ",C,",",I);return T.push("Z"),T.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var o=rn,a=ln,i=sn,n=_l,s=pn,r=hn,l=un;return t.innerRadius=function(e){return arguments.length?(o=_t(e),t):o},t.outerRadius=function(e){return arguments.length?(a=_t(e),t):a},t.cornerRadius=function(e){return arguments.length?(i=_t(e),t):i},t.padRadius=function(e){return arguments.length?(n=e==_l?_l:_t(e),t):n},t.startAngle=function(e){return arguments.length?(s=_t(e),t):s},t.endAngle=function(e){return arguments.length?(r=_t(e),t):r},t.padAngle=function(e){return arguments.length?(l=_t(e),t):l},t.centroid=function(){var t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +r.apply(this,arguments))/2-Fs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var _l="auto";os.svg.line=function(){return gn(v)};var kl=os.map({linear:mn,"linear-closed":fn,step:bn,"step-before":vn,"step-after":xn,basis:In,"basis-open":_n,"basis-closed":kn,bundle:Tn,cardinal:wn,"cardinal-open":yn,"cardinal-closed":qn,monotone:Vn});kl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Tl=[0,2/3,1/3,0],Ml=[0,1/3,2/3,0],Ll=[0,1/6,2/3,1/6];os.svg.line.radial=function(){var t=gn(Fn);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},vn.reverse=xn,xn.reverse=vn,os.svg.area=function(){return $n(v)},os.svg.area.radial=function(){var t=$n(Fn);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},os.svg.chord=function(){function t(t,r){var l=e(this,n,t,r),p=e(this,s,t,r);return"M"+l.p0+a(l.r,l.p1,l.a1-l.a0)+(o(l,p)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,p.r,p.p0)+a(p.r,p.p1,p.a1-p.a0)+i(p.r,p.p1,l.r,l.p0))+"Z"}function e(t,e,o,a){var i=e.call(t,o,a),n=r.call(t,i,a),s=l.call(t,i,a)-Fs,h=p.call(t,i,a)-Fs;return{r:n,a0:s,a1:h,p0:[n*Math.cos(s),n*Math.sin(s)],p1:[n*Math.cos(h),n*Math.sin(h)]}}function o(t,e){return t.a0==e.a0&&t.a1==e.a1}function a(t,e,o){return"A"+t+","+t+" 0 "+ +(o>Ds)+",1 "+e}function i(t,e,o,a){return"Q 0,0 "+a}var n=vo,s=xo,r=An,l=pn,p=hn;return t.radius=function(e){return arguments.length?(r=_t(e),t):r},t.source=function(e){return arguments.length?(n=_t(e),t):n},t.target=function(e){return arguments.length?(s=_t(e),t):s},t.startAngle=function(e){return arguments.length?(l=_t(e),t):l},t.endAngle=function(e){return arguments.length?(p=_t(e),t):p},t},os.svg.diagonal=function(){function t(t,i){var n=e.call(this,t,i),s=o.call(this,t,i),r=(n.y+s.y)/2,l=[n,{x:n.x,y:r},{x:s.x,y:r},s];return l=l.map(a),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=vo,o=xo,a=Pn;return t.source=function(o){return arguments.length?(e=_t(o),t):e},t.target=function(e){return arguments.length?(o=_t(e),t):o},t.projection=function(e){return arguments.length?(a=e,t):a},t},os.svg.diagonal.radial=function(){var t=os.svg.diagonal(),e=Pn,o=t.projection;return t.projection=function(t){return arguments.length?o(Bn(e=t)):e},t},os.svg.symbol=function(){function t(t,a){return(Hl.get(e.call(this,t,a))||Gn)(o.call(this,t,a))}var e=zn,o=Nn;return t.type=function(o){return arguments.length?(e=_t(o),t):e},t.size=function(e){return arguments.length?(o=_t(e),t):o},t};var Hl=os.map({circle:Gn,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ol)),o=e*Ol;return"M0,"+-e+"L"+o+",0 0,"+e+" "+-o+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Dl),o=e*Dl/2;return"M0,"+o+"L"+e+","+-o+" "+-e+","+-o+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Dl),o=e*Dl/2;return"M0,"+-o+"L"+e+","+o+" "+-e+","+o+"Z"}});os.svg.symbolTypes=Hl.keys();var Dl=Math.sqrt(3),Ol=Math.tan(30*$s);Ss.transition=function(t){for(var e,o,a=Vl||++Pl,i=Rn(t),n=[],s=Fl||{time:Date.now(),ease:Ia,delay:0,duration:250},r=-1,l=this.length;++r<l;){n.push(e=[]);for(var p=this[r],h=-1,u=p.length;++h<u;)(o=p[h])&&Yn(o,h,i,a,s),e.push(o)}return jn(n,i,a)},Ss.interrupt=function(t){return this.each(null==t?$l:Wn(Rn(t)))};var Vl,Fl,$l=Wn(Rn()),Al=[],Pl=0;Al.call=Ss.call,Al.empty=Ss.empty,Al.node=Ss.node,Al.size=Ss.size,os.transition=function(t,e){return t&&t.transition?Vl?t.transition(e):t:os.selection().transition(t)},os.transition.prototype=Al,Al.select=function(t){var e,o,a,i=this.id,n=this.namespace,s=[];t=T(t);for(var r=-1,l=this.length;++r<l;){s.push(e=[]);for(var p=this[r],h=-1,u=p.length;++h<u;)(a=p[h])&&(o=t.call(a,a.__data__,h,r))?("__data__"in a&&(o.__data__=a.__data__),Yn(o,h,n,i,a[n][i]),e.push(o)):e.push(null)}return jn(s,n,i)},Al.selectAll=function(t){var e,o,a,i,n,s=this.id,r=this.namespace,l=[];t=M(t);for(var p=-1,h=this.length;++p<h;)for(var u=this[p],c=-1,d=u.length;++c<d;)if(a=u[c]){n=a[r][s],o=t.call(a,a.__data__,c,p),l.push(e=[]);for(var g=-1,m=o.length;++g<m;)(i=o[g])&&Yn(i,g,r,s,n),e.push(i)}return jn(l,r,s)},Al.filter=function(t){var e,o,a,i=[];"function"!=typeof t&&(t=z(t));for(var n=0,s=this.length;s>n;n++){i.push(e=[]);for(var o=this[n],r=0,l=o.length;l>r;r++)(a=o[r])&&t.call(a,a.__data__,r,n)&&e.push(a)}return jn(i,this.namespace,this.id)},Al.tween=function(t,e){var o=this.id,a=this.namespace;return arguments.length<2?this.node()[a][o].tween.get(t):W(this,null==e?function(e){e[a][o].tween.remove(t)}:function(i){i[a][o].tween.set(t,e)})},Al.attr=function(t,e){function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function i(t){return null==t?o:(t+="",function(){var e,o=this.getAttribute(r);return o!==t&&(e=s(o,t),function(t){this.setAttribute(r,e(t))})})}function n(t){return null==t?a:(t+="",function(){var e,o=this.getAttributeNS(r.space,r.local);return o!==t&&(e=s(o,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?za:va,r=os.ns.qualify(t);return Zn(this,"attr."+t,e,r.local?n:i)},Al.attrTween=function(t,e){function o(t,o){var a=e.call(this,t,o,this.getAttribute(i));return a&&function(t){this.setAttribute(i,a(t))}}function a(t,o){var a=e.call(this,t,o,this.getAttributeNS(i.space,i.local));return a&&function(t){this.setAttributeNS(i.space,i.local,a(t))}}var i=os.ns.qualify(t);return this.tween("attr."+t,i.local?a:o)},Al.style=function(t,o,a){function i(){this.style.removeProperty(t)}function n(o){return null==o?i:(o+="",function(){var i,n=e(this).getComputedStyle(this,null).getPropertyValue(t);return n!==o&&(i=va(n,o),function(e){this.style.setProperty(t,i(e),a)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(o="");for(a in t)this.style(a,t[a],o);return this}a=""}return Zn(this,"style."+t,o,n)},Al.styleTween=function(t,o,a){function i(i,n){var s=o.call(this,i,n,e(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),a)}}return arguments.length<3&&(a=""),this.tween("style."+t,i)},Al.text=function(t){return Zn(this,"text",t,En)},Al.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Al.ease=function(t){var e=this.id,o=this.namespace;return arguments.length<1?this.node()[o][e].ease:("function"!=typeof t&&(t=os.ease.apply(os,arguments)),W(this,function(a){a[o][e].ease=t}))},Al.delay=function(t){var e=this.id,o=this.namespace;return arguments.length<1?this.node()[o][e].delay:W(this,"function"==typeof t?function(a,i,n){a[o][e].delay=+t.call(a,a.__data__,i,n)}:(t=+t,function(a){a[o][e].delay=t}))},Al.duration=function(t){var e=this.id,o=this.namespace;return arguments.length<1?this.node()[o][e].duration:W(this,"function"==typeof t?function(a,i,n){a[o][e].duration=Math.max(1,t.call(a,a.__data__,i,n))}:(t=Math.max(1,t),function(a){a[o][e].duration=t}))},Al.each=function(t,e){var o=this.id,a=this.namespace;if(arguments.length<2){var i=Fl,n=Vl;try{Vl=o,W(this,function(e,i,n){Fl=e[a][o],t.call(e,e.__data__,i,n)})}finally{Fl=i,Vl=n}}else W(this,function(i){var n=i[a][o];(n.event||(n.event=os.dispatch("start","end","interrupt"))).on(t,e)});return this},Al.transition=function(){for(var t,e,o,a,i=this.id,n=++Pl,s=this.namespace,r=[],l=0,p=this.length;p>l;l++){r.push(t=[]);for(var e=this[l],h=0,u=e.length;u>h;h++)(o=e[h])&&(a=o[s][i],Yn(o,h,s,n,{time:a.time,ease:a.ease,delay:a.delay+a.duration,duration:a.duration})),t.push(o)}return jn(r,s,n)},os.svg.axis=function(){function t(t){t.each(function(){var t,p=os.select(this),h=this.__chart__||o,u=this.__chart__=o.copy(),c=null==l?u.ticks?u.ticks.apply(u,r):u.domain():l,d=null==e?u.tickFormat?u.tickFormat.apply(u,r):v:e,g=p.selectAll(".tick").data(c,u),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ls),f=os.transition(g.exit()).style("opacity",Ls).remove(),b=os.transition(g.order()).style("opacity",1),x=Math.max(i,0)+s,y=Pi(u),q=p.selectAll(".domain").data([0]),w=(q.enter().append("path").attr("class","domain"),os.transition(q));m.append("line"),m.append("text");var S,C,I,_,k=m.select("line"),T=b.select("line"),M=g.select("text").text(d),L=m.select("text"),H=b.select("text"),D="top"===a||"left"===a?-1:1;if("bottom"===a||"top"===a?(t=Un,S="x",I="y",C="x2",_="y2",M.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+D*n+"V0H"+y[1]+"V"+D*n)):(t=Xn,S="y",I="x",C="y2",_="x2",M.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),w.attr("d","M"+D*n+","+y[0]+"H0V"+y[1]+"H"+D*n)),k.attr(_,D*i),L.attr(I,D*x),T.attr(C,0).attr(_,D*i),H.attr(S,0).attr(I,D*x),u.rangeBand){var O=u,V=O.rangeBand()/2;h=u=function(t){return O(t)+V}}else h.rangeBand?h=u:f.call(t,u,h);m.call(t,h,u),b.call(t,u,u)})}var e,o=os.scale.linear(),a=Bl,i=6,n=6,s=3,r=[10],l=null;return t.scale=function(e){return arguments.length?(o=e,t):o},t.orient=function(e){return arguments.length?(a=e in Nl?e+"":Bl,t):a},t.ticks=function(){return arguments.length?(r=arguments,t):r},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(o){return arguments.length?(e=o,t):e},t.tickSize=function(e){var o=arguments.length;return o?(i=+e,n=+arguments[o-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(n=+e,t):n},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var Bl="bottom",Nl={top:1,right:1,bottom:1,left:1};os.svg.brush=function(){function t(e){e.each(function(){var e=os.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",n).on("touchstart.brush",n),s=e.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(m,v);r.exit().remove(),r.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return zl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",t.empty()?"none":null);var l,u=os.transition(e),c=os.transition(s);p&&(l=Pi(p),c.attr("x",l[0]).attr("width",l[1]-l[0]),a(u)),h&&(l=Pi(h),c.attr("y",l[0]).attr("height",l[1]-l[0]),i(u)),o(u)})}function o(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+c[+/^s/.test(t)]+")"})}function a(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function i(t){t.select(".extent").attr("y",c[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function n(){function n(){32==os.event.keyCode&&(M||(x=null,H[0]-=u[1],H[1]-=c[1],M=2),C())}function m(){32==os.event.keyCode&&2==M&&(H[0]+=u[1],H[1]+=c[1],M=0,C())}function f(){var t=os.mouse(q),e=!1;y&&(t[0]+=y[0],t[1]+=y[1]),M||(os.event.altKey?(x||(x=[(u[0]+u[1])/2,(c[0]+c[1])/2]),H[0]=u[+(t[0]<x[0])],H[1]=c[+(t[1]<x[1])]):x=null),k&&b(t,p,0)&&(a(I),e=!0),T&&b(t,h,1)&&(i(I),e=!0),e&&(o(I),S({type:"brush",mode:M?"move":"resize"}))}function b(t,e,o){var a,i,n=Pi(e),l=n[0],p=n[1],h=H[o],m=o?c:u,f=m[1]-m[0];return M&&(l-=h,p-=f+h),a=(o?g:d)?Math.max(l,Math.min(p,t[o])):t[o],M?i=(a+=h)+f:(x&&(h=Math.max(l,Math.min(p,2*x[o]-a))),a>h?(i=a,a=h):i=h),m[0]!=a||m[1]!=i?(o?r=null:s=null,m[0]=a,m[1]=i,!0):void 0}function v(){f(),I.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),os.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),S({type:"brushend"})}var x,y,q=this,w=os.select(os.event.target),S=l.of(q,arguments),I=os.select(q),_=w.datum(),k=!/^(n|s)$/.test(_)&&p,T=!/^(e|w)$/.test(_)&&h,M=w.classed("extent"),L=U(q),H=os.mouse(q),D=os.select(e(q)).on("keydown.brush",n).on("keyup.brush",m);if(os.event.changedTouches?D.on("touchmove.brush",f).on("touchend.brush",v):D.on("mousemove.brush",f).on("mouseup.brush",v),I.interrupt().selectAll("*").interrupt(),M)H[0]=u[0]-H[0],H[1]=c[0]-H[1];else if(_){var O=+/w$/.test(_),V=+/^n/.test(_);y=[u[1-O]-H[0],c[1-V]-H[1]],H[0]=u[O],H[1]=c[V]}else os.event.altKey&&(x=H.slice());I.style("pointer-events","none").selectAll(".resize").style("display",null),os.select("body").style("cursor",w.style("cursor")),S({type:"brushstart"}),f()}var s,r,l=_(t,"brushstart","brush","brushend"),p=null,h=null,u=[0,0],c=[0,0],d=!0,g=!0,m=Gl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:u,y:c,i:s,j:r},o=this.__chart__||e;this.__chart__=e,Vl?os.select(this).transition().each("start.brush",function(){s=o.i,r=o.j,u=o.x,c=o.y,t({type:"brushstart"})}).tween("brush:brush",function(){var o=xa(u,e.x),a=xa(c,e.y);return s=r=null,function(i){u=e.x=o(i),c=e.y=a(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,r=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(p=e,m=Gl[!p<<1|!h],t):p},t.y=function(e){return arguments.length?(h=e,m=Gl[!p<<1|!h],t):h},t.clamp=function(e){return arguments.length?(p&&h?(d=!!e[0],g=!!e[1]):p?d=!!e:h&&(g=!!e),t):p&&h?[d,g]:p?d:h?g:null},t.extent=function(e){var o,a,i,n,l;return arguments.length?(p&&(o=e[0],a=e[1],h&&(o=o[0],a=a[0]),s=[o,a],p.invert&&(o=p(o),a=p(a)),o>a&&(l=o,o=a,a=l),(o!=u[0]||a!=u[1])&&(u=[o,a])),h&&(i=e[0],n=e[1],p&&(i=i[1],n=n[1]),r=[i,n],h.invert&&(i=h(i),n=h(n)),i>n&&(l=i,i=n,n=l),(i!=c[0]||n!=c[1])&&(c=[i,n])),t):(p&&(s?(o=s[0],a=s[1]):(o=u[0],a=u[1],p.invert&&(o=p.invert(o),a=p.invert(a)),o>a&&(l=o,o=a,a=l))),h&&(r?(i=r[0],n=r[1]):(i=c[0],n=c[1],h.invert&&(i=h.invert(i),n=h.invert(n)),i>n&&(l=i,i=n,n=l))),p&&h?[[o,i],[a,n]]:p?[o,a]:h&&[i,n])},t.clear=function(){return t.empty()||(u=[0,0],c=[0,0],s=r=null),t},t.empty=function(){return!!p&&u[0]==u[1]||!!h&&c[0]==c[1]},os.rebind(t,l,"on")};var zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Gl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=lr.format=gr.timeFormat,jl=Wl.utc,Zl=jl("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Qn:Zl,Qn.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Qn.toString=Zl.toString,lr.second=Bt(function(t){return new pr(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),lr.seconds=lr.second.range,lr.seconds.utc=lr.second.utc.range,lr.minute=Bt(function(t){return new pr(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),lr.minutes=lr.minute.range,lr.minutes.utc=lr.minute.utc.range,lr.hour=Bt(function(t){var e=t.getTimezoneOffset()/60;return new pr(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),lr.hours=lr.hour.range,lr.hours.utc=lr.hour.utc.range,lr.month=Bt(function(t){return t=lr.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),lr.months=lr.month.range,lr.months.utc=lr.month.utc.range;var El=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Rl=[[lr.second,1],[lr.second,5],[lr.second,15],[lr.second,30],[lr.minute,1],[lr.minute,5],[lr.minute,15],[lr.minute,30],[lr.hour,1],[lr.hour,3],[lr.hour,6],[lr.hour,12],[lr.day,1],[lr.day,2],[lr.week,1],[lr.month,1],[lr.month,3],[lr.year,1]],Yl=Wl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Te]]),Ul={range:function(t,e,o){return os.range(Math.ceil(t/o)*o,+e,o).map(Kn)},floor:v,ceil:v};Rl.year=lr.year,lr.scale=function(){return Jn(os.scale.linear(),Rl,Yl)};var Xl=Rl.map(function(t){return[t[0].utc,t[1]]}),Ql=jl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Te]]);Xl.year=lr.year.utc,lr.scale.utc=function(){return Jn(os.scale.linear(),Xl,Ql)},os.text=kt(function(t){return t.responseText}),os.json=function(t,e){return Tt(t,"application/json",ts,e)},os.html=function(t,e){return Tt(t,"text/html",es,e)},os.xml=kt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(os):"object"==typeof module&&module.exports&&(module.exports=os),this.d3=os}();var Infogram=Infogram||{};Infogram.ToolTip=function(t){var e={parentElem:"#overlay",template:'<div class="tt_tooltip"><div class="tt_body"><span class="tt_ico"></span><div class="tt_text_wrap"><div class="tt_text"></div><div class="tt_value"></div></div></div><div class="tt_left"></div><div class="tt_right"></div></div>'};this.$=jQuery,this.opts=this.$.extend(!0,{},e,t),this.init()},Infogram.ToolTip.arrowHalfHeight=8,Infogram.ToolTip.cursorOffset=20,Infogram.ToolTip.maxWidthRatio=.4,Infogram.ToolTip.prototype={init:function(){return"function"==typeof this.opts.escapeFn&&(this.escape=this.opts.escapeFn.bind(this)),this.self=this.$(this.opts.template),this.selfValue=this.self.find(".tt_value"),this.selfText=this.self.find(".tt_text"),this.leftArrow=this.self.find(".tt_left"),this.rightArrow=this.self.find(".tt_right"),this.ico=this.self.find(".tt_ico"),this.setValue(this.opts.value),this.setText(this.opts.text),this.setParent(),this.opts.pos?this.setPosition(this.opts.pos,this.opts.color):this},setParent:function(){this.parent=this.$(this.opts.parentElem),this.parent.append(this.self),this.self.css({visibility:"hidden",maxWidth:this.parent.width()*Infogram.ToolTip.maxWidthRatio})},setOptions:function(t){var e={text:"setText",value:"setValue",position:"setPosition",pos:"setPosition"};Object.keys(e).forEach(function(o){t.hasOwnProperty(o)&&("position"===o||"pos"===o?this.setPosition(t[o],t.color):this[e[o]](t[o]))},this)},setPosition:function(t,e){0===this.parent.length&&this.setParent(),e&&this.setColor(e);var o={left:t.x-this.parent.offset().left,top:t.y-this.parent.offset().top-this.self.height()/2};return o.left>this.parent.width()/2?(o.left-=this.self.width()+Infogram.ToolTip.cursorOffset,this.leftArrow.css("display","none"),this.rightArrow.css("display","block")):(o.left+=Infogram.ToolTip.cursorOffset,this.leftArrow.css("display","block"),this.rightArrow.css("display","none")),o.left=parseInt(o.left,10),this.self.css(o),this.show()},setColor:function(t){this.ico.css({"background-color":t}),this.self.addClass("tt_color")},remove:function(){return this.self.remove(),this},escape:function(t){return t},setText:function(t){return t=this.escape(t),this.selfText.html(t),this.emptyCheck(),this},setValue:function(t){return t=this.escape(t),this.selfValue.html(t),this.emptyCheck(),this},emptyCheck:function(){""===this.selfText.html()&&""===this.selfValue.html()&&this.selfText.html("Â ")},hide:function(){return this.self.removeClass("tt_color"),this.self.css({visibility:"hidden"}),this},show:function(){return this.self.find(".tt_left, .tt_right").css({top:this.self.height()/2-Infogram.ToolTip.arrowHalfHeight}),this.self.css({visibility:"visible"}),this}},function(t,e){"use strict";function o(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])}function a(t){return"number"==typeof t&&isNaN(t)||null===t||"undefined"==typeof t||""===t}function i(t){return!a(t)&&!isNaN(Number(t))}function n(t,e){return arguments.length<2&&(e=""),a(t)?e:t}!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;o="undefined"!=typeof t?t:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o=o.d3||(o.d3={}),o=o.layout||(o.layout={}),o.cloud=e()}}(function(){var t;return function e(t,o,a){function i(s,r){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(n)return n(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var h=o[s]={exports:{}};t[s][0].call(h.exports,function(e){var o=t[s][1][e];return i(o?o:e)},h,h.exports,e,t,o,a)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(t,e,o){function a(t){return t.text}function i(){return"serif"}function n(){return"normal"}function s(t){return Math.sqrt(t.value)}function r(){return 30*(~~(6*Math.random())-3)}function l(){return 1}function p(t,e,o,a){if(!e.sprite){var i=t.context,n=t.ratio;i.clearRect(0,0,(y<<5)/n,q/n);var s=0,r=0,l=0,p=o.length;for(--a;++a<p;){e=o[a],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/n)+"px "+e.font;var h=i.measureText(e.text+"m").width*n,u=e.size<<1;if(e.rotate){var c=Math.sin(e.rotate*x),d=Math.cos(e.rotate*x),g=h*d,m=h*c,f=u*d,b=u*c;h=Math.max(Math.abs(g+b),Math.abs(g-b))+31>>5<<5,u=~~Math.max(Math.abs(m+f),Math.abs(m-f))}else h=h+31>>5<<5;if(u>l&&(l=u),s+h>=y<<5&&(s=0,r+=l,l=0),r+u>=q)break;i.translate((s+(h>>1))/n,(r+(u>>1))/n),e.rotate&&i.rotate(e.rotate*x),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=h,e.height=u,e.xoff=s,e.yoff=r,e.x1=h>>1,e.y1=u>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,s+=h}for(var v=i.getImageData(0,0,(y<<5)/n,q/n).data,w=[];--a>=0;)if(e=o[a],e.hasText){for(var h=e.width,S=h>>5,u=e.y1-e.y0,C=0;u*S>C;C++)w[C]=0;if(s=e.xoff,null==s)return;r=e.yoff;for(var I=0,_=-1,k=0;u>k;k++){for(var C=0;h>C;C++){var T=S*k+(C>>5),M=v[(r+k)*(y<<5)+(s+C)<<2]?1<<31-C%32:0;w[T]|=M,I|=M}I?_=k:(e.y0++,u--,k--,r++)}e.y1=e.y0+_,e.sprite=w.slice(0,(e.y1-e.y0)*S)}}}function h(t,e,o){o>>=5;for(var a,i=t.sprite,n=t.width>>5,s=t.x-(n<<4),r=127&s,l=32-r,p=t.y1-t.y0,h=(t.y+t.y0)*o+(s>>5),u=0;p>u;u++){a=0;for(var c=0;n>=c;c++)if((a<<l|(n>c?(a=i[u*n+c])>>>r:0))&e[h+c])return!0;h+=o}return!1}function u(t,e){var o=t[0],a=t[1];e.x+e.x0<o.x&&(o.x=e.x+e.x0),e.y+e.y0<o.y&&(o.y=e.y+e.y0),e.x+e.x1>a.x&&(a.x=e.x+e.x1),e.y+e.y1>a.y&&(a.y=e.y+e.y1)}function c(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function d(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function g(t){var e=4,o=e*t[0]/t[1],a=0,i=0;return function(t){var n=0>t?-1:1;switch(Math.sqrt(1+4*n*t)-n&3){case 0:a+=o;break;case 1:i+=e;break;case 2:a-=o;break;default:i-=e}return[a,i]}}function m(t){for(var e=[],o=-1;++o<t;)e[o]=0;return e}function f(){return document.createElement("canvas")}function b(t){return"function"==typeof t?t:function(){return t}}var v=t("d3-dispatch").dispatch,x=Math.PI/180,y=64,q=2048;e.exports=function(){function t(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(y<<5)/e,t.height=q/e;var o=t.getContext("2d");return o.fillStyle=o.strokeStyle="red",o.textAlign="center",{context:o,ratio:e}}function e(t,e,o){for(var a,i,n,s=([{x:0,y:0},{x:g[0],y:g[1]}],e.x),r=e.y,l=Math.sqrt(g[0]*g[0]+g[1]*g[1]),p=M(g),u=1,d=-u;(a=p(d+=u))&&(i=~~a[0],n=~~a[1],!(Math.min(Math.abs(i),Math.abs(n))>=l));)if(e.x=s+i,e.y=r+n,(!o||!h(e,t,g[0]))&&(!o||c(e,o))){for(var m,f=e.sprite,b=e.width>>5,v=g[0]>>5,x=e.x-(b<<4),y=127&x,q=32-y,w=e.y1-e.y0,S=(e.y+e.y0)*v+(x>>5),C=0;w>C;C++){m=0;for(var I=0;b>=I;I++)t[S+I]|=m<<q|(b>I?(m=f[C*b+I])>>>y:0);S+=v}return delete e.sprite,!0}return!1}var o,g=[256,256],x=a,S=i,C=s,I=n,_=n,k=r,T=l,M=d,L=[],H=1/0,D=v("word","end"),O=null,V=Math.random,F={},$=f;return F.canvas=function(t){return arguments.length?($=b(t),F):$},F.start=function(){function a(){for(var t=Date.now();Date.now()-t<H&&++l<r&&O;){var a=c[l];o?(a.x=o[0],a.y=o[1]):(a.x=g[0]*(Math.random()+.5)>>1,a.y=g[1]*(Math.random()+.5)>>1),p(i,a,c,l),
a.hasText&&e(n,a,s)&&(h.push(a),D.word(a),s?u(s,a):s=[{x:a.x+a.x0,y:a.y+a.y0},{x:a.x+a.x1,y:a.y+a.y1}],a.x-=g[0]>>1,a.y-=g[1]>>1)}l>=r&&(F.stop(),D.end(h,s))}var i=t($()),n=m((g[0]>>5)*g[1]),s=null,r=L.length,l=-1,h=[],c=L.map(function(t,e){return t.text=x.call(this,t,e),t.font=S.call(this,t,e),t.style=I.call(this,t,e),t.weight=_.call(this,t,e),t.rotate=k.call(this,t,e),t.size=~~C.call(this,t,e),t.padding=T.call(this,t,e),t}).sort(function(t,e){return e.size-t.size});return O&&clearInterval(O),O=setInterval(a,0),a(),F},F.stop=function(){return O&&(clearInterval(O),O=null),F},F.timeInterval=function(t){return arguments.length?(H=null==t?1/0:t,F):H},F.words=function(t){return arguments.length?(L=t,F):L},F.size=function(t){return arguments.length?(g=[+t[0],+t[1]],F):g},F.startPoint=function(t){return arguments.length?(o=[+t[0],+t[1]],F):o},F.font=function(t){return arguments.length?(S=b(t),F):S},F.fontStyle=function(t){return arguments.length?(I=b(t),F):I},F.fontWeight=function(t){return arguments.length?(_=b(t),F):_},F.rotate=function(t){return arguments.length?(k=b(t),F):k},F.text=function(t){return arguments.length?(x=b(t),F):x},F.spiral=function(t){return arguments.length?(M=w[t]||t,F):M},F.fontSize=function(t){return arguments.length?(C=b(t),F):C},F.padding=function(t){return arguments.length?(T=b(t),F):T},F.random=function(t){return arguments.length?(V=t,F):V},F.on=function(){var t=D.on.apply(D,arguments);return t===D?F:t},F};var w={archimedean:d,rectangular:g}},{"d3-dispatch":2}],2:[function(e,o,a){!function(e,i){"object"==typeof a&&"undefined"!=typeof o?i(a):"function"==typeof t&&t.amd?t(["exports"],i):i(e.dispatch={})}(this,function(t){function e(t){function e(t){var e=(t+="").indexOf("."),o=t;if(e>=0?t=t.slice(0,e):o+=".",t&&!s.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:o}}function o(t){return function(){for(var e,o,a=s[t],i=-1,n=a.length;++i<n;)(o=(e=a[i]).value)&&o.apply(this,arguments);return l}}var a,i=-1,n=t.length,s={},r={},l=this;for(l.on=function(t,o){if(t=e(t),arguments.length<2)return(o=r[t.name])&&o.value;if(t.type){var a,i=s[t.type],n=r[t.name];n&&(n.value=null,a=i.indexOf(n),s[t.type]=i=i.slice(0,a).concat(i.slice(a+1)),delete r[t.name]),o&&(o={value:o},r[t.name]=o,i.push(o))}else if(null==o)for(var p in s)if(o=r[p+t.name]){o.value=null;var i=s[p],a=i.indexOf(o);s[p]=i.slice(0,a).concat(i.slice(a+1)),delete r[o.name]}return l};++i<n;){if(a=t[i]+"",!a||a in l)throw new Error("illegal or duplicate type: "+a);s[a]=[],l[a]=o(a)}}function o(){return new e(arguments)}o.prototype=e.prototype,t.dispatch=o})},{}]},{},[1])(1)}),SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(t){return t.getScreenCTM().inverse().multiply(this.getScreenCTM())};var s=1e-6,r=360*Math.PI/180,l={median:function(t){var e=t.slice(0).sort(function(t,e){return t-e}),o=0,a=e.length;return 0===a?0:1===a?e[0]:a%2?(o=a/2-.5+1,e[o]):(o=a/2,(e[o-1]+e[o])/2)},average:function(t){var e=t.length,o=0;if(0===e)return 0;for(var a=0;e>a;a++)o+=t[a];return o/e},closest:function(t,e){for(var o=e[0],a=Math.abs(t-o),i=e.length,n=1;i>n;n++){var s=Math.abs(t-e[n]);a>s&&(a=s,o=e[n])}return o},isPointInsideBBox:function(t,e,o){return e>=t.x&&e<=t.x2&&o>=t.y&&o<=t.y2},isBBoxIntersect:function(t,e){var o=l.isPointInsideBBox;return o(e,t.x,t.y)||o(e,t.x2,t.y)||o(e,t.x,t.y2)||o(e,t.x2,t.y2)||o(t,e.x,e.y)||o(t,e.x2,e.y)||o(t,e.x,e.y2)||o(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},fitToSize:function(t,e,o,a){var i=t/e;return(t>o||a>e)&&(t=o,e=t/i),(e>a||o>t)&&(e=a,t=e*i),{width:t,height:e}},preciseNumber:function(t){var e=1e6;return Math[0>t?"ceil":"floor"](t*e)/e}},p={getTextDimensions:function(t,e,o){var a={width:0,height:0};t.constructor!==Array&&(t=[t]);var i=e.append("text").attr("x","99999");return"object"==typeof o&&i.style(o),t.forEach(function(t){i.text(t);var e=i.node().getBBox();e.width>a.width&&(a.width=e.width),e.height>a.height&&(a.height=e.height)}),i.remove(),a},getAllTextDimensions:function(t,e,o){var a=[];return t.constructor!==Array&&(t=[t]),t.forEach(function(t){var i=this.getTextDimensions(t,e,o);a.push(i)},this),a},measureTextHtml:function(t,e){var o=[];return t.constructor!==Array&&(t=[t]),e=$(e),t.forEach(function(t){e.text(t);var a={width:e.outerWidth(),height:e.outerHeight()};o.push(a)}),o},measurePath:function(t,e){var o=e.append("path").attr("transform","translate(99999, 0)").attr("d",t),a=this.extendBBox(o.node().getBBox());return o.remove(),a},getColumnCountByAverage:function(t,e){var o=l.average(e),a=l.closest(o,e),i=e.slice(0).sort(function(t,e){return t-e}),n=i.length,s=0,r=0;i.forEach(function(t,e){a>=t&&s++,a===t&&(r=e)});var p=n-s,h=0;p>s&&(h=p-s,r+=h,a=i[r]);var u=Math.floor(t/a);return 0===u&&(u=1),u},getColor:function(t,e){return e&&e.length||(e=d3.scale.category20().range()),e[t%e.length]},hasRepeatingValues:function(t){for(var e={},o=0,a=t.length;a>o;o++){if(t[o]in e)return!0;e[t[o]]=t[o]}return!1},genId:function(t,e){return e=e||"id",function(){return t++,e+"-"+t}},limitTextArr:function(t,e,o,a){var i=e.append("text").attr("x","99999");return"object"==typeof a&&i.style(a),t.forEach(function(e,a){t[a]=p.limitText(e,i,o)}),i.remove(),t},limitText:function(t,e,o,a){return a&&(t=t.substring(0,t.length-3)),""===t?a?"...":t:(e.text(t+(a?"...":"")),e.node().getBBox().width>o?p.limitText(t.substring(0,t.length-1)+"...",e,o,!0):a?t+"...":t)},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},isBlank:function(t){return"number"==typeof t&&isNaN(t)||null===t||"undefined"==typeof t||""===t},replaceBlank:function(t,e){return arguments.length<2&&(e=""),p.isBlank(t)?e:t},getMousePosition:function(t){return{x:t.clientX+$(document).scrollLeft()||0,y:t.clientY+$(document).scrollTop()||0}},extendBBox:function(t){return{x:t.x,y:t.y,x2:t.x+t.width,y2:t.y+t.height,width:t.width,height:t.height}},compare:function(t,e,o){var a,i=t.length,n=i===e.length;if(n)for(a=0;i>a;a++)if(!o(t[a],e[a])){n=!1;break}return n},requestAnimationFrame:function(){return(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}).bind(t)}()},h={columnToTop:function(t,e,o,a,i){var n=a>=0;if(n)i>a&&(a=1>a?1:a,i=a);else{var s=Math.abs(a);i>s&&(a=1>s?-1:a,i=s)}return i>o&&(i=0),n?"M"+t+","+e+"v"+(i-a)+"a"+i+","+i+" 0 0 1 "+i+","+-i+"h"+(o-2*i)+"a"+i+","+i+" 0 0 1 "+i+","+i+"v"+(a-i)+"z":"M"+t+","+e+"v"+-(a+i)+"a"+i+","+i+" 0 0 0 "+i+","+i+"h"+(o-2*i)+"a"+i+","+i+" 0 0 0 "+i+","+-i+"v"+(a+i)+"z"},bowToTop:function(t,e,o,a){var i=e-a,n=t+o;return"M"+t+","+e+"L"+n+","+e+"L"+t+","+i+"L"+n+","+i+"Z"},triangleToTop:function(t,e,o,a){var i=t+o,n=e-a;return"M"+t+","+e+"L"+(t+o/2)+","+n+"L"+i+","+e+"Z"},curveToTop:function(t,e,o,a){var i=e-a,n=t+o/2,s=t+o;return"M"+t+","+e+"C"+t+","+i+","+(n-2)+","+i+","+n+","+i+"C"+(n+2)+","+i+","+s+","+i+","+s+","+e+"Z"},barToRight:function(t,e,o,a,i){var n=o>=0;if(n)i>o&&(o=1>o?1:o,i=o);else{var s=Math.abs(o);i>s&&(o=1>s?-1:o,i=s)}return i>a&&(i=0),n?"M"+t+","+e+"h"+(o-i)+"a"+i+","+i+" 0 0 1 "+i+","+i+"v"+(a-2*i)+"a"+i+","+i+" 0 0 1 "+-i+","+i+"h"+(i-o)+"z":"M"+t+","+e+"h"+(o+i)+"a"+i+","+i+" 0 0 0 "+-i+","+i+"v"+(a-2*i)+"a"+i+","+i+" 0 0 0 "+i+","+i+"h"+-(o+i)+"z"},bowToRight:function(t,e,o,a){var i=e+a,n=t+o;return"M"+t+","+e+"L"+t+","+i+"L"+n+","+e+"L"+n+","+i+"Z"},triangleToRight:function(t,e,o,a){var i=t+o,n=e+a;return"M"+t+","+e+"L"+i+","+(e+a/2)+"L"+t+","+n+"Z"},curveToRight:function(t,e,o,a){var i=e+a/2,n=t+o,s=e+a;return"M"+t+","+e+"C"+n+","+e+","+n+","+(i-2)+","+n+","+i+"C"+n+","+(i+2)+","+n+","+s+","+t+","+s+"Z"}},u=t.Infogram||{};t.Infogram=u;var c=u.Charts||{},d=u.Graphs||{},g=u.Elements||{},m=u.Scales||{};u.Charts=c,u.Graphs=d,u.Elements=g,u.Scales=m;var f={};c.CategoryLabels=c.CategoryLabels||{},c.Legend=c.Legend||{},c.version="1.0.14",c.collection=[],c.tooltip=new u.ToolTip({escapeFn:_.escape});var b=p.genId(0,"chart");p.genId(0,"graph");c.render=function(t){t=t||1,c.render.active=!0,setTimeout(function(){for(var e,o=0;t>o&&(e=c.render.queue[o],e);o++)e.render(),-1===c.collection.indexOf(e)&&c.collection.push(e);c.render.queue.splice(0,o),c.render.queue.length?c.render(t):c.render.active=!1},0)},c.render.active=!1,c.render.queue=[],c.create=function(t){var e=p.camelize(t.type);return e=e.charAt(0).toUpperCase()+e.slice(1),new c[e](t)},c.addRenderQueue=function(t){c.render.queue.push(t),c.render.active||c.render()},c.procQueue=function(){function t(t,i,r){var l=o(t);l?(l.stop(),l.assign(i,r),s.splice(l.index,1)):l=new a(t,i,r),l.index=s.push(l)-1,n||e()}function e(){setTimeout(function(){n=!0;for(var t,o=0;1>o&&(t=s[o],t);o++)t.start();s.splice(0,o),s.length?e():n=!1},0)}function o(t){var e,o,a=s.length;for(e=0;a>e;e++)if(o=s[e],o&&o.id===t)return o}function a(t,e,o){return{id:t,start:function(){e()},stop:function(){o()},assign:function(t,e){this.start=function(){t()},this.stop=function(){e()}}}}function i(){}var n=!1,s=[];return{add:t,clear:i}}(),f.Colors={getContrastYIQ:function(t,e,o){var a="#000000",i="#ffffff";t=t,e=e||a,o=o||i;var n=f.Colors.getYIQ(e),s=f.Colors.getYIQ(o),r=f.Colors.getYIQ(t);return n>=128&&(e=a),128>s&&(o=i),r>=128?e:o},getYIQ:function(t){var e=parseInt(t.substr(1,2),16),o=parseInt(t.substr(3,2),16),a=parseInt(t.substr(5,2),16);return(299*e+587*o+114*a)/1e3},rgbaToString:function(t){return t.hasOwnProperty("a")?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":"rgb("+t.r+","+t.g+","+t.b+")"},rgbStrToRgbaStr:function(t,e){var o=d3.rgb(t);return o.a=e,f.Colors.rgbaToString(o)}},f.Text={wrap:function(t,e,o){t.each(function(){var t=d3.select(this);f.Text.wrapText(t,e,o)})},wrapText:function(t,e,o){var a,i,n,s,r,l=f.Text.trim(t.text()).split(/\s+/).reverse(),p=l.pop(),h=[],u=0,c=t.attr("y"),d=t.attr("x"),g=isNaN(parseFloat(t.attr("dy")))?0:parseFloat(t.attr("dy"));for(e=Math.round(e),t.text(null),a=function(e,a){return t.append("tspan").attr("text-anchor","end").attr("x",d).attr("y",c).attr("dy",e*o+g).text(a)},i=a(u,"");p;)if(h.push(p),i.text(h.join(" ")),n=Math.round(i.node().getComputedTextLength()),e>=n)p=l.pop();else{if(1===h.length){if(s=f.Text.breakWord(i,p,e),""===s){p=s;continue}r=p.substr(s.length,p.length-s.length),p=r}else p=h.pop(),i.text(h.join(" "));h=[],i=a(++u,"")}},breakWord:function(t,e,o){for(t.text(e);Math.round(t.node().getComputedTextLength())>o;)e=e.substr(0,e.length-1),t.text(e);return e},trim:function(t){return t.replace(/^\s+|\s+$/gm,"")},lineHeight:function(t){var e=0,o=t.parentNode,a=t.cloneNode();return a.innerHTML="<br>",o.appendChild(a),e=a.offsetHeight,o.removeChild(a),e}},f.Measure={wrappedText:function(t,e,o,a,i){var n,r={width:0,height:0};return arguments.length<5&&(i=p.getTextDimensions(o,t,a).height),n=t.selectAll(".fm-text-tick").data(o),n.enter().append("text").attr("class","fm-text-tick"),n.style(a),n.text(function(t){return t}).attr("x",0).attr("text-anchor","end").style("opacity",s),f.Text.wrap(n,e,i),r.height=d3.max(n,function(t){return d3.max(t,function(t){return t.getBBox().height})}),r.width=d3.max(n,function(t){return d3.max(t,function(t){return t.getBBox().width})}),n.remove(),r}},c.Axis=function(){function t(t){t.each(function(){var t=d3.select(this),o=this.__chart__||i,l=this.__chart__=i.copy(),p=c.Axis.ticks(l,h,u);if(y){var q=c.Axis.extraTick(l,p);p.push(q)}var w,S=t.selectAll(".tick").data(p,l),C=S.enter().insert("g").attr("class","tick").style("opacity",s),I=d3.transition(S.exit()).style("opacity",s).remove(),_=d3.transition(S.order()).style("opacity",1);(null===a||a===e)&&(a=c.Axis.tickFormat(l,h)),g&&C.append("line"),C.append("text");var k,T,M,L,H=C.select("line"),D=_.select("line"),O=S.select("text").text(a),V="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(w=c.Axis.axisX,k="x",M="y",T="x2",L="y2",O.attr("dx",d).attr("text-anchor","end")):(w=c.Axis.axisY,k="y",M="x",T="y2",L="x2",O.attr("dy",d).attr("text-anchor",0>V?"start":"end")),O.style(f).attr("fill",f.color),H.attr(L,V*r),D.attr(T,0).attr(L,V*r),l.rangeBand){var F=l,$=F.rangeBand()/2;o=l=function(t){return F(t)+$}}else o.rangeBand?o=l:I.call(w,l,o,b);C.call(w,o,l,b),_.call(w,l,l,b),_.call(function(t){t.each(function(t,e){var o={opacity:.5,stroke:f.color},a=1;0===t&&m&&(o.opacity=1),-1!==v.indexOf(e)&&(o.opacity=0),-1!==x.indexOf(e)&&(a=s),d3.select(this).select("line").style(o),d3.select(this).select("text").style("opacity",a)})})})}var a,i=d3.scale.linear(),n=c.Axis.DEFAULT_ORIENT,r=6,l=6,p=3,h=[10],u=null,d=0,g=!0,m=!1,f=c.Chart.defaults().style.axisTick,b={left:0,top:0},v=[],x=[],y=!1,q={scale:function(e){return arguments.length?(i=e,t):i},orient:function(e){return arguments.length?(n=e in c.Axis.ORIENTS?e+"":c.Axis.DEFAULT_ORIENT,t):n},ticks:function(){return arguments.length?(h=arguments,t):h},tickValues:function(e){return arguments.length?(u=e,t):u},tickFormat:function(e){return arguments.length?(a=e,t):a},tickSize:function(e){var o=arguments.length;return o?(r=+e,l=+arguments[o-1],t):r},innerTickSize:function(e){return arguments.length?(r=+e,t):r},outerTickSize:function(e){return arguments.length?(l=+e,t):l},tickPadding:function(e){return arguments.length?(p=+e,t):p},tickSubdivide:function(){return arguments.length&&t},textOffset:function(e){return arguments.length?(d=+e,t):d},drawLines:function(e){return arguments.length?(g=!!e,t):g},style:function(e){return arguments.length?(f=e,t):f},offset:function(e){return arguments.length?(b.left="number"==typeof e.left?e.left:b.left,b.top="number"==typeof e.top?e.top:b.top,t):b},highlightZero:function(e){return arguments.length?(m=!!e,t):m},hideLinesByIndex:function(e){return arguments.length?(v=e.slice(0),t):v},hideTicksByIndex:function(e){return arguments.length?(x=e.slice(0),t):x},drawExtraLine:function(e){return arguments.length?(y=!!e,t):y},getBorderingTick:function(){var t=i.copy(),e=c.Axis.ticks(t,h,u).slice(0);if(y){var o=c.Axis.extraTick(t,e);e.push(o)}e=e.filter(function(t,e){return-1===x.indexOf(e)}),e=e.sort(function(e,o){return t(o)-t(e)});var a=e.length;return t(e[a-1])}};return o(t,q),t},c.Axis.DEFAULT_ORIENT="bottom",c.Axis.ORIENTS={top:1,right:1,bottom:1,left:1},c.Axis.axisX=function(t,e,o,a){t.attr("transform",function(t){var i=e(t);return"translate("+(a.left+(isFinite(i)?i:o(t)))+","+a.top+")"})},c.Axis.axisY=function(t,e,o,a){t.attr("transform",function(t){var i=e(t);return"translate("+a.left+","+(a.top+(isFinite(i)?i:o(t)))+")"})},c.Axis.scaleExtent=function(t){var e=t[0],o=t[t.length-1];return o>e?[e,o]:[o,e]},c.Axis.scaleRange=function(t){return t.rangeExtent?t.rangeExtent():c.Axis.scaleExtent(t.range())},c.Axis.tickFormat=function(t,e){return t.tickFormat?t.tickFormat.apply(t,e):function(t){return t}},c.Axis.ticks=function(t,e,o){return null===o?t.ticks?t.ticks.apply(t,e):t.domain():o},c.Axis.extraTick=function(t,e){var o=e.slice(0),a=o.pop(),i=o.pop();return i||0===i||(i=a/2),a+Math.abs(a-i)},c.Label=function(){function t(t){t.each(function(){var t=d3.select(this),o=t.selectAll("text").data([0]);o.exit().remove(),o.enter().insert("text");var r=i.x1,l=i.y1+(i.y2-i.y1)/2;("top"===a||"bottom"===a)&&(r=i.x1+(i.x2-i.x1)/2),"top"===a&&(l=i.y1),"right"===a&&(r=i.x1+(i.x2-i.x1)),"bottom"===a&&(l=i.y1+(i.y2-i.y1)),o.text(e),c.Label.adjust(o,r,l,a),o.style(n).attr("x",r).attr("y",l).style("opacity",s).attr("fill",n.color).attr("text-anchor","middle"),o.transition().style("opacity",1)})}var e="",a=c.Label.DEFAULT_ORIENT,i={x1:0,y1:0,x2:100,y2:100},n=c.Chart.defaults().style.axisTitle,r={text:function(o){return arguments.length?(e=o,t):e},orientBounds:function(e){return arguments.length?(i=e,t):i},orient:function(e){return arguments.length?(a=e in c.Label.ORIENTS?e+"":c.Label.DEFAULT_ORIENT,t):a},style:function(e){return arguments.length?(n=e,t):n}};return o(t,r),t},c.Label.DEFAULT_ORIENT="left",c.Label.ORIENTS={top:1,right:1,bottom:1,left:1},c.Label.adjust=function(t,e,o,a){var i=t.node().getBBox();"left"===a&&(t.attr("dy",i.height),t.attr("transform","rotate(270,"+e+","+o+")")),"right"===a&&(t.attr("dy",-(i.height-i.height/4-5)),t.attr("transform","rotate(270,"+e+","+o+")")),"top"===a&&t.attr("dy",i.height),"bottom"===a&&t.attr("dy",-5)},c.DataImporter=function(){function t(t){this.emptySheet=t.chart.emptySheetData(),this.options=t.chart.options;var e="lastDelimiter";".,"===t.decimalSeparator&&(e="legacy"),this.toNumber=new o(e,t.decimalSeparator)}function o(t,e){e=","===e?",":".";var o=this.PARSERS[t]||this.PARSERS.lastDelimiter;return this.toNumberFn(o,e)}function a(t,e){return{addCategory:function(e){var o=t.categories.data,a=o.indexOf(e);return-1===a&&(a=o.length,o.push(e)),a},addSeries:function(o){var a=t.series[o];return a||(a=t.series[o]=$.extend(!0,{},e),a.data||(a.data=[]),a.rawData||(a.rawData=[])),a}}}var i=p.replaceBlank,n=p.isBlank;return t.prototype={importFunctionMap:{singleSheet:{types:["bar","column","pie","pictorial-grid","treemap","wordcloud"],fn:function(t){t.length>1?this.sheetIterator(t,function(t){this.singleSheetItem(t)}):this.singleSheetItemOnly(t[0])}},multiSheet:{types:["line","dot-plot","area","area-stacked","area-stepped","stream-graph","column-grouped","column-stacked","bar-grouped","bar-stacked"],fn:function(t){this.sheetIterator(t,function(t){this.multiSheetItem(t)})}},doubleAxis:{types:["double"],fn:function(t){this.sheetIterator(t,function(t){this.doubleAxisSheetItem(t)})}},timer:{types:["timer"],fn:function(t){this.sheetIterator(t,this.timerSheetItem)}},scatter:{types:["scatter","bubble"],fn:function(t){this.sheetIterator(t,function(t){this.scatterSheetItem(t)})}}},findImportFn:function(t){var e,o;for(e in this.importFunctionMap)if(o=this.importFunctionMap[e],-1!==o.types.indexOf(t))return o.fn},"import":function(t){var e;t&&0!==t.length&&(e=this.findImportFn(this.options.type),e&&(this.options.sheets=[],e.call(this,t)))},singleSheetItem:function(t){var e,o,a=this.emptySheet,n=t.length,s=1;if(0!==n){var r=$.extend(!0,{},a),l=r.series[0],p=r.categories.data=[];for(r.categories.title=""+i(t[0][1]),l.data=[],l.rawData=[];n>s;s++)e=t[s],o=e.length,0!==o&&(p.push(""+i(e[0])),l.data.push(Number(this.toNumber(e[1]))),l.rawData.push(e[1]));this.isSeriesDataValid(l.data)&&this.options.sheets.push(r)}},singleSheetItemOnly:function(t){var e,o,a,n,s,r=this.options,l=[],p=[],h=t[0],u=t.length,c=_.reduce(t,function(t,e){return Math.max(t,e.length)},0);for(e=1;u>e;e++)if(a=t[e],0!==a.length)for(l.push(""+i(a[0])),o=1;c>o;o++)s=p[o-1],n=a[o],s||(s=p[o-1]=$.extend(!0,{},this.emptySheet),s.categories.data=[],s.categories.title=""+i(h[o]),s.series[0].data=[],s.series[0].rawData=[]),s.series[0].data.push(Number(this.toNumber(n))),s.series[0].rawData.push(n);p.forEach(function(t){t.categories.data=l.slice(0)}),r.sheets=p.filter(function(t){return this.isSeriesDataValid(t.series[0].data)},this)},multiSheetItem:function(t){var e,o,a=this.options,n=this.emptySheet,s=t.length,r=1,l=0,p=$.extend(!0,{},n),h=p.series.pop();if(0===s)return void a.sheets.push($.extend(!0,p,{categories:{title:"",data:[]},series:[$.extend(!0,h,{data:[],rawData:[]})]}));for(o=t[0].map(function(t){return i(t,"")}),p.categories.title=""+i(o[0]),p.categories.data=o.slice(1);s>r;r++){e=t[r];var u=e.length;if(u){var c=$.extend(!0,{},h,{title:""+i(e[0]),data:[],rawData:[]});l=Math.max(l,u-1);for(var d=1;u>d;d++)c.data.push(Number(this.toNumber(e[d]))),c.rawData.push(e[d]);this.isSeriesDataValid(c.data)&&p.series.push(c)}}for(r=0;l>r;r++)p.categories.data[r]=i(p.categories.data[r]);a.sheets.push(p)},doubleAxisSheetItem:function(t){var e=$.extend(!0,{},this.emptySheet);e.series[0].data||(e.series[0].data=[]),e.series[0].rawData||(e.series[0].rawData=[]),e.series[1].data||(e.series[1].data=[]),e.series[1].rawData||(e.series[1].rawData=[]),e.categories.data||(e.categories.data=[]),t.forEach(function(t,o){var a;if(0===o)e.categories.title=t[0],e.axis[0].title=t[1],e.axis[1].title=t[2],e.axis[0].ticks=e.axis[1].ticks=!0;else{if(a=t[0],n(a))return;e.categories.data.push(""+a),e.series[0].data.push(Number(this.toNumber(t[1]))),e.series[0].rawData.push(t[1]),e.series[1].data.push(Number(this.toNumber(t[2]))),e.series[1].rawData.push(t[2])}},this),this.options.sheets.push(e)},scatterSheetItem:function(t){var o,i=$.extend(!0,{},this.emptySheet),n=$.extend(!0,{},i.series[0]),s=t[0];i.series=[],i.categories.data||(i.categories.data=[]),o=a(i,n),i.categories.title=s[0],i.categories.valueLabel=s[3],i.axis[0].valueLabel=s[1],i.axis[1].valueLabel=s[2],t.slice(1).forEach(function(t){var a=t[4]?4:0,i=4===a?0:4,n=t[a],s=t[i],r=t[1],l=t[2],p=t[3],h=o.addCategory(n),u=o.addSeries(h),c=[Number(this.toNumber(r)),Number(this.toNumber(l))],d=[r,l];p!==e&&null!==p&&(d[2]=p,c[2]=Number(this.toNumber(p))),s!==e&&null!==s&&(d[3]=s),u.data.push(c),u.rawData.push(d)},this),this.options.sheets.push(i)},timerSheetItem:function(t){var e=t[0],o=!e[14]||"1"===e[14],a=this.options.sheets.push({value:new Date([e[2],e[3],e[1]].join("/")+" "+e.slice(4,7).join(":")),valueString:e[0],units:e.slice(8,14),mode:e[7],categories:{colors:this.options.colors,title:o?e[0]:!1}});this.options.sheets[a-1].id=a.toString()},sheetIterator:function(t,e){t.forEach(e,this)},isSeriesDataValid:function(t){var e=t.length,o=0,a=0;if(0===e)return!1;for(a=0;e>a;a++)isNaN(t[a])&&o++;return o===e?!1:!0}},o.prototype={PARSERS:{lastDelimiter:function(t,e){var o=1;if("string"==typeof t){o="-"===t[0]?-1:1;var a="."===e?"\\.":",",i=new RegExp("[^0-9"+a+"]","g"),n=new RegExp(a+"(?![^"+a+"]+$)","g"),s=new RegExp(a,"g");t=t.replace(i,""),t=t.replace(n,""),t=t.replace(s,".")}return parseFloat(t)*o},legacy:function(t){var e=1;return"string"==typeof t&&(e="-"===t[0]?-1:1,-1!==t.indexOf(",")&&(t=t.replace(/,/g,".")),t=t.replace(/\.(?![^.]+$)/g,""),t=t.replace(/[^0-9\.]/g,"")),parseFloat(t)*e}},toNumberFn:function(t,e){return function(t,e){return function(o){return t(o,e)}}(t,e)}},{create:function(e){return new t(e)},NumberParser:o}}(),c.Legend.Legend=function(){function t(o){o.each(function(){var o=d3.select(this);o.style({width:i+"px","margin-left":a.left+"px"});var l=o.selectAll(".igc-legend-entry").data(e);l.exit().remove();var h=l.enter().append("div").attr("class","igc-legend-entry");h.append("span").attr("class","igc-legend-ico"),h.append("span").attr("class","igc-legend-label");var u=d3.rgb(n.color),c=d3.rgb(n.color);c.a=.7,u=p.rgbaToString(u),c=p.rgbaToString(c),l.on("mouseover",function(e,o){var a=_.has(e,"groupId")?e.groupId:o;d3.select(this).select(".igc-legend-label").style("color",u),t.sendListeners(a,r,"highlightStart")}).on("mouseout",function(e,o){var a=_.has(e,"groupId")?e.groupId:o;d3.select(this).select(".igc-legend-label").style("color",c),t.sendListeners(a,r,"highlightEnd")}),l.style("max-width",s.width+"px");var d=o.selectAll(".igc-legend-ico").data(e);d.style("background-color",function(t){return t.color});var g=o.selectAll(".igc-legend-label").data(e);g.text(function(t){return t.title}).style(n).style("color",c).style("height",s.label.height+"px").style("max-width",s.label.width+"px")})}var e=[],a={left:0,top:0},i=300,n={},s=null,r=1,l={},p=f.Colors,h="",u={data:function(o){return arguments.length?(e=o,t):e},offset:function(e){return arguments.length?(a.left="number"==typeof e.left?e.left:a.left,a.top="number"==typeof e.top?e.top:a.top,t):a},width:function(e){return arguments.length?(i=e,t):i},style:function(e){return arguments.length?(n=e,t):n},textMetrics:function(e){return arguments.length?(s=e,t):s},chartId:function(e){return arguments.length?(r=e,t):r},chartType:function(e){return arguments.length?(h=e,t):h},addListener:function(e){return arguments.length?(l[e.id]||(l[e.id]=[]),l[e.id].push(e.dispatch),t):t},sendListeners:function(e,o,a){var i=l[o+"_"+e];return"undefined"==typeof i&&(i=l[o]),i&&0!==i.length?(i.forEach(function(t){t[a](e,o,h)}),t):void 0}};return o(t,u),t},c.Legend.TextItemMetrics=function(){function t(){0===i&&(i=a),i>a&&(i=a);var t=p.measureTextHtml(e,n),o=d3.max(t,function(t){return t.height});return{width:i,label:{width:i-s,height:o+o/4}}}var e=[],a=300,i=0,n=null,s=0,r={texts:function(o){return arguments.length?(e=o.slice(0),t):e},width:function(e){return arguments.length?(a=e,t):a},measureContainer:function(e){return arguments.length?(n=e,t):n},reservedSize:function(e){return arguments.length?(s=e,t):s},maxTextWidth:function(e){return arguments.length?(i=e,t):i}};return o(t,r),t},m.Ordinal=function(){function t(e,o){function a(t){return r[((s.get(t)||NaN)-1)%r.length]}function i(t,o){return d3.range(e.length).map(function(e){return t+o*e})}function n(t){var e=t[0],o=t[t.length-1];return o>e?[e,o]:[o,e]}var s,r,l,p;return a.domain=function(t){if(!arguments.length)return e;e=[],s=d3.map({});for(var i,n=-1,r=t.length;++n<r;)s.has(i=t[n])||s.set(i,e.push(i));return a[o.t].apply(a,o.a)},a.range=function(){return arguments.length?a:r},a.rangeBandsByWidth=function(){p=arguments.length<2?0:arguments[1];var t=arguments[0],i=arguments.length<3?0:arguments[2],n=e.length,s=0,h=1,u=[];for(s+=i,u.push(s),l=t;n>h;)s+=l+p,u.push(s),h++;return r=u,o={t:"rangeBandsByWidth",a:arguments},a},a.rangeBands=function(t){p=arguments.length<2?0:arguments[1];var n=arguments.length<3?0:arguments[2],s=t[1]<t[0],h=t[s-0],u=t[1-s],c=[h,u],d=e.length,g=h,m=1===c.length?c[0]:c[1],f=1,b=[];if(0===d||h===m)return r=[],l=0,p=0,a;var v=m-h,x=v;n&&(x-=2*n,g+=n),l=(x-(d-1)*p)/d;var y,q=.1;if(p>l)y=v/(d-q),r=i(h,y),l=y*(1-q),p=y*q;else{for(b.push(g);d>f;)g+=l+p,b.push(g),f++;r=b}return s&&r.reverse(),o={t:"rangeBands",a:arguments},a},a.rangeBandsCentered=function(t,n,s){arguments.length<3&&(s=0),arguments.length<2&&(n=40);var h,u,c=t[1]<t[0],d=t[c-0]+s,g=t[1-c]-s,m=g-d,f=.15,b=!1,v=e.length,x=v-1;return l=m/v,l>1&&(l=Math.floor(l)),l>n&&(l=n,b=!0),h=m-l*v,p=b?h/2/x*f:h/x,isFinite(p)||(p=0),u=l+p,d+=b?(h-p*x)/2:0,r=i(d,u),c&&r.reverse(),o={t:"rangeBandsCentered",a:arguments},a},a.rangeBand=function(){return l},a.rangeExtent=function(){return n(o.a[0])},a.padding=function(){return p},a.copy=function(){return t(e,o)},a.domain(e)}return t([],{t:"rangeBandsCentered",a:[[]]})},c.Crosshair=function(){function t(t,e){var o;return e.invert?(o=e.invert(t),[{pos:t,posValue:o}]):n(t,e)}function e(){var e,o,a,i,n,p=d3.mouse(this),h=t(p[0],f),u=t(p[1],b),c=b,d=s({x:h[0].posValue,y:u[0].posValue}),g=l.getBoundingClientRect();if(null!==d&&d!==M)if(M=d,"y1"===M.scale&&r&&(c=r),i=f(M.x),n=c(M.y),w=M.colors[0],k.attr("cx",i+S).attr("cy",n).style("fill",w).attr("visibility","visible"),M){if(k.style({stroke:w,fill:"white"}),e={x:g.left+y.left+i+S+$(document).scrollLeft(),y:g.top+y.top+n+$(document).scrollTop()},o=H(M),a=D(M),e.x===I.x&&e.y===I.y)return T.setColor(w),void("hidden"===T.self.css("visibility")&&T.show());T.setText(o).setValue(a).setPosition(e,w),I=e}else k.style({stroke:"white",fill:w}),T.hide()}function a(){C=!0}function i(){C=!1}function n(t,e){var o=e.domain(),a=e.rangeBand()/2,i=_.chain(o).map(function(o){var i=e(o),n=i+a,s=Math.abs(t-n);return{distance:s,posValue:o,pos:n}}).sortBy(function(t){return t.distance}).value();return i.slice(0,2)}function s(t){var e=null,o=null,a=Number.MAX_VALUE,i=m.map(function(o){var i=Math.abs(t.x-o.x),n={d:o,distanceX:i};return a>i&&(a=i,e=n),n});return a=Number.MAX_VALUE,i.forEach(function(i){if(i.distanceX===e.distanceX){var n=t.y,s=b(i.d.y);"y1"===i.d.scale&&r&&(n=r.invert(b(t.y)),s=r(i.d.y));var l=Math.abs(n-i.d.y),p=s>=0&&s<=q.height;u&&(p=s>=u.y&&s<=u.height),a>l&&null!==i.d.y&&p&&(a=l,o=i)}}),o&&o.d}var r,l,p,h,u,d=null,g=null,m=null,f=d3.scale.linear(),b=d3.scale.linear(),v="x",x="y",y={top:0,left:0},q={width:0,height:0},w="#ffffff",S=0,C=!1,I={x:null,y:null},k=null,T=c.tooltip,M=null,L=null,H=function(t){return t.x},D=function(t){return t.y},O=function(){m&&(L&&(m=L(m)),f.rangeBand&&(S=f.rangeBand()/2),k=g.selectAll(".igc-crosshair-circle").data([0]),k.enter().append("circle").attr("class","igc-crosshair-circle"),k.attr("visibility","hidden").attr("r",5).style({stroke:"white","stroke-width":2}),k.on("mouseenter.crosshair_circle",a),k.on("mouseleave.crosshair_circle",i))},V=_.debounce(function(){C||(M=null,k.attr("visibility","hidden"),T.hide())},50),F={target:function(t){return arguments.length?(d&&(d.on("mousemove.crosshair",null),d.on("mouseout.crosshair",null)),d=t,d.on("mousemove.crosshair",e),d.on("mouseout.crosshair",V),O):d},targetParent:function(t){return arguments.length?(g=t,O):g},scaleX:function(t){return arguments.length?(f=t,O):f},scaleY:function(t){return arguments.length?(b=t,O):b},scaleY1:function(t){return arguments.length?(r=t,O):r},pX:function(t){return arguments.length?(v=t,O):v},pY:function(t){return arguments.length?(x=t,O):x},data:function(t){return arguments.length?(m=t,O):m},groupId:function(t){return arguments.length?(h=t,O):h},chartId:function(t){return arguments.length?(p=t,O):p},filterFn:function(t){return arguments.length?(L=t,O):L},offset:function(t){return arguments.length?(y.left="number"==typeof t.left?t.left:y.left,y.top="number"==typeof t.top?t.top:y.top,O):y},bounds:function(t){return arguments.length?(q.width="number"==typeof t.width?t.width:q.width,q.height="number"==typeof t.height?t.height:q.height,O):q},svgContainer:function(t){return arguments.length?(l=t,O):l},tooltipText:function(t){return arguments.length?(H=t,O):H},tooltipValue:function(t){return arguments.length?(D=t,O):D},pointRect:function(t){return arguments.length?(u=t,O):u}};return o(O,F),O},c.CategoryLabels.isObjectValueUnderMax=function(t,e,o){for(var a=0;a<t.length;a++){var i=t[a][e];if(i>o)return!1}return!0},c.CategoryLabels.getRangeStep=function(t){return"number"==typeof t[1]&&"number"==typeof t[0]?Math.abs(t[1]-t[0]):1/0},c.CategoryLabels.getProvisionedDimensions=function(t,e,o,a){var i={width:0,height:0,position:"horizontal"},n=p.getTextDimensions(e,t,a);i.width=n.width,i.height=n.height;var s=p.getAllTextDimensions(e,t,a),r=c.CategoryLabels.getRangeStep(o),l=c.CategoryLabels.isObjectValueUnderMax(s,"width",r);return l||(i.height=n.width,i.width=n.height,i.position="vertical"),i},c.CategoryLabels.measureTextDimensions=function(t,e,o,a,i,n,r){i="horizontal"===i?i:"vertical";var l={width:0,height:0,position:"horizontal"},h=p.getTextDimensions(e,t,a),u=p.getAllTextDimensions(e,t,a);l.width=h.width,l.height=h.height,r&&0!==r.length||(r=o.rangeBand?o.range():o.ticks().map(function(t){return o(t)}));var d=c.CategoryLabels.getRangeStep(r)-4,g=c.CategoryLabels.isObjectValueUnderMax(u,"width",d);if(g)return l;l.position="vertical";var m=t.selectAll(".fm-text-tick").data(r);m.enter().append("text").attr("class","fm-text-tick"),m.style(a);var b=d3.max(u,function(t){return t.height});return m.text(function(t,o){return e[o]}).attr("x",0).attr("y",0).attr("text-anchor","end").attr("opacity",s),f.Text.wrap(m,n,b),"horizontal"===i?(l.height=d3.max(m,function(t){return d3.max(t,function(t){return t.getBBox().width})}),l.width=d3.max(m,function(t){return d3.max(t,function(t){return t.getBBox().height})})):(l.width=d3.max(m,function(t){return d3.max(t,function(t){return t.getBBox().width})}),l.height=d3.max(m,function(t){return d3.max(t,function(t){return t.getBBox().height})})),m.remove(),l},c.CategoryLabels.getStepsInRange=function(t,e,o){var a,i=t.length,n=0;if(0===i)return n;o=-1===o?-1:1;var s=t[0];if(-1===o&&(s=t[i-1]),s+=o*e,-1===o)for(a=i-2;-1!==a&&t[a]>s;)n++,a--;else for(a=1;i>a&&t[a]<s;a++)n++;return n},c.CategoryLabels.filterToFit=function(t,e,o,a){var i=t.length;a=-1===a?-1:1;var n=[],s=[],r=[];if(!i)return{range:n,domain:s,domainIndex:r};var l,p=0;if(-1===a)for(n.push(t[i-1]),s.push(e[i-1]),r.push(i-1),l=i-2;-1!==l;)p===o?(n.push(t[l]),s.push(e[l]),r.push(l),p=0):p++,l--;else for(n.push(t[0]),s.push(e[0]),r.push(0),l=1;i>l;l++)p!==o?p++:(n.push(t[l]),s.push(e[l]),r.push(l),p=0);return{range:n,domain:s,domainIndex:r}},c.CategoryLabels.ScaleHelper=function(){function t(){return s[i]()}function e(){var t=p.map(function(t){return n(Number(t),0)}).sort(function(t,e){return t-e}),e=[d3.min(t),d3.max(t)];return e=u(e,h,l),v.limitDomain(r[0],r[1],e),d3.scale.linear().domain(e).range(l);
}var a,i="ordinal",s={numeric:e},r=[],l=[0,1],p=[],h=0,u=c.CategoryLabels.ScaleHelper.linearScaleTicksDomainAdjust;return o(t,{type:function(e){return arguments.length&&e in s?(i=e,t):t},sheet:function(e){return arguments.length?(a=e,t):t},domainLimit:function(e){return arguments.length?(r=e.slice(0),t):t},range:function(e){return arguments.length?(l=e.slice(0),t):t},data:function(e){return arguments.length?(p=e.slice(0),t):p},rangePointRadius:function(e){return arguments.length?(h=e,t):h}}),t},c.CategoryLabels.ScaleHelper.linearScaleTicksDomainAdjust=function(t,e,o){function a(t,e){t>e&&r.domain([r.ticks()[0],t]).nice(10).nice(10)}function i(t,e){var o,a;e>t&&(o=r.ticks(),a=o.length-1,r.domain([t,o[a]]).nice(10).nice(10))}function n(t,e,o){(o="<"===o?i:a)(r.invert(t),e)}e=e||0;var s=t.slice(0),r=d3.scale.linear().domain(s).range(o).nice(10).nice(10);return n(r(s[0])-e,r.domain()[0],"<"),n(r(s[1])+e,r.domain()[1],">"),r.domain()},c.CategoryLabels.Bottom=function(){function t(t){t.each(function(){var t=d3.select(this),o=this.__offset__||i,v=this.__offset__={left:i.left,top:i.top};t.attr("transform","translate("+o.left+","+o.top+")"),t.transition().attr("transform","translate("+v.left+","+v.top+")");var x,y,q=this.__chart__=a.copy(),w=0;q.rangeBand?(w=q.rangeBand()/2,x=q.range()):x=(null!==m?m:q.ticks()).map(function(t){return q(t)}),e?(y=e.map(function(t){return h[t]}),x=e.map(function(t){return x[t]})):y=h.slice(0);var S=x.map(function(t,e){return{x:t,d:y[e]}}),C=p.getAllTextDimensions(y,t,r),I={height:d3.max(C,function(t){return t.height}),width:d3.max(C,function(t){return t.width})},_=c.CategoryLabels.getRangeStep(x)-4,k=c.CategoryLabels.isObjectValueUnderMax(C,"width",_),T=[];t.selectAll(".text_tick").each(function(t){return T.push(t)}),b=!p.compare(T,S,function(t,e){return t.d===e.d});var M=t.selectAll(".text_tick").data(S);if(M.exit().remove(),M.enter().append("text").attr("class","text_tick"),M.style(r).attr("fill",r.color),k)M.attr("x",function(t){return t.x}).attr("y",0).text(function(t,e){return y[e]}).style("opacity",s).attr("dy",.75*I.height).attr("transform","translate("+(-i.left+w)+", "+g+")").attr("text-anchor","middle"),t.attr("height",null);else{var L=I.height,H="top"===l;M.attr("x",function(t,e){var o=0;return q.rangeBand&&(o=C[e].height-C[e].height/4),t.x-w+o}).attr("y",H?g:I.width).text(function(t,e){return y[e]}).style("opacity",s).attr("dy",null).attr("transform",function(t,e){var o=0;return q.rangeBand&&(o=C[e].height-C[e].height/4),"rotate(-90,"+(t.x-w+o)+","+(H?g:I.width)+")"}).attr("text-anchor",H?"end":"start"),f.Text.wrap(M,n.height-g,L);var D=q.rangeBand?q.rangeBand():_,O=function(t){return q.rangeBand?(D-t*L)/2:.25*I.height};M.each(function(){for(var t=d3.select(this),e=t.selectAll("tspan")[0],o=e.length,a=o;a*L>D;)a--;if(0>=a&&(a=1),o!==a){for(var i=a;o>=i;i++)d3.select(e[i]).remove();var n=d3.select(t.selectAll("tspan")[0][t.selectAll("tspan")[0].length-1]),s=n.text();s=s.substring(0,s.length-3)+"...",n.text(s)}var r=O(a);t.selectAll("tspan").attr("dy",function(){var t=Number(d3.select(this).attr("dy"));return t+r}).attr("text-anchor",H?"end":"start")})}if(d&&(b?d3.transition(M).call(d):M.call(d)),u){var V=x[0],F=x.slice(0),$=0,A="function"==typeof q.padding,P=x[x.length-1];A&&(V=q.padding()/2),1===x.length?F.push(P+q.rangeBand()+2*V):($=x[1]-(x[0]+q.rangeBand()),F.push(P+q.rangeBand()+$)),$=A?q.padding():((x.length-1)*$+2*V)/x.length;var B=$/2,N=t.selectAll(".igc-x-axis-separator").data(F);N.exit().remove(),N.enter().append("line").attr("class","igc-x-axis-separator"),N.transition().attr("y1",0).attr("y2",n.height+g).attr("x1",function(t){return t-B-i.left}).attr("x2",function(t){return t-B-i.left}).attr("stroke",r.color).attr("stroke-width",1)}})}var e,a=d3.scale.linear(),i={left:0,top:0},n={width:0,height:0},r=c.Chart.defaults().style.axisTick,l="top",h=[],u=!1,d=function(t){t.style("opacity",1)},g=0,m=null,b=!0,v={scale:function(e){return arguments.length?(a=e,t):a},offset:function(e){return arguments.length?(i.left="number"==typeof e.left?e.left:i.left,i.top="number"==typeof e.top?e.top:i.top,t):i},style:function(e){return arguments.length?(r=e,t):r},data:function(e){return arguments.length?(h=e,t):h},textVerticalAlign:function(e){return arguments.length?(-1!==c.CategoryLabels.Bottom.TEXT_VERTICAL_ALIGN.indexOf(e)&&(l=e),t):l},bounds:function(e){return arguments.length?(n.width="number"==typeof e.width?e.width:n.width,n.height="number"==typeof e.height?e.height:n.height,t):n},indexFilter:function(o){return arguments.length?(e=o,t):o},paddingTop:function(e){return arguments.length?(g=e,t):g},drawSeparators:function(e){return arguments.length?(u=!!e,t):u},transition:function(e){return arguments.length?(d=e,t):d},tickValues:function(e){return arguments.length?(m=e,t):m},animate:function(e){return arguments.length?(b=e,t):b}};return o(t,v),t},c.CategoryLabels.Bottom.TEXT_VERTICAL_ALIGN=["top","bottom"],c.CategoryLabels.Bottom1=function(){function t(t){t.each(function(){var t=d3.select(this),o=this.__offset__||i,b=this.__offset__={left:i.left,top:i.top};t.attr("transform","translate("+o.left+","+o.top+")"),t.transition().attr("transform","translate("+b.left+","+b.top+")");var v,x,y=this.__chart__=a.copy(),q=0,w="function"==typeof y.padding,S="top"===h;v=c.CategoryLabels.Bottom1.getRange(y),y.rangeBand&&(q=y.rangeBand()/2),v=c.CategoryLabels.Bottom1.addFilter(v,e),x=c.CategoryLabels.Bottom1.addFilter(u,e);var C,I=v.map(function(t,e){return{x:t,d:x[e]}}),_=p.getTextDimensions(x,t,l),k=p.getAllTextDimensions(x,t,l),T=d3.max(k,function(t){return t.height});C=1===v.length?n.width:c.CategoryLabels.getRangeStep(v),C-=r.left+r.right;var M=C>n.height-r.top-r.bottom,L=[];t.selectAll(".text_tick").each(function(t){return L.push(t)}),m&&(m=!p.compare(L,I,function(t,e){return t.d===e.d}));var H=t.selectAll(".text_tick").data(I);H.exit().remove(),H.enter().append("text").attr("class","text_tick"),H.style(l).attr("fill",l.color),M?(H.attr("x",function(t){return t.x}).attr("y",0).text(function(t,e){return x[e]}).style("opacity",s).attr("dy",.75*_.height).attr("transform","translate("+(-i.left+q)+", "+r.top+")").attr("text-anchor","middle"),t.attr("height",null)):H.attr("x",function(t,e){var o=0;return y.rangeBand&&(o=k[e].height-k[e].height/4),t.x-q+o}).attr("y",S?r.top:_.width).text(function(t,e){return x[e]}).style("opacity",s).attr("dy",null).attr("transform",function(t,e){var o=0;return y.rangeBand&&(o=k[e].height-k[e].height/4),"rotate(-90,"+(t.x-q+o)+","+(S?r.top:_.width)+")"}).attr("text-anchor",S?"end":"start");var D=M?C:n.height-r.top-r.bottom;f.Text.wrap(H,D,T);var O=M?n.height-r.top-r.bottom:y.rangeBand?y.rangeBand()-r.left-r.right:C;if(H.each(function(){for(var t=d3.select(this),e=t.selectAll("tspan")[0],o=e.length,a=o;a*T>O;)a--;if(0>=a&&(a=1),o!==a){for(var i=a;o>=i;i++)d3.select(e[i]).remove();var n=d3.select(t.selectAll("tspan")[0][t.selectAll("tspan")[0].length-1]),s=n.text();t.selectAll("tspan")[0].length>0&&(n.text(s+"..."),n.node().getBoundingClientRect()[M?"width":"height"]>D?s=s.substring(0,s.length-3)+"...":s+="..."),n.text(s)}var l=(O+r.left+r.right-a*T)/2;M?t.selectAll("tspan").attr("text-anchor","middle"):t.selectAll("tspan").attr("dy",function(){var t=Number(d3.select(this).attr("dy"));return t+l}).attr("text-anchor",S?"end":"start")}),g&&(m?d3.transition(H).call(g):H.call(g)),d){var V=v[0],F=v.slice(0),$=0,A=v[v.length-1];w&&(V=y.padding()/2),1===v.length?F.push(A+y.rangeBand()+2*V):($=v[1]-(v[0]+y.rangeBand()),F.push(A+y.rangeBand()+$)),$=w?y.padding():((v.length-1)*$+2*V)/v.length;var P=$/2,B=t.selectAll(".igc-x-axis-separator").data(F);B.exit().remove(),B.enter().append("line").attr("class","igc-x-axis-separator"),B.transition().attr("y1",0).attr("y2",n.height).attr("x1",function(t){return t-P-i.left}).attr("x2",function(t){return t-P-i.left}).attr("stroke",l.color).attr("stroke-width",1)}})}var e,a=d3.scale.linear(),i={left:0,top:0},n={width:0,height:0},r={top:0,right:0,bottom:0,left:0},l=c.Chart.defaults().style.axisTick,h="top",u=[],d=!1,g=function(t){t.style("opacity",1)},m=!0,b={scale:function(e){return arguments.length?(a=e,t):a},offset:function(e){return arguments.length?(i.left="number"==typeof e.left?e.left:i.left,i.top="number"==typeof e.top?e.top:i.top,t):i},style:function(e){return arguments.length?(l=e,t):l},data:function(e){return arguments.length?(u=e,t):u},textVerticalAlign:function(e){return arguments.length?(-1!==c.CategoryLabels.Bottom1.TEXT_VERTICAL_ALIGN.indexOf(e)&&(h=e),t):h},bounds:function(e){return arguments.length?(n.width="number"==typeof e.width?e.width:n.width,n.height="number"==typeof e.height?e.height:n.height,t):n},indexFilter:function(o){return arguments.length?(e=o,t):o},padding:function(e){return arguments.length?(r.top="number"==typeof e.top?e.top:r.top,r.right="number"==typeof e.right?e.right:r.right,r.bottom="number"==typeof e.bottom?e.bottom:r.bottom,r.left="number"==typeof e.left?e.left:r.left,t):r},drawSeparators:function(e){return arguments.length?(d=!!e,t):d},transition:function(e){return arguments.length?(g=e,t):g},animate:function(e){return arguments.length?(m=e,t):m}};return o(t,b),t},c.CategoryLabels.Bottom1.TEXT_VERTICAL_ALIGN=["top","bottom"],c.CategoryLabels.Bottom1.getRange=function(t){return t.rangeBand?t.range():t.ticks().map(function(e){return t(e)})},c.CategoryLabels.Bottom1.addFilter=function(t,e){return e?e.map(function(e){return t[e]}):t.slice(0)},c.CategoryLabels.Left=function(){function t(t){t.each(function(){var t=d3.select(this);t.attr("transform","translate("+i.left+","+i.top+")");var o=this.__chart__=a.copy(),m=o.range(),b=h.slice(0);e&&(b=e.map(function(t){return h[t]}),m=e.map(function(t){return m[t]}));var v=m.map(function(t,e){return{y:t,d:b[e]}}),x=p.getAllTextDimensions(b,t,l),y=c.CategoryLabels.getRangeStep(m),q=[];t.selectAll(".tick").each(function(t){return q.push(t)}),g&&(g=!p.compare(q,v,function(t,e){return t.d===e.d})),1===m.length&&(y=n.height),y-=r.top+r.bottom;var w=c.CategoryLabels.isObjectValueUnderMax(x,"width",y),S=0;o.rangeBand&&(S=o.rangeBand()/2);var C=n.width-r.right;w&&(b=p.limitTextArr(b,t,y,l));var I=t.selectAll(".tick").data(v);if(I.exit().remove(),I.enter().append("text").attr("class","tick"),I.style(l).attr("fill",l.color).style("opacity",s),w)I.attr("x",r.right).attr("y",function(t){return t.y+S}).attr("dy",function(t,e){return x[e].height-r.right}).attr("text-anchor","middle").text(function(t,e){return b[e]}).attr("transform",function(t){return"rotate(-90,"+r.right+","+(t.y+S)+")"}),t.attr("height","");else{var _=d3.max(x,function(t){return t.height});I.attr("y",function(t,e){return t.y+(x[e].height-x[e].height/4)}).attr("x",C+"px").attr("dy","").attr("transform","").attr("text-anchor","end").text(function(t,e){return b[e]}),I.selectAll("tspan").attr("x",C+"px");var k=n.width-r.left-r.right;f.Text.wrap(I,k,_);var T=o.rangeBand();I.each(function(t,e){for(var o=d3.select(this),a=o.selectAll("tspan")[0],i=a.length,n=i;n*_>T;)n--;if(0>=n&&(n=1),i!==n){for(var s=n;i>=s;s++)d3.select(a[s]).remove();var r=d3.select(o.selectAll("tspan")[0][o.selectAll("tspan")[0].length-1]),l=r.text();o.selectAll("tspan")[0].length>0&&(r.text(l+"..."),r.node().getBoundingClientRect().width>k?l=l.substring(0,l.length-3)+"...":l+="..."),r.text(l)}var p=(T-n*_)/2;o.selectAll("tspan").attr("y",function(){return t.y+p+(x[e].height-x[e].height/4)})})}if(d&&(g?d3.transition(I).call(d):I.call(d)),u){var M=m[0],L=m.slice(0),H=0,D="function"==typeof o.padding,O=m[m.length-1];D&&(M=o.padding()/2),1===m.length?L.push(O+o.rangeBand()+2*M):(H=m[1]-(m[0]+o.rangeBand()),L.push(O+o.rangeBand()+H)),H=D?o.padding():((m.length-1)*H+2*M)/m.length;var V=H/2,F=t.selectAll(".igc-y-axis-separator").data(L);F.exit().remove(),F.enter().append("line").attr("class","igc-y-axis-separator"),F.attr("x1",0).attr("x2",n.width-1).attr("y1",function(t){return t-V}).attr("y2",function(t){return t-V}).attr("stroke",l.color).attr("stroke-width",1)}var $=t.selectAll(".igc-y-axis-border").data([0]);$.enter().append("line").attr("class","igc-y-axis-border"),$.exit().remove(),$.attr("x1",n.width-1).attr("x2",n.width-1).attr("y1",0).attr("y2",n.height).attr("stroke",l.color).attr("stroke-width",2)})}var e,a=d3.scale.linear(),i={left:0,top:0},n={width:0,height:0},r={top:0,right:0,bottom:0,left:0},l=c.Chart.defaults().style.axisTick,h=[],u=!1,d=function(t){t.style("opacity",1)},g=!0,m={scale:function(e){return arguments.length?(a=e,t):a},offset:function(e){return arguments.length?(i.left="number"==typeof e.left?e.left:i.left,i.top="number"==typeof e.top?e.top:i.top,t):i},bounds:function(e){return arguments.length?(n.width="number"==typeof e.width?e.width:n.width,n.height="number"==typeof e.height?e.height:n.height,t):n},style:function(e){return arguments.length?(l=e,t):l},data:function(e){return arguments.length?(h=e,t):h},padding:function(e){return arguments.length?(r.top="number"==typeof e.top?e.top:r.top,r.right="number"==typeof e.right?e.right:r.right,r.bottom="number"==typeof e.bottom?e.bottom:r.bottom,r.left="number"==typeof e.left?e.left:r.left,t):r},drawSeparators:function(e){return arguments.length?(u=!!e,t):u},transition:function(e){return arguments.length?(d=e,t):d},indexFilter:function(o){return arguments.length?(e=o,t):o}};return o(t,m),t},g.Circle=function(){function t(t){t.each(function(){if(g.length){var t=d3.select(this),o=this.__chart__=l.copy(),p=this.__chart__=h.copy(),c=m[0],f=0;o.rangeBand&&(f=o.rangeBand()/2),r&&(g=g.filter(r));var x=["igc-data-point"];x.push("igc-data-point-"+n),q&&x.push(q);var y=t.selectAll("."+x.join(".")).data(g),S=y.enter();S.append("circle").attr("class",x.join(" ")),w?y.attr("cx",function(t){return o(t[u])+f}).attr("cy",function(){return p(0)}).attr("r",0).style("stroke","white").style("stroke-width",0).style("fill",c).transition().attr("cy",function(t){return p(t[d])}).each("start",function(){b++}).each("end",function(){0===--b&&(e(y,c),a(y,c))}).style("stroke-width",2).attr("r",function(t){return"string"==typeof t[d]?0:5}):(y.attr("cx",function(t){return o(t[u])+f}).attr("cy",function(t){return p(t[d])}).style("stroke-width",2).attr("r",function(t){return"string"==typeof t[d]?0:5}).style("stroke","white").style("fill",c),e(y,c),a(y,c)),s&&s.addListener({id:i,dispatch:v})}})}function e(t){v.on("highlightStart",function(e,o){n!==e&&i===o&&t.transition().duration(150).ease("linear").style("opacity",.3)}),v.on("highlightEnd",function(e,o){n!==e&&i===o&&t.transition().duration(150).ease("linear").style("opacity",1)})}function a(t,e){t.on("mousemove",function(t){d3.select(this).transition().duration(150).ease("linear").style("stroke",e).style("fill","white");var o,a,i=p.getMousePosition(d3.event);o=x(t),a=y(t),f.setText(o).setValue(a).setPosition(i,e)}).on("mouseout",function(){d3.select(this).transition().duration(150).ease("linear").style("stroke","white").style("fill",e),f.hide()})}var i,n,s,r,l=d3.scale.linear(),h=d3.scale.linear(),u="x0",d="y0",g=[],m=d3.scale.category20().range(),f=c.tooltip,b=0,v=d3.dispatch("highlightStart","highlightEnd"),x=function(t){return t.x},y=function(t){return t.y},q="",w=!0,S={scaleX:function(e){return arguments.length?(l=e,t):l},scaleY:function(e){return arguments.length?(h=e,t):h},pX:function(e){return arguments.length?(u=e,t):u},pY:function(e){return arguments.length?(d=e,t):d},data:function(e){return arguments.length?(g=e,t):g},colors:function(e){return arguments.length?(m=e,t):m},groupId:function(e){return arguments.length?(n=e,t):n},chartId:function(e){return arguments.length?(i=e,t):i},legend:function(e){return arguments.length?(s=e,t):s},filterFn:function(e){return arguments.length?(r=e,t):r},tooltipText:function(e){return arguments.length?(x=e,t):x},tooltipValue:function(e){return arguments.length?(y=e,t):y},className:function(e){return arguments.length?(q=e,t):q},animate:function(e){return arguments.length?(w=e,t):w}};return o(t,S),t},g.Text=function(){function t(t){t.each(function(){t.attr("transform","translate("+i.left+","+i.top+")");var o=t.selectAll("."+p).data([a]);o.enter().append("text").attr("class",p),o.text(a).style("font-size",null).style("visibility","hidden");var s=0,h=0,u="start";l&&e(o);var c=o.node().getBBox();h+=1*c.height/4,"center"===r?(u="middle",s+=n.width/2):"right"===r&&(u="end",s+=n.width),o.attr("x",s).attr("y",0).attr("dy",h).attr("text-anchor",u).style("visibility","visible")})}function e(t){for(var e,o=parseInt(t.style("font-size"),10);;){if(t.style("font-size",o+"px"),e=t.node().getBBox(),n.width>e.width)break;if(o--,5>o)break}}var a="",i={top:0,left:0},n={width:0,height:0},s=c.Chart.defaults().style.axisTick,r="left",l=!1,p="igc-element-text-node",h={value:function(e){return arguments.length?(a=e,t):a},offset:function(e){return arguments.length?(i.left="number"==typeof e.left?e.left:i.left,i.top="number"==typeof e.top?e.top:i.top,t):i},bounds:function(e){return arguments.length?(n.width="number"==typeof e.width?e.width:n.width,n.height="number"==typeof e.height?e.height:n.height,t):n},style:function(e){return arguments.length?(s=e,t):s},align:function(e){return arguments.length?(r=e,t):r},autoFontSize:function(e){return arguments.length?(l=e,t):l},cssClassName:function(e){return arguments.length?(p=e,t):p}};return o(t,h),t},d.Column=function(){function t(t){M.duration.y=O,t.each(function(){if(C.length){var t=d3.select(this),e=h[d.Column.Shapes(T)];V=y.rangeBand();var o=[];C.forEach(function(t,e){var a=o[e]={};a[w]=t[w],a[w+"Label"]=t[w+"Label"],a[S]=t[S],a[S+"Label"]=t[S+"Label"],a.height=q(0)-q(t[S]),a.width=V,a[S+"Pos"]=q(0),a[w+"Pos"]=y(e),a.color=p.getColor(t.categoryIdx,I),a.index=e});var a=t.selectAll("path");a.transition().duration(0),t.selectAll("text").remove();var n=[];a.each(function(t){var e=$.extend(!0,{},t);n.push(e)}),0===n.length&&(n=o.map(function(t){var e=$.extend(!0,{},t);return e.height=0,e})),l(n,o),D=function(){f(t,n)};var s=t.selectAll("path").data(n),c=s.enter(),_=n[n.length-1],k=n[0];m(k);var H=0===s.size()&&s.size()<c.size(),O=M.duration;H?(c.call(u,e),D()):s.transition().duration(O.y).attrTween("d",g(function(t){var e={};return e[S+"Pos"]=t.next[S+"Pos"],e.height=t.next.height,e})).transition().duration(O.x).each("start",function(){L.update++}).attrTween("d",g(function(t){return t.next})).each("end",function(){0===--L.update&&(i(s,v,b),r(s),c.call(u,e),D())}),s.exit().transition().duration(O.y).attr("d",function(t){var o=t.yPos;return _&&(o=_.next.yPos),e(t.xPos,o,t.width,0,0)}).remove(),s.style("stroke-width",0).style("fill",function(t){return t.next.color}),x&&x.addListener({id:b,dispatch:F})}})}function a(t){F.on("highlightStart.text",function(e,o,a){t.filter(n(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),F.on("highlightEnd.text",function(e,o,a){t.filter(n(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)})}function i(t){F.on("highlightStart.column",function(e,o,a){t.filter(n(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),F.on("highlightEnd.column",function(e,o,a){t.filter(n(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)})}function n(t,e,o){var a=function(){return t!==v};return"column"===o&&(a=function(e,o){return o!==t}),a}function r(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event);e=P(t),o=B(t),A.setText(e).setValue(o).setPosition(a,t.color)}).on("mouseout",function(){A.hide()})}function l(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a[w]=e[w],a[w+"Label"]=e[w+"Label"],a[S]=e[S],a[S+"Label"]=e[S+"Label"],a.height=0,a.width=e.width,a[S+"Pos"]=e[S+"Pos"],a[w+"Pos"]=e[w+"Pos"],a.color=e.color,a.index=o}})}function u(t,e){var o=t.append("path");o.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return e(t.xPos,t.yPos,t.width,0,0)}),o.transition().duration(O).ease("elastic").delay(H).attrTween("d",g(function(t){return t.next})).each("start",function(){L.enter++}).each("end",function(){0===--L.enter&&(i(o,v,b),r(o))})}function g(t){var e=function(t){return null===t[S]?"":h[d.Column.Shapes(T)](t.xPos,t.yPos,t.width,t.height,0)};return function(o,a){var i=t.call(this,o,a);a=d3.interpolate(o,i);for(var n in i)o[n]=i[n];return function(t){return e(a(t))}}}function m(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={x:["xPos","width"]};if(t){o=t.next;for(a in M.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&(M.duration[a]=0))}}function f(t,e){var o=e.map(function(t){return""+t.next.yLabel}),i=p.getAllTextDimensions(o,t,k),n=d3.max(i,function(t){return t.height}),l=_&&V>=n,h=[];l&&(h=d.Column.prepareTextData(e,i,k,2,q));var u=t.selectAll("text").data(h),c=u.enter().append("text");u.exit().remove(),u.attr("x",function(t){return t.textX}).attr("y",function(t){return t.textY}).attr("text-anchor",function(t){return t.textAnchor}).text(function(t){return t.text}).style("cursor","default").style(k).attr("transform",function(t){return t.transform}).attr("fill",function(t){return t.fillColor}).style("opacity",s),u.transition().duration(M.duration.text).style("opacity",1),r(c.filter(function(t){return t.inside})),a(u)}var b,v,x,y=d3.scale.linear(),q=d3.scale.linear(),w="x0",S="y0",C=[],I=d3.scale.category20().range(),_=!1,k=c.Chart.defaults().style.axisTick,T="column-column",M={duration:{x:400,y:700,text:50}},L={enter:0,update:0},H=0,D=function(){},O=700,V=0,F=d3.dispatch("highlightStart","highlightEnd"),A=c.tooltip,P=function(t){return t.x},B=function(t){return t.y},N={scaleX:function(e){return arguments.length?(y=e.copy(),t):y},scaleY:function(e){return arguments.length?(q=e.copy(),t):q},pX:function(e){return arguments.length?(w=e,t):w},pY:function(e){return arguments.length?(S=e,t):S},data:function(e){return arguments.length?(C=e,t):C},colors:function(e){return arguments.length?(I=e,t):I},groupId:function(e){return arguments.length?(v=e,t):v},chartId:function(e){return arguments.length?(b=e,t):b},legend:function(e){return arguments.length?(x=e,t):x},tooltipText:function(e){return arguments.length?(P=e,t):P},tooltipValue:function(e){return arguments.length?(B=e,t):B},shape:function(o){return arguments.length?(d.Column.Shapes(o)!==e&&(T=o),t):T},showValues:function(e){return arguments.length?(_=!!e,t):_},textStyle:function(e){return arguments.length?(k=e,t):k},transitionDelay:function(e){return arguments.length?(H=e,t):H},transitionDuration:function(e){return arguments.length?(O=e,t):O}};return o(t,N),t},d.Column.Shapes=function(t){var e={"column-column":"columnToTop","column-triangle":"triangleToTop","column-bow":"bowToTop","column-curve":"curveToTop"};return e[t]},d.Column.prepareTextData=function(t,e,o,a,i){var n=[],s=d3.max(i.range());return t.forEach(function(t,i){var r=t.next;if(null!==r.x){var l,p={},h=r.yPos,u=h,c="start",d=h,g=s-h,m=1,b=!0,v=e[i],x=v.width,y=x+a,q=Math.abs(r.height),w=q>y;r.y<0&&(c="end",d=g,g=h,m=-1),w?u-=m*a:d>=q+y?u-=m*(q+a):g>=y?(u+=m*a,c="end"===c?"start":"end"):b=!1,b&&(p.inside=w,p.fillColor=w?f.Colors.getContrastYIQ(r.color,o.color):o.color,p.textX=l=r.xPos+r.width/2+.25*v.height,p.textY=u,p.transform="rotate(-90,"+l+","+u+")",p.textAnchor=c,p.text=r.yLabel,p.index=i,p.seriesIdx=r.seriesIdx,p.yLabel=r.yLabel,p.xLabel=r.xLabel,p.groupLabel=r.groupLabel,p.color=r.color,n.push(p))}}),n},d.ColumnStacked=function(){function t(t){V.duration.y=A;var o=t.size()>1;t.filter(function(t,e){return o?e===w:!0}).each(function(){if(M.length){var t=d3.select(this),o=t.selectAll("path");o.transition().duration(0);var i=g(o);t.selectAll("text").remove();var n=i[0];b(n),G=function(){a(t,i)},e(t,i)}})}function e(t,e){var o=t.selectAll("path").data(e),a=o.enter(),i=0===o.size()&&o.size()<a.size(),s=V.duration,r=0;i?(P.animStart(),P.animUpdateStart(),P.animUpdateEnd(),a.call(v,function(){n(o),y(o),P.animEnterEnd(),P.animEnd()})):(P.animStart(),P.animUpdateStart(),o.transition().duration(s.y).attrTween("d",x(function(t){var e={};return e[T+"Pos"]=t.next[T+"Pos"],e.height=t.next.height,e})).transition().duration(s.x).each("start",function(){r++}).attrTween("d",x(function(t){return t.next})).each("end",function(){0===--r&&(P.animUpdateEnd(),P.animEnterStart(),0===a.size()&&(P.animEnterEnd(),P.animEnd(),n(o),y(t.selectAll("path"))),a.call(v,function(){P.animEnterEnd(),P.animEnd(),n(o),y(t.selectAll("path"))}))})),o.exit().remove(),o.style("fill",function(t){return t.next.color}).style("stroke-width",0).style("opacity",j)}function a(t,e){var o=e.map(function(t){return""+t.next.yLabel}),a=p.getAllTextDimensions(o,t,D),n=d3.max(a,function(t){return t.height}),l=I.rangeBand(),h=H&&l>=n,u=[];h&&(u=i(e,a));var c=t.selectAll("text").data(u);c.enter().append("text"),c.exit().remove(),c.attr("x",function(t){return t.textX}).attr("y",function(t){return t.textY}).attr("text-anchor",function(t){return t.textAnchor}).text(function(t){return t.text}).style("cursor","default").style(D).attr("transform",function(t){return t.transform}).attr("fill",function(t){return t.fillColor}).style("opacity",s),c.transition().duration(V.duration.text).style("opacity",j?j:1),y(c),r(c)}function i(t,e){var o=2,a=[];return t.forEach(function(t,i){var n=t.next;if(null!==n.x){var s={},r=e[i],l=Math.abs(n.height),p=r.width+o,h=l>p,u=n.y<0,c=u?-1:1,d=n.xPos+n.width/2+.25*r.height,g=h?n.yPos-c*o:n.yPos;h&&(s.fillColor=h?f.Colors.getContrastYIQ(n.color,D.color):D.color,s.textX=d,s.textY=g,s.textAnchor=u?"end":"start",s.transform="rotate(-90,"+d+","+g+")",s.yLabel=n.yLabel,s.xLabel=n.xLabel,s.groupLabel=n.groupLabel,s.text=n.yLabel,s.seriesIdx=n.seriesIdx,a.push(s))}}),a}function n(t){S&&S.data().forEach(function(t,e){S.addListener({id:q+"_"+e,dispatch:P})}),j?(P.on("highlightStart.shape",function(e,o,a){t.filter(u(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)}),P.on("highlightEnd.shape",function(e,o,a){t.filter(u(e,o,a)).transition().duration(150).ease("linear").style("opacity",j)})):(P.on("highlightStart.shape",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),P.on("highlightEnd.shape",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)}))}function r(t){j?(P.on("highlightStart.text",function(e,o,a){t.filter(u(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)}),P.on("highlightEnd.text",function(e,o,a){t.filter(u(e,o,a)).transition().duration(150).ease("linear").style("opacity",j)})):(P.on("highlightStart.text",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),P.on("highlightEnd.text",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)}))}function l(t){var e=function(e){return e.seriesIdx!==t};return e}function u(t){var e=function(e){return e.seriesIdx===t};return e}function g(t){var e=[0,0],o=I.rangeBand(),a=[],i=[];return M.forEach(function(t,a){var n=i[a]={},s=t[T],r=+(s>0);n[T+"0"]=e[r],e[r]+=s,n[T+"1"]=e[r],n[k]=t[k],n.width=o,n[k+"Pos"]=I(t[k]),n[k+"Label"]=t[k+"Label"],n[T]=t[T],n.height=_(n[T+"1"])-_(n[T+"0"]),n[T+"Pos"]=_(n[T+"0"]),n[T+"Label"]=t[T+"Label"],n.groupLabel=t.groupLabel,n.seriesIdx=t.seriesIdx,n.color=p.getColor(t.seriesIdx,L)}),t.each(function(t){var e=$.extend(!0,{},t);a.push(e)}),0===a.length&&(a=i.map(function(t){var e=$.extend(!0,{},t);return e.height=0,e[T+"Pos"]=_(0),e})),m(a,i),a}function m(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a[T+"0"]=e[T+"0"],a[T+"1"]=e[T+"1"],a[k]=e[k],a.width=e.width,a[k+"Pos"]=e[k+"Pos"],a[k+"Label"]=e[k+"Label"],a[T]=e[T],a.height=0,a[T+"Label"]=e[T+"Label"],a[T+"Pos"]=e[T+"Pos"],a.groupLabel=e.groupLabel,a.seriesIdx=e.seriesIdx,a.color=e.color}})}function b(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={x:["xPos","width"]};if(t){o=t.next;for(a in V.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&(V.duration[a]=0))}}function v(t,e){var o=t.insert("path","text"),a=0;o.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return O(t.xPos,t.yPos,t.width,0,0)}),o.transition().duration(A).ease("elastic").delay(function(){return W+F.apply(this,arguments)}).each("start",function(){0===a&&P.animEnterStart(),a++}).attrTween("d",x(function(t){return t.next})).each("end",function(){0===--a&&e()})}function x(t){var e=function(t){return null===t[T]?"":O(t.xPos,t.yPos,t.width,t.height,0)};return function(o,a){var i=t.call(this,o,a);a=d3.interpolate(o,i);for(var n in i)o[n]=i[n];return function(t){return e(a(t))}}}function y(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event),i=p.getColor(t.seriesIdx,L);e=N(t),o=z(t),B.setText(e).setValue(o).setPosition(a,i),null!==j&&S.sendListeners(t.seriesIdx,q,"highlightStart")}).on("mouseout",function(t){B.hide(),null!==j&&S.sendListeners(t.seriesIdx,q,"highlightEnd")})}var q,w,S,C=d.Bar.Shapes,I=d3.scale.linear(),_=d3.scale.linear(),k="x",T="y",M=[],L=d3.scale.category20().range(),H=!0,D=c.Chart.defaults().style.axisTick,O=h[C("column-column")],V={duration:{x:400,y:700,text:50}},F=0,A=700,P=d3.dispatch("highlightStart","highlightEnd","animStart","animUpdateStart","animEnterStart","animEnd","animUpdateEnd","animEnterEnd"),B=c.tooltip,N=function(t){return t.xLabel},z=function(t){return t.yLabel},G=function(){},W=0,j=null,Z={scaleX:function(e){return arguments.length?(I=e.copy(),t):I},scaleY:function(e){return arguments.length?(_=e.copy(),t):_},pX:function(e){return arguments.length?(k=e,t):k},pY:function(e){return arguments.length?(T=e,t):T},data:function(e){return arguments.length?(M=e,t):M},colors:function(e){return arguments.length?(L=e,t):L},groupId:function(e){return arguments.length?(w=e,t):w},chartId:function(e){return arguments.length?(q=e,t):q},showValues:function(e){return arguments.length?(H=!!e,t):H},textStyle:function(e){return arguments.length?(D=e,t):D},shape:function(e){return arguments.length?(O=h[C(e)||C("bar-bar")],t):O},legend:function(e){return arguments.length?(S=e,t):S},tooltipText:function(e){return arguments.length?(N=e,t):N},tooltipValue:function(e){return arguments.length?(z=e,t):z},transitionDelay:function(e){return arguments.length?(F=e,t):F},transitionDuration:function(e){return arguments.length?(A=e,t):A},transitionTiming:function(e){return arguments.length?(V=e,t):V},renderDelay:function(e){return arguments.length?(W=e,t):W},dispatch:function(){return P},renderText:function(){return G(),t},opacity:function(e){return arguments.length?(j=e,t):j}};return o(t,Z),t},d.ColumnGrouped=function(){function t(t){D.duration.y=O;var o=t.size()>1;t.filter(function(t,e){return o?e===x:!0}).each(function(){if(_.length){var t=d3.select(this),o=t.selectAll("path");o.transition().duration(0);var a=e(o);t.selectAll("text").remove(),N=function(){u(t,a)};var n=a[0];i(n),l(t,a)}})}function e(t){var e,o=w.rangeBand(),i=[],n=[],s=0;_.forEach(function(t,o){var a=n[o]={};a[C]=t[C],a[C+"Pos"]=w(o),a[C+"Label"]=t[C+"Label"],a.height=S(0)-S(t[I]),a[I]=t[I],a[I+"Pos"]=S(0),a[I+"Label"]=t[I+"Label"],a.groupLabel=t.groupLabel,a.seriesIdx=t.seriesIdx,a.color=p.getColor(t.seriesIdx,k),a.index=o,s=t.seriesIdx+1,e=w(t[C])});var r=d3.range(0,s),l=d3.scale.ordinal().domain(r).rangeBands([e,e+o],.2,0);return n.forEach(function(t){t[C+"Pos"]=l(t.seriesIdx),t.width=l.rangeBand()}),t.each(function(t){var e=$.extend(!0,{},t);i.push(e)}),0===i.length&&(i=n.map(function(t){var e=$.extend(!0,{},t);return e.height=0,e})),a(i,n),i}function a(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a.width=e.width,a[C]=e[C],a[C+"Pos"]=e[C+"Pos"],a[C+"Label"]=e[C+"Label"],a.height=0,a[I]=e[I],a[I+"Pos"]=e[I+"Pos"],a[I+"Label"]=e[I+"Label"],a.groupLabel=e.groupLabel,a.seriesIdx=e.seriesIdx,
a.color=e.color}})}function i(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={y:["yPos","height"]};if(t){o=t.next;for(a in D.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&"y"!==a&&(D.duration[a]=0))}}function n(t,e){var o=t.insert("path","text"),a=0;o.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return L(t.xPos,t.yPos,t.width,0,0)}),o.transition().duration(O).ease("elastic").delay(function(){return B+H.apply(this,arguments)}).each("start",function(){a++}).attrTween("d",r(function(t){return t.next})).each("end",function(){0===--a&&e()})}function r(t){var e=function(t){return null===t[I]?"":L(t.xPos,t.yPos,t.width,t.height,0)};return function(o,a){var i=t.call(this,o,a);a=d3.interpolate(o,i);for(var n in i)o[n]=i[n];return function(t){return e(a(t))}}}function l(t,e){var o=t.selectAll("path").data(e),a=o.enter(),i=0===o.size()&&0<a.size(),s=D.duration,l=0;i?(P.animStart(),P.animUpdateStart(),P.animUpdateEnd(),P.animEnterStart(),a.call(n,function(){f(o),b(o),P.animEnterEnd(),P.animEnd()})):(P.animStart(),P.animUpdateStart(),o.transition().duration(s.y).attrTween("d",r(function(t){var e={};return e[I+"Pos"]=t.next[I+"Pos"],e.height=t.next.height,e})).transition().duration(s.x).each("start",function(){l++}).attrTween("d",r(function(t){return t.next})).each("end",function(){0===--l&&(P.animUpdateEnd(),P.animEnterStart(),a.call(n,function(){P.animEnterEnd(),P.animEnd(),f(o),b(t.selectAll("path"))}),0===a.size()&&(P.animEnterEnd(),P.animEnd(),f(o),b(t.selectAll("path"))))})),o.exit().remove(),o.style("fill",function(t){return t.next.color}).style("stroke-width",0)}function u(t,e){var o=e.map(function(t){return""+t.next.yLabel}),a=p.getAllTextDimensions(o,t,M),i=d3.max(a,function(t){return t.height}),n=e[0]&&e[0].width||0,r=T&&n>=i,l=[];r&&(l=d.Column.prepareTextData(e,a,M,2,S));var h=t.selectAll("text").data(l);h.enter().append("text"),h.exit().remove(),h.attr("x",function(t){return t.textX}).attr("y",function(t){return t.textY}).attr("transform",function(t){return t.transform}).attr("text-anchor",function(t){return t.textAnchor}).text(function(t){return t.text}).style("cursor","default").style(M).attr("fill",function(t){return t.fillColor}).style("opacity",s),h.transition().duration(D.duration.text).style("opacity",1),b(h.filter(function(t){return t.inside})),g(h)}function g(t){P.on("highlightStart.text",function(e){t.filter(m(e)).transition().duration(150).ease("linear").style("opacity",.3)}),P.on("highlightEnd.text",function(e){t.filter(m(e)).transition().duration(150).ease("linear").style("opacity",1)})}function m(t){var e=function(e){return e.seriesIdx!==t};return e}function f(t){y&&y.data().forEach(function(t,e){y.addListener({id:v+"_"+e,dispatch:P})}),P.on("highlightStart",function(e){t.filter(function(t){return t.seriesIdx!==e}).transition().duration(150).ease("linear").style("opacity",.3)}),P.on("highlightEnd",function(e){t.filter(function(t){return t.seriesIdx!==e}).transition().duration(150).ease("linear").style("opacity",1)})}function b(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event);e=F(t),o=A(t),V.setText(e).setValue(o).setPosition(a,t.color)}).on("mouseout",function(){V.hide()})}var v,x,y,q=d.Column.Shapes,w=d3.scale.linear(),S=d3.scale.linear(),C="x",I="y",_=[],k=d3.scale.category20().range(),T=!0,M=c.Chart.defaults().style.axisTick,L=h[q("column-column")],H=0,D={duration:{x:700,y:400,text:50}},O=700,V=c.tooltip,F=function(t){return t.x},A=function(t){return t.y},P=d3.dispatch("highlightStart","highlightEnd","animStart","animUpdateStart","animEnterStart","animEnd","animUpdateEnd","animEnterEnd"),B=0,N=function(){},z={scaleX:function(e){return arguments.length?(w=e.copy(),t):w},scaleY:function(e){return arguments.length?(S=e.copy(),t):S},pX:function(e){return arguments.length?(C=e,t):C},pY:function(e){return arguments.length?(I=e,t):I},data:function(e){return arguments.length?(_=e,t):_},colors:function(e){return arguments.length?(k=e,t):k},groupId:function(e){return arguments.length?(x=e,t):x},chartId:function(e){return arguments.length?(v=e,t):v},showValues:function(e){return arguments.length?(T=!!e,t):T},textStyle:function(e){return arguments.length?(M=e,t):M},shape:function(e){return arguments.length?(L=h[q(e)||q("column-column")],t):L},legend:function(e){return arguments.length?(y=e,t):y},tooltipText:function(e){return arguments.length?(F=e,t):F},tooltipValue:function(e){return arguments.length?(A=e,t):A},transitionDelay:function(e){return arguments.length?(H=e,t):H},transitionDuration:function(e){return arguments.length?(O=e,t):O},transitionTiming:function(e){return arguments.length?(D=e,t):D},renderDelay:function(e){return arguments.length?(B=e,t):B},dispatch:function(){return P},renderText:function(){return N(),t}};return o(t,z),t},d.Line=function(){function t(t){t.each(function(){if(u.length){var t=d3.select(this),o=this.__chart__=r.copy(),i=this.__chart__=l.copy(),f=d[0],b=0;o.rangeBand&&(b=o.rangeBand()/2),s&&(u=u.filter(s));var v=d3.svg.line().defined(function(t){return null!==t[h]}).interpolate(c).x(function(t){return o(t[p])+b}).y(function(t){return i(t[h])}),x=d3.svg.line().defined(function(t){return null!==t[h]}).interpolate(c).x(function(t){return o(t[p])+b}).y(function(){return i(0)}),y=t.selectAll("path").data([0]);y.enter().append("path"),m?y.attr("d",x(u)).style("stroke",f).style("stroke-width","0").style("fill","none").transition().ease("bounce").attr("d",v(u)).style("stroke-width","2").each("end",function(){e(y)}):(y.attr("d",v(u)).style("stroke",f).style("fill","none").style("stroke-width","2"),e(y)),n&&n.addListener({id:a,dispatch:g})}})}function e(t){g.on("highlightStart",function(e,o){i!==e&&a===o&&t.transition().duration(150).ease("linear").style("opacity",.3)}),g.on("highlightEnd",function(e,o){i!==e&&a===o&&t.transition().duration(150).ease("linear").style("opacity",1)})}var a,i,n,s,r=d3.scale.linear(),l=d3.scale.linear(),p="x0",h="y0",u=[],c="linear",d=d3.scale.category20().range(),g=d3.dispatch("highlightStart","highlightEnd"),m=!0,f={scaleX:function(e){return arguments.length?(r=e,t):r},scaleY:function(e){return arguments.length?(l=e,t):l},pX:function(e){return arguments.length?(p=e,t):p},pY:function(e){return arguments.length?(h=e,t):h},data:function(e){return arguments.length?(u=e,t):u},interpolate:function(e){return arguments.length?(c=e,t):c},colors:function(e){return arguments.length?(d=e,t):d},groupId:function(e){return arguments.length?(i=e,t):i},chartId:function(e){return arguments.length?(a=e,t):a},legend:function(e){return arguments.length?(n=e,t):n},filterFn:function(e){return arguments.length?(s=e,t):s},animate:function(e){return arguments.length?(m=e,t):m}};return o(t,f),t},d.Area=function(){function t(t){t.each(function(){if(b.length){var t=d3.select(this),o=this.__chart__=u.copy(),a=this.__chart__=d.copy(),s=h(x[0],.7),p=0;o.rangeBand&&(p=o.rangeBand()/2),l&&(b=b.filter(l));var c=t.selectAll("path").data([b[0]]);c.enter().append("path");var f=d3.svg.area().defined(function(t){return null!==t[m]}).x(function(t){return o(t[g])+p}).y0(function(t){return a(t.y0)}).y1(function(t){return a(t.y0+t[m])}).interpolate(v);c.attr("d",f(b)).style("fill",s),e(c),i(c),r&&r.addListener({id:n,dispatch:y})}})}function e(t){y.on("highlightStart",function(e,o){s===e&&n===o&&t.transition().duration(150).ease("linear").style("fill",h(x[0],1))}),y.on("highlightEnd",function(e,o){s===e&&n===o&&t.transition().duration(150).ease("linear").style("fill",h(x[0],.7))})}function a(t,e){var o,a,i=p.getMousePosition(e),n=x[0];o=I(t),a=_(t),C.setText(o).setValue(a).setPosition(i,n)}function i(t){t.on("mousemove",function(t){d3.select(this).transition().duration(150).ease("linear").style("fill",h(x[0],1)),a(t,d3.event)}).on("mouseout",function(){d3.select(this).transition().duration(150).ease("linear").style("fill",h(x[0],.7)),C.hide()})}var n,s,r,l,h=f.Colors.rgbStrToRgbaStr,u=d3.scale.linear(),d=d3.scale.linear(),g="x0",m="y0",b=[],v="linear",x=d3.scale.category20().range(),y=d3.dispatch("highlightStart","highlightEnd"),q={x:0,y:0},w={width:0,height:0},S=!0,C=c.tooltip,I=function(t){return t.groupLabel},_=function(){return""},k={scaleX:function(e){return arguments.length?(u=e,t):u},scaleY:function(e){return arguments.length?(d=e,t):d},pX:function(e){return arguments.length?(g=e,t):g},pY:function(e){return arguments.length?(m=e,t):m},data:function(e){return arguments.length?(b=e,t):b},interpolate:function(e){return arguments.length?(v=e,t):v},colors:function(e){return arguments.length?(x=e,t):x},groupId:function(e){return arguments.length?(s=e,t):s},chartId:function(e){return arguments.length?(n=e,t):n},legend:function(e){return arguments.length?(r=e,t):r},filterFn:function(e){return arguments.length?(l=e,t):l},bounds:function(e){return arguments.length?(w.width="number"==typeof e.width?e.width:w.width,w.height="number"==typeof e.height?e.height:w.height,t):w},offset:function(e){return arguments.length?(q.left="number"==typeof e.left?e.left:q.left,q.top="number"==typeof e.top?e.top:q.top,t):q},animate:function(e){return arguments.length?(S=e,t):S},tooltipText:function(e){return arguments.length?(I=e,t):I},tooltipValue:function(e){return arguments.length?(_=e,t):_}};return o(t,k),t},d.Bar=function(){function t(t){I.duration.x=M,t.each(function(){if(q.length){var t=d3.select(this),e=h[d.Bar.Shapes(C)];L=v.rangeBand();var o=[];q.forEach(function(t,e){var a=o[e]={};a[x]=t[x],a[x+"Label"]=t[x+"Label"],a[y]=t[y],a[y+"Label"]=t[y],a.height=L,a.width=b(t[x])-b(0),a[x+"Pos"]=b(0),a[y+"Pos"]=v(e),a.color=t.color,a.index=e});var s=t.selectAll("path");s.transition().duration(0),t.selectAll("text").remove();var p=[];s.each(function(t){var e=$.extend(!0,{},t);p.push(e)}),0===p.length&&(p=o.map(function(t){var e=$.extend(!0,{},t);return e.width=0,e})),i(p,o),T=function(){u(t,p),f&&f.transitionFinish()};var c=t.selectAll("path").data(p),g=c.enter(),m=p[0];r(m);var w=0===c.size()&&c.size()<g.size(),S=I.duration;w?(g.call(l,e),T()):c.transition().duration(S.x).attrTween("d",n(function(t){var e={};return e[x+"Pos"]=t.next[x+"Pos"],e.width=t.next.width,e})).transition().duration(S.y).each("start",function(){_.update++}).attrTween("d",n(function(t){return t.next})).each("end",function(){0===--_.update&&(a(c),g.call(l,e),T())}),c.exit().remove(),c.style("stroke-width",0).style("fill",function(t){return t.next.color})}})}function a(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event);e=D(t),o=O(t),H.setText(e).setValue(o).setPosition(a,t.color)}).on("mouseout",function(){H.hide()})}function i(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a[x]=e[x],a[x+"Label"]=e[x+"Label"],a[y]=e[y],a[y+"Label"]=e[y+"Label"],a.width=0,a.height=e.height,a[x+"Pos"]=e[x+"Pos"],a[y+"Pos"]=e[y+"Pos"],a.color=e.color,a.index=e.index}})}function n(t){var e=function(t){return null===t[y]?"":h[d.Bar.Shapes(C)](t.xPos,t.yPos,t.width,t.height,0)};return function(o,a){var i=t.call(this,o,a);a=d3.interpolate(o,i);for(var n in i)o[n]=i[n];return function(t){return e(a(t))}}}function r(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={y:["yPos","height"]};if(t){o=t.next;for(a in I.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&(I.duration[a]=0))}}function l(t,e){var o=t.append("path");o.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return e(t.xPos,t.yPos,t.width,0,0)}),o.transition().duration(M).ease("elastic").delay(k).attrTween("d",n(function(t){return t.next})).each("start",function(){_.enter++}).each("end",function(){0===--_.enter&&a(o)})}function u(t,e){var o=e.map(function(t){return""+t.next.xLabel}),i=p.getAllTextDimensions(o,t,S),n=d3.max(i,function(t){return t.height}),r=w&&L>=n,l=[];r&&(l=d.Bar.prepareTextData(e,i,S,2,b));var h=t.selectAll("text").data(l),u=h.enter().append("text");h.exit().remove(),h.attr("x",function(t){return t.textX}).attr("y",function(t){return t.textY}).attr("text-anchor",function(t){return t.textAnchor}).text(function(t){return t.text}).style("cursor","default").style(S).attr("fill",function(t){return t.fillColor}).style("opacity",s),h.transition().duration(I.duration.text).style("opacity",1),a(u.filter(function(t){return t.inside}))}var g,m,f,b=d3.scale.linear(),v=d3.scale.linear(),x="x0",y="y0",q=[],w=!0,S=c.Chart.defaults().style.axisTick,C="bar-bar",I={duration:{x:700,y:400,text:50}},_={enter:0,update:0},k=0,T=function(){},M=700,L=0,H=c.tooltip,D=function(t){return t.x},O=function(t){return t.y},V={scaleX:function(e){return arguments.length?(b=e.copy(),t):b},scaleY:function(e){return arguments.length?(v=e.copy(),t):v},pX:function(e){return arguments.length?(x=e,t):x},pY:function(e){return arguments.length?(y=e,t):y},data:function(e){return arguments.length?(q=e,t):q},groupId:function(e){return arguments.length?(m=e,t):m},chartId:function(e){return arguments.length?(g=e,t):g},showValues:function(e){return arguments.length?(w=!!e,t):w},textStyle:function(e){return arguments.length?(S=e,t):S},shape:function(o){return arguments.length?(d.Bar.Shapes(o)!==e&&(C=o),t):C},tooltipText:function(e){return arguments.length?(D=e,t):D},tooltipValue:function(e){return arguments.length?(O=e,t):O},transitionDelay:function(e){return arguments.length?(k=e,t):k},transitionDuration:function(e){return arguments.length?(M=e,t):M},chartDispatch:function(e){return arguments.length?(f=e,t):f}};return o(t,V),t},d.Bar.Shapes=function(t){var e={"bar-bar":"barToRight","bar-bow":"bowToRight","bar-triangle":"triangleToRight","bar-curve":"curveToRight"};return e[t]},d.Bar.prepareTextData=function(t,e,o,a,i){var n=[],s=d3.max(i.range());return t.forEach(function(t,i){var r=t.next;if(null!==r.y){var l={},p=r.xPos,h=p,u="start",c=s-p,d=p,g=-1,m=!0,b=e[i],v=b.width,x=v+a,y=Math.abs(r.width),q=y>x;r.x<0&&(u="end",d=c,c=p,g=1),q?h-=g*a:c>=y+x?h-=g*(y+a):d>=x?(h+=g*a,u="end"===u?"start":"end"):m=!1,m&&(l.inside=q,l.fillColor=q?f.Colors.getContrastYIQ(r.color,o.color):o.color,l.textX=h,l.textY=r.yPos+r.height/2+.25*b.height,l.textAnchor=u,l.text=r.xLabel,l.index=i,l.seriesIdx=r.seriesIdx,l.yLabel=r.yLabel,l.xLabel=r.xLabel,l.groupLabel=r.groupLabel,l.color=r.color,n.push(l))}}),n},d.BarStacked=function(){function t(t){O.duration.x=F;var o=t.size()>1;t.filter(function(t,e){return o?e===q:!0}).each(function(){if(T.length){var t=d3.select(this),o=t.selectAll("path");o.transition().duration(0);var i=u(o);t.selectAll("text").remove();var n=i[0];m(n),z=function(){a(t,i)},e(t,i)}})}function e(t,e){var o=t.selectAll("path").data(e),a=o.enter(),i=0===o.size()&&o.size()<a.size(),s=O.duration,r=0;i?(A.animStart(),A.animUpdateStart(),A.animUpdateEnd(),a.call(b,function(){n(o),x(o),A.animEnterEnd(),A.animEnd()})):(A.animStart(),A.animUpdateStart(),o.transition().duration(s.x).attrTween("d",v(function(t){var e={};return e[_+"Pos"]=t.next[_+"Pos"],e.width=t.next.width,e})).transition().duration(s.y).each("start",function(){r++}).attrTween("d",v(function(t){return t.next})).each("end",function(){0===--r&&(A.animUpdateEnd(),A.animEnterStart(),0===a.size()&&(A.animEnterEnd(),A.animEnd(),n(o),x(t.selectAll("path"))),a.call(b,function(){A.animEnterEnd(),A.animEnd(),n(o),x(t.selectAll("path"))}))})),o.exit().remove(),o.style("fill",function(t){return t.next.color}).style("stroke-width",0)}function a(t,e){var o=e.map(function(t){return""+t.next.xLabel}),a=p.getAllTextDimensions(o,t,H),n=d3.max(a,function(t){return t.height}),l=I.rangeBand(),h=L&&l>=n,u=[];h&&(u=i(e,a));var c=t.selectAll("text").data(u);c.enter().append("text"),c.exit().remove(),c.attr("x",function(t){return t.textX}).attr("y",function(t){return t.textY}).attr("text-anchor",function(t){return t.textAnchor}).text(function(t){return t.text}).style("cursor","default").style(H).attr("fill",function(t){return t.fillColor}).style("opacity",s),c.transition().duration(O.duration.text).style("opacity",1),x(c),r(c)}function i(t,e){var o=2,a=[];return t.forEach(function(t,i){var n=t.next;if(null!==n.y){var s,r,l={},p="start",h=e[i].width,u=h+o,c=Math.abs(n.width);if(s=H.color,c>u&&(s=f.Colors.getContrastYIQ(n.color,H.color)),l.fillColor=s,l.textY=n.yPos+n.height/2+.25*e[i].height,r=n.xPos,n.x>=0){if(!(c>u))return;r+=o}if(n.x<0){if(!(c>u))return;r-=o}l.textX=r,n.x<0&&(p="end"),l.textAnchor=p,l.text=n.xLabel,l.yLabel=n.yLabel,l.xLabel=n.xLabel,l.groupLabel=n.groupLabel,l.seriesIdx=n.seriesIdx,a.push(l)}}),a}function n(t){w&&w.data().forEach(function(t,e){w.addListener({id:y+"_"+e,dispatch:A})}),A.on("highlightStart.shape",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),A.on("highlightEnd.shape",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)})}function r(t){A.on("highlightStart.text",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),A.on("highlightEnd.text",function(e,o,a){t.filter(l(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)})}function l(t){var e=function(e){return e.seriesIdx!==t};return e}function u(t){var e=[0,0],o=I.rangeBand(),a=[],i=[];return T.forEach(function(t,a){var n=i[a]={},s=t[_],r=+(s>0);n[_+"0"]=e[r],e[r]+=s,n[_+"1"]=e[r],n[_]=t[_],n.width=C(n[_+"1"])-C(n[_+"0"]),n[_+"Pos"]=C(n[_+"0"]),n[_+"Label"]=t[_+"Label"],n[k]=t[k],n.height=o,n[k+"Label"]=t[k+"Label"],n[k+"Pos"]=I(t[k]),n.groupLabel=t.groupLabel,n.seriesIdx=t.seriesIdx,n.color=p.getColor(t.seriesIdx,M)}),t.each(function(t){var e=$.extend(!0,{},t);a.push(e)}),0===a.length&&(a=i.map(function(t){var e=$.extend(!0,{},t);return e.width=0,e[_+"Pos"]=C(0),e})),g(a,i),a}function g(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a[_+"0"]=e[_+"0"],a[_+"1"]=e[_+"1"],a[_]=e[_],a.width=0,a[_+"Pos"]=e[_+"Pos"],a[_+"Label"]=e[_+"Label"],a[k]=e[k],a.height=e.height,a[k+"Label"]=e[k+"Label"],a[k+"Pos"]=e[k+"Pos"],a.groupLabel=e.groupLabel,a.seriesIdx=e.seriesIdx,a.color=e.color}})}function m(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={y:["yPos","height"]};if(t){o=t.next;for(a in O.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&(O.duration[a]=0))}}function b(t,e){var o=t.insert("path","text"),a=0;o.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return D(t.xPos,t.yPos,0,t.height,0)}),o.transition().duration(F).ease("elastic").delay(function(){return G+V.apply(this,arguments)}).each("start",function(){0===a&&A.animEnterStart(),a++}).attrTween("d",v(function(t){return t.next})).each("end",function(){0===--a&&e()})}function v(t){var e=function(t){return null===t[k]?"":D(t.xPos,t.yPos,t.width,t.height,0)};return function(o,a){var i=t.call(this,o,a);a=d3.interpolate(o,i);for(var n in i)o[n]=i[n];return function(t){return e(a(t))}}}function x(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event),i=p.getColor(t.seriesIdx,M);e=B(t),o=N(t),P.setText(e).setValue(o).setPosition(a,i)}).on("mouseout",function(){P.hide()})}var y,q,w,S=d.Bar.Shapes,C=d3.scale.linear(),I=d3.scale.linear(),_="x0",k="y0",T=[],M=d3.scale.category20().range(),L=!0,H=c.Chart.defaults().style.axisTick,D=h[S("bar-bar")],O={duration:{x:700,y:400,text:50}},V=0,F=700,A=d3.dispatch("highlightStart","highlightEnd","animStart","animUpdateStart","animEnterStart","animEnd","animUpdateEnd","animEnterEnd"),P=c.tooltip,B=function(t){return t.xLabel},N=function(t){return t.yLabel},z=function(){},G=0,W={scaleX:function(e){return arguments.length?(C=e.copy(),t):C},scaleY:function(e){return arguments.length?(I=e.copy(),t):I},pX:function(e){return arguments.length?(_=e,t):_},pY:function(e){return arguments.length?(k=e,t):k},data:function(e){return arguments.length?(T=e,t):T},colors:function(e){return arguments.length?(M=e,t):M},groupId:function(e){return arguments.length?(q=e,t):q},chartId:function(e){return arguments.length?(y=e,t):y},showValues:function(e){return arguments.length?(L=!!e,t):L},textStyle:function(e){return arguments.length?(H=e,t):H},shape:function(e){return arguments.length?(D=h[S(e)||S("bar-bar")],t):D},legend:function(e){return arguments.length?(w=e,t):w},tooltipText:function(e){return arguments.length?(B=e,t):B},tooltipValue:function(e){return arguments.length?(N=e,t):N},transitionDelay:function(e){return arguments.length?(V=e,t):V},transitionDuration:function(e){return arguments.length?(F=e,t):F},transitionTiming:function(e){return arguments.length?(O=e,t):O},renderDelay:function(e){return arguments.length?(G=e,t):G},dispatch:function(){return A},renderText:function(){return z(),t}};return o(t,W),t},d.BarGrouped=function(){function t(t){D.duration.x=O;var o=t.size()>1;t.filter(function(t,e){return o?e===x:!0}).each(function(){if(_.length){var t=d3.select(this),o=t.selectAll("path");o.transition().duration(0);var a=e(o);t.selectAll("text").remove(),N=function(){u(t,a)};var n=a[0];i(n),l(t,a)}})}function e(t){var e,o=S.rangeBand(),i=[],n=[],s=0;_.forEach(function(t,o){var a=n[o]={},i=t[C];a.width=w(i)-w(0),a[C]=t[C],a[C+"Pos"]=w(0),a[C+"Label"]=t[C+"Label"],a[I]=t[I],a[I+"Pos"]=S(o),a[I+"Label"]=t[I+"Label"],a.seriesIdx=t.seriesIdx,a.color=p.getColor(t.seriesIdx,k),a.groupLabel=t.groupLabel,s=t.seriesIdx+1,e=S(t[I])});var r=d3.range(0,s),l=d3.scale.ordinal().domain(r).rangeBands([e,e+o],.2,0);return n.forEach(function(t){t[I+"Pos"]=l(t.seriesIdx),t.height=l.rangeBand()}),t.each(function(t){var e=$.extend(!0,{},t);i.push(e)}),0===i.length&&(i=n.map(function(t){var e=$.extend(!0,{},t);return e.width=0,e})),a(i,n),i}function a(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a.width=0,a[C]=e[C],a[C+"Pos"]=e[C+"Pos"],a[C+"Label"]=e[C+"Label"],a.height=e.height,a[I]=e[I],a[I+"Pos"]=e[I+"Pos"],a[I+"Label"]=e[I+"Label"],a.groupLabel=e.groupLabel,a.seriesIdx=e.seriesIdx,a.color=e.color}})}function i(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={x:["xPos","width"]};if(t){o=t.next;for(a in D.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&(D.duration[a]=0))}}function n(t,e){var o=t.insert("path","text"),a=0;o.style("fill",function(t){return t.color}).style("stroke-width",0).attr("d",function(t){return L(t.xPos,t.yPos,0,t.height,0)}),o.transition().duration(O).ease("elastic").delay(function(){return B+H.apply(this,arguments)}).each("start",function(){a++}).attrTween("d",r(function(t){return t.next})).each("end",function(){0===--a&&e()})}function r(t){var e=function(t){return null===t[I]?"":L(t.xPos,t.yPos,t.width,t.height,0)};return function(o,a){var i=t.call(this,o,a);a=d3.interpolate(o,i);for(var n in i)o[n]=i[n];return function(t){return e(a(t))}}}function l(t,e){var o=t.selectAll("path").data(e),a=o.enter(),i=0===o.size()&&0<a.size(),s=D.duration,l=0;i?(P.animStart(),P.animUpdateStart(),P.animUpdateEnd(),P.animEnterStart(),a.call(n,function(){f(o),b(o),P.animEnterEnd(),P.animEnd()})):(P.animStart(),P.animUpdateStart(),o.transition().duration(s.x).attrTween("d",r(function(t){var e={};return e[C+"Pos"]=t.next[C+"Pos"],e.width=t.next.width,e})).transition().duration(s.y).each("start",function(){l++}).attrTween("d",r(function(t){return t.next})).each("end",function(){0===--l&&(P.animUpdateEnd(),P.animEnterStart(),a.call(n,function(){P.animEnterEnd(),P.animEnd(),f(o),b(t.selectAll("path"))}),0===a.size()&&(P.animEnterEnd(),P.animEnd(),f(o),b(t.selectAll("path"))))})),o.exit().remove(),o.style("fill",function(t){return t.next.color}).style("stroke-width",0)}function u(t,e){var o=e.map(function(t){return""+t.next.xLabel}),a=p.getAllTextDimensions(o,t,M),i=d3.max(a,function(t){return t.height}),n=e[0]&&e[0].height||0,r=T&&n>=i,l=[];r&&(l=d.Bar.prepareTextData(e,a,M,2,w));var h=t.selectAll("text").data(l);h.enter().append("text"),h.exit().remove(),h.attr("x",function(t){return t.textX}).attr("y",function(t){return t.textY}).attr("text-anchor",function(t){return t.textAnchor}).text(function(t){return t.text}).style("cursor","default").style(M).attr("fill",function(t){return t.fillColor}).style("opacity",s),h.transition().duration(D.duration.text).style("opacity",1),b(h.filter(function(t){return t.inside})),g(h)}function g(t){P.on("highlightStart.text",function(e){t.filter(m(e)).transition().duration(150).ease("linear").style("opacity",.3)}),P.on("highlightEnd.text",function(e){t.filter(m(e)).transition().duration(150).ease("linear").style("opacity",1)})}function m(t){var e=function(e){return e.seriesIdx!==t};return e}function f(t){y&&y.data().forEach(function(t,e){y.addListener({id:v+"_"+e,dispatch:P})}),P.on("highlightStart",function(e){t.filter(function(t){return t.seriesIdx!==e}).transition().duration(150).ease("linear").style("opacity",.3)}),P.on("highlightEnd",function(e){t.filter(function(t){return t.seriesIdx!==e}).transition().duration(150).ease("linear").style("opacity",1)})}function b(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event);e=F(t),o=A(t),V.setText(e).setValue(o).setPosition(a,t.color)}).on("mouseout",function(){V.hide()})}var v,x,y,q=d.Bar.Shapes,w=d3.scale.linear(),S=d3.scale.linear(),C="x0",I="y0",_=[],k=d3.scale.category20().range(),T=!0,M=c.Chart.defaults().style.axisTick,L=h[q("bar-bar")],H=0,D={duration:{x:400,y:700,text:50}},O=700,V=c.tooltip,F=function(t){return t.x},A=function(t){return t.y},P=d3.dispatch("highlightStart","highlightEnd","animStart","animUpdateStart","animEnterStart","animEnd","animUpdateEnd","animEnterEnd"),B=0,N=function(){},z={scaleX:function(e){return arguments.length?(w=e.copy(),t):w},scaleY:function(e){return arguments.length?(S=e.copy(),t):S},pX:function(e){return arguments.length?(C=e,t):C},pY:function(e){return arguments.length?(I=e,t):I},data:function(e){return arguments.length?(_=e,t):_},colors:function(e){return arguments.length?(k=e,t):k},groupId:function(e){return arguments.length?(x=e,t):x},chartId:function(e){return arguments.length?(v=e,t):v},showValues:function(e){return arguments.length?(T=!!e,t):T},textStyle:function(e){return arguments.length?(M=e,t):M},shape:function(e){return arguments.length?(L=h[q(e)||q("bar-bar")],t):L},legend:function(e){return arguments.length?(y=e,t):y},tooltipText:function(e){return arguments.length?(F=e,t):F},tooltipValue:function(e){return arguments.length?(A=e,t):A},transitionDelay:function(e){return arguments.length?(H=e,t):H},transitionDuration:function(e){return arguments.length?(O=e,t):O},transitionTiming:function(e){return arguments.length?(D=e,t):D},renderDelay:function(e){return arguments.length?(B=e,t):B},dispatch:function(){return P},renderText:function(){return N(),t}};return o(t,z),t},d.Pie=function(){function t(t){t.each(function(){if(y.length){var t,o=d3.select(this);x&&(y=y.filter(x));var l=d3.layout.pie().sort(null).value(function(t){return t.pct}),p="translate("+T.x+","+T.y+") scale("+M+","+M+")",c=[M,L];o.attr("transform",p);var g=l(y);i(g),o.selectAll(".igc-graph-pie-pointer").remove(),o.selectAll(".igc-graph-pie-label").remove(),_&&(n(o,g),t=s(o),L=d(t),isNaN(L)||(c[1]=L));var b=g.length,S=d3.range(0,b);S=S.map(function(t,e){return{pct:1/b*100,color:g[e].data.color}});var k=o.selectAll("path.igc-graph-pie-piece"),H=[];k.each(function(t){H.push(t)}),0===H.length&&(H=l(S),i(H)),e(H,g);var O=d3.scale.ordinal().domain(d3.range(0,H.length)).rangePoints(c),V=k.data(H);V.enter().append("path").attr("class","igc-graph-pie-piece"),V.exit().transition().attrTween("d",a(function(){return{startAngle:r,endAngle:r,innerRadius:C,outerRadius:I}})).remove(),V.attr("d",D).style("fill",function(t){return t.next.data.color}),V.transition().attrTween("d",a(function(t){return t.next})).each("start",function(t,e){q++,o.transition().attr("transform","translate("+T.x+","+T.y+") scale("+O(e)+","+O(e)+")")}).each("end",function(){0===--q&&(t&&t.length&&h(o,t),m(V,o.selectAll(".igc-graph-pie-pointer"),o.selectAll(".igc-graph-pie-label")),u(V))}),v&&v.addListener({id:f,dispatch:w})}})}function e(t,e){var o=e.length,a=t.length;if(t.length>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else{var n=C,s=I,r=t[a-1],l=0;r&&(n=r.innerRadius,s=r.outerRadius,l=r.endAngle),e.forEach(function(e,o){t[o]?t[o].next=e:t[o]={next:e,startAngle:l,endAngle:l,padAngle:0,value:0,innerRadius:n,outerRadius:s,data:e.data}})}}function a(t){return function(e,o){var a=t.call(this,e,o);o=d3.interpolate(e,a);for(var i in a)e[i]=a[i];return function(t){return D(o(t))}}}function i(t){t.forEach(function(t){t.innerRadius=C,t.outerRadius=I})}function n(t,e){var o=t.selectAll(".igc-graph-pie-pointer"),a=o.data(e);a.enter().append("path").attr("class","igc-graph-pie-pointer");var i=13,n=I+i;a.attr("d",function(t){var e=g(t);return"M"+e.xVect*I+","+e.yVect*I+"L"+e.xVect*n+","+e.yVect*n+"L"+(e.xVect*n+i*e.dev)+","+e.yVect*n}).attr("stroke",function(t){return t.data.color}).attr("fill","none").style("visibility","hidden");var s=t.selectAll(".igc-graph-pie-label"),r=s.data(e);r.enter().append("text").attr("class","igc-graph-pie-label");var l=e.map(k),h=p.getTextDimensions(l,t,S).height;r.attr("text-anchor",function(t){var e=g(t);return e.dev<0?"end":"start"}).attr("fill",function(t){return t.data.color}).text(k).attr("x",function(t){var e=g(t);return e.xVect*n+i*e.dev}).attr("y",function(t){var e=g(t);return e.yVect*n}).attr("dy",h/2-h/4).style(S).style("visibility","hidden")}function s(t){var e=t.selectAll(".igc-graph-pie-label"),o=[],a=[];return e.each(function(){var t=this.getBBox();t={x:T.x+t.x,y:T.y+t.y,width:t.width,height:t.height},t=p.extendBBox(t),o.push(t)}),o.forEach(function(t,e){for(var o=!1,i=0;i<a.length;i++)if(i!==e&&l.isBBoxIntersect(a[i],t)){o=!0;break}o||a.push(t)}),a.forEach(function(t){t.visible=!0}),o}function h(t,e){var o=t.selectAll(".igc-graph-pie-label"),a=t.selectAll(".igc-graph-pie-pointer");o.style("visibility",function(t,o){return e[o].visible?"visible":"hidden"}),a.style("visibility",function(t,o){return e[o].visible?"visible":"hidden"})}function u(t){t.on("mousemove",function(t){var e,o,a=p.getMousePosition(d3.event);e=O(t),o=V(t),H.setText(e).setValue(o).setPosition(a,t.data.color)}).on("mouseout",function(){H.hide()})}function d(t){var e,o={x:0,y:0,x2:2*T.x,y2:2*T.y,width:2*T.x,height:2*T.y},a={x:d3.min(t,function(t){return t.x}),y:d3.min(t,function(t){return t.y}),x2:d3.max(t,function(t){return t.x2}),y2:d3.max(t,function(t){return t.y2})};return a.width=Math.abs(a.x2-a.x),a.height=Math.abs(a.y2-a.y),e=Math.min(o.width/a.width,o.height/a.height,o.width/2/Math.abs(a.x2-(o.x+o.width/2)),o.height/2/Math.abs(a.y2-(o.y+o.height/2)),o.width/2/Math.abs(o.x+o.width/2-a.x),o.height/2/Math.abs(o.y+o.height/2-a.y)),Math.abs(e)>1?1:.95*e}function g(t){var e=D.centroid(t),o=e[0],a=e[1],i=Math.sqrt(o*o+a*a),n=(t.endAngle+t.startAngle)/2>Math.PI?-1:1;return{dev:n,xVect:o/i,yVect:a/i}}function m(t,e,o){w.on("highlightStart",function(a,i){f===i&&(t.filter(function(t,e){return a!==e}).transition().duration(150).ease("linear").style("opacity",.3),e.filter(function(t,e){return a!==e&&"visible"===d3.select(this).style("visibility")}).transition().duration(150).ease("linear").style("opacity",.3),o.filter(function(t,e){return a!==e&&"visible"===d3.select(this).style("visibility")}).transition().duration(150).ease("linear").style("opacity",.3))}),w.on("highlightEnd",function(a,i){f===i&&(t.filter(function(t,e){return a!==e}).transition().duration(150).ease("linear").style("opacity",1),e.filter(function(t,e){return a!==e&&"visible"===d3.select(this).style("visibility")}).transition().duration(150).ease("linear").style("opacity",1),o.filter(function(t,e){return a!==e&&"visible"===d3.select(this).style("visibility")}).transition().duration(150).ease("linear").style("opacity",1))})}var f,b,v,x,y=[],q=0,w=d3.dispatch("highlightStart","highlightEnd"),S=c.Chart.defaults().style.axisTick,C=0,I=0,_=!1,k=function(t){
return""+t.data.valueLabel},T={x:0,y:0},M=1,L=1,H=c.tooltip,D=d3.svg.arc(),O=function(t){return t.data.categoryLabel},V=function(t){return t.data.valueLabel},F={data:function(e){return arguments.length?(y=e,t):y},groupId:function(e){return arguments.length?(b=e,t):b},chartId:function(e){return arguments.length?(f=e,t):f},legend:function(e){return arguments.length?(v=e,t):v},textStyle:function(e){return arguments.length?(S=e,t):S},innerRadius:function(e){return arguments.length?(C=e,t):C},outerRadius:function(e){return arguments.length?(I=e,t):I},showValues:function(e){return arguments.length?(_=!!e,t):_},textFormat:function(e){return arguments.length?("function"==typeof e&&(k=e),t):k},center:function(e){return arguments.length?(T.x="number"==typeof e.x?e.x:T.x,T.y="number"==typeof e.y?e.y:T.y,t):T},startScaleFactor:function(e){return arguments.length?(M=e,t):M},endScaleFactor:function(e){return arguments.length?(L=e,t):L},tooltipText:function(e){return arguments.length?(O=e,t):O},tooltipValue:function(e){return arguments.length?(V=e,t):V}};return o(t,F),t},d.PictorialGrid=function(){function t(t){C.duration.y=_;var o=t.size()>1;t.filter(function(t,e){return o?e===f:!0}).each(function(){var t=d3.select(this);if(t.selectAll(".picto-grid-item").remove(),x.length){var o=t.selectAll(".picto-grid-item");o.transition().duration(0);var i=r(o),n=i[0];h(n),a(t,i),e(t,y)}})}function e(t,e){t.selectAll(".overlay-pictorial").remove();var o=t.selectAll(".overlay-pictorial").data(e);o.enter().append("path").attr("class","overlay-pictorial").attr("stroke-width",0).attr("stroke","#000000").attr("fill","transparent").attr("d",function(t){return t.path})}function a(t,e){var o=t.selectAll(".picto-grid-item").data(e),a=o.enter(),n=0===o.size()&&o.size()<a.size(),r=C.duration,l=0;n?(k.animStart(),k.animUpdateStart(),k.animUpdateEnd(),a.call(u,function(){i(o),g(t.selectAll(".overlay-pictorial"),t.selectAll(".picto-grid-item rect")),k.animEnterEnd(),k.animEnd()})):(k.animStart(),k.animUpdateStart(),o.style("visibility","hidden").attr("clip-path",function(t){return"url(#igc-cp-"+t.next.shape+")"}).attr("transform",function(t){return"translate("+t.next.x+","+t.next.y+")"}).transition().duration(r.y+r.x).each("start",function(){l++}).each("end",function(){d3.select(this).style("visibility","visible"),0===--l&&(k.animUpdateEnd(),k.animEnterStart(),0===a.size()&&(k.animEnterEnd(),k.animEnd(),i(o),g(t.selectAll(".overlay-pictorial"),t.selectAll(".picto-grid-item rect"))),a.call(u,function(){k.animEnterEnd(),k.animEnd(),i(o),g(t.selectAll(".overlay-pictorial"),t.selectAll(".picto-grid-item rect"))}))}),d(o)),o.exit().transition().style("opacity",s).remove()}function i(t){b&&b.data().forEach(function(t){b.addListener({id:m+"_"+t.groupId,dispatch:k})}),k.on("highlightStart.shape",function(e,o,a){t.selectAll("rect").filter(n(e,o,a)).transition().duration(150).ease("linear").style("opacity",.3)}),k.on("highlightEnd.shape",function(e,o,a){t.selectAll("rect").filter(n(e,o,a)).transition().duration(150).ease("linear").style("opacity",1)})}function n(t){var e=function(e){return e.categoryIdx!==t};return e}function r(t){var e=[],o=[];return x.forEach(function(t,e){var a=o[e]={};a.x=t.x,a.y=t.y,a.width=t.width,a.height=t.height,a.colors=t.colors,a.shape=t.shape,a.valueLabel=t.valueLabel,a.category=t.category}),t.each(function(t){var o=$.extend(!0,{},t);e.push(o)}),0===e.length&&(e=o.map(function(t){var e={};return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e.colors=t.colors,e.shape=t.shape,e.valueLabel=t.valueLabel,e.category=t.category,e})),l(e,o),e}function l(t,e){var o=e.length,a=t.length;if(a>=o){t.forEach(function(t,o){t.next=e[o]});var i=a-o;i&&t.splice(o,i)}else e.forEach(function(e,o){if(t[o])t[o].next=e;else{var a=t[o]={next:e};a.x=e.x,a.y=e.y,a.width=e.width,a.height=e.height,a.colors=e.colors,a.shape=e.shape,a.valueLabel=e.valueLabel,a.category=e.category}})}function h(t){function e(e){var a=Math.abs(t[e]-o[e]);.2>a&&n++}var o,a,i,n,s={x:["xPos","width"]};if(t){o=t.next;for(a in C.duration)s[a]&&(i=s[a].length,n=0,s[a].forEach(e),i===n&&(C.duration[a]=0))}}function u(t,e){var o=t.insert("g","text"),a=0;o.attr("class","picto-grid-item").attr("clip-path",function(t){return"url(#igc-cp-"+t.shape+")"}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}),o.transition().duration(_).delay(function(){return D+I.apply(this,arguments)}).each("start",function(){d(d3.select(this).selectAll("rect")),0===a&&k.animEnterStart(),a++}).each("end",function(){0===--a&&e()})}function d(t){var e=t.data(function(t){return t.next.colors});e.enter().append("rect"),e.exit().remove(),e.attr("x",function(t){return t.x}).attr("y",0).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("fill",function(t){return t.color})}function g(t,e){t.on("mousemove",function(t){var o,a,i=p.getMousePosition(d3.event),s=t.color;e.filter(n(t.categoryIdx)).transition().duration(150).ease("linear").style("opacity",.3),o=M(t),a=L(t),T.setText(o).setValue(a).setPosition(i,s)}).on("mouseout",function(t){e.filter(n(t.categoryIdx)).transition().duration(150).ease("linear").style("opacity",1),T.hide()})}var m,f,b,v,x=[],y=[],q=d3.scale.category20().range(),w=!0,S=c.Chart.defaults().style.axisTick,C={duration:{x:400,y:700,text:50}},I=0,_=700,k=d3.dispatch("highlightStart","highlightEnd","animStart","animUpdateStart","animEnterStart","animEnd","animUpdateEnd","animEnterEnd"),T=c.tooltip,M=function(t){return t.xLabel},L=function(t){return t.yLabel},H=function(){},D=0,O={data:function(e){return arguments.length?(x=e,t):x},overlayData:function(e){return arguments.length?(y=e,t):y},colors:function(e){return arguments.length?(q=e,t):q},groupId:function(e){return arguments.length?(f=e,t):f},chartId:function(e){return arguments.length?(m=e,t):m},showValues:function(e){return arguments.length?(w=!!e,t):w},textStyle:function(e){return arguments.length?(S=e,t):S},legend:function(e){return arguments.length?(b=e,t):b},tooltipText:function(e){return arguments.length?(M=e,t):M},tooltipValue:function(e){return arguments.length?(L=e,t):L},transitionDelay:function(e){return arguments.length?(I=e,t):I},transitionDuration:function(e){return arguments.length?(_=e,t):_},transitionTiming:function(e){return arguments.length?(C=e,t):C},renderDelay:function(e){return arguments.length?(D=e,t):D},chartDispatch:function(e){return arguments.length?(v=e,t):v},dispatch:function(){return k},renderText:function(){return H(),t}};return o(t,O),t},d.Treemap=function(){function t(t){t.each(function(){if(S.length&&0!==I.width&&0!==I.height){var t=d3.select(this),o=d3.layout.treemap().mode(P).size([I.width,I.height]).sticky(!0).value(function(t){return t.sizeAbs}).sort(M),a=u(S);t.style("position","relative");var i=t.datum(a).selectAll(".igc-treemap-node").data(o.nodes),n=i.enter(),l=0===i.size()&&i.size()<n.size();n=n.append("div"),l||(O-=150),i.call(function(){this.each(function(t){t.color=0===t.depth?null:t.color})}),i.call(s),i.attr("class","igc-treemap-node").style("background-color",function(t){return t.color}).call(r).call(h);var p=i.selectAll(".igc-treemap-node-text").data(function(t){return[t]});p.enter().append("div").attr("class","igc-treemap-node-text"),p.style("visibility",null);var c=p.selectAll(".igc-treemap-node-text-name").data(function(t){return[t]});c.enter().append("span").attr("class","igc-treemap-node-text-name"),c.call(e,function(t){return t.categoryLabel},"name");var d=p.selectAll("br").data(function(t){return L?[t]:[]});d.enter().append("br"),d.exit().remove();var g=p.selectAll(".igc-treemap-node-text-value").data(function(t){return L?[t]:[]});g.enter().append("span").attr("class","igc-treemap-node-text-value"),g.call(e,function(t){return t.valueLabel},"value"),g.exit().remove(),N.name=f.Text.lineHeight(p.select(".igc-treemap-node-text-name").node()),L&&(N.value=f.Text.lineHeight(p.select(".igc-treemap-node-text-value").node())),i.exit().remove()}})}function e(t,e,o){t.style("color",function(t){var e=T[o];return 0===t.depth?null:"contrast"===e.colorMethod?w.getContrastYIQ(t.color,e.colorDark,e.colorLight):e.color}).style("font-size",null).style("visibility",null).text(e)}function a(t,e){return e.height<=t.height&&e.width<=t.width}function i(t){var e={width:this.clientWidth,height:this.clientHeight},o={width:Math.max(0,Math.round(this.clientWidth-B.left-B.right)),height:Math.max(0,Math.round(this.clientHeight-B.top-B.bottom))},a=this.childNodes[0],i=new y({padding:B,dimensions:o,node:a,dnode:d3.select(a),d:t,textPosition:T.position});i.nameItem=new q({node:a.childNodes[0],dnode:d3.select(a.childNodes[0]),d:t,padding:B,parentBox:e,parentBoxInner:o,textPosition:T.position,defaultLineHeight:N.name,parent:i}),a.childNodes[2]&&(i.valueItem=new q({node:a.childNodes[2],dnode:d3.select(a.childNodes[2]),d:t,padding:B,parentBox:e,parentBoxInner:o,textPosition:T.position,defaultLineHeight:N.value,parent:i})),n(i)}function n(t,e){var o,i,s,r,p,h,u=t.nameItem,c=t.valueItem,d={width:t.dimensions.width,height:t.dimensions.height};return e&&t.rotate(!0),t.align(),t.resetItems(),o=t.getTextDimensions(),a(d,o)?void t.position():(s=d.width/o.width,r=d.height/o.height,i=r>s?s:r,p=Math.floor(u.lineHeight*i),u.setLineHeight(p),u.fontSize<H&&u.setFontSize(H),c&&u.fontSize<c.fontSize&&(h=u.lineHeight/c.lineHeight,c.setLineHeight(l.preciseNumber(h*c.lineHeight)),o=t.getTextDimensions(),(c.fontSize<H||!a(d,o))&&c.setFontSize(H)),o=t.getTextDimensions(),a(d,o)?void t.position():e?void 0:n(t,!0))}function s(){function t(t,e){return Math.pow(t.x-0,2)+Math.pow(t.y-0,2)<Math.pow(e,2)}function e(a,i,n){var s,r;if(a.length&&!(i>o)){for(r=a.length-1;r>=0;r-=1)s=a[r],t(s,i)&&(0===s.depth?s.tord=0:(s.tord=n,n++),a.splice(r,1));e(a,++i,n)}}var o=Math.sqrt(Math.pow(I.width,2)+Math.pow(I.height,2)),a=[],i=0;this.each(function(t){a.push(t)}),e(a,0,i)}function r(){function t(t,e){return e=e||.5,Math.max(0,t-1)*e}this.style("width",function(){return"0px"}).style("height",function(){return"0px"}).style("left",function(e){return C.left+e.x+1+t(e.dx)+"px"}).style("top",function(e){return C.top+e.y+1+t(e.dy)+"px"})}function h(){var t=this;this.transition().duration(O).delay(D).style("left",function(t){return C.left+t.x+1+"px"}).style("top",function(t){return C.top+t.y+1+"px"}).style("width",function(t){return Math.max(0,t.dx-1)+"px"}).style("height",function(t){return Math.max(0,t.dy-1)+"px"}).each("start",function(t){0!==t.depth&&k++}).each("end",function(e){0!==e.depth&&(i.call(this,e),0===--k&&(g(t),v&&v.transitionFinish()))})}function u(t){var e={categoryLabel:"",sizeAbs:0,children:[]};return t.forEach(function(t,o){t.noneOrd=o,e.children.push($.extend(!0,{},t))}),e}function g(t){t.on("mousemove",function(t){var e,o,a;0!==t.depth&&(a=p.getMousePosition(d3.event),e=F(t),o=A(t),V.setText(e).setValue(o).setPosition(a,t.color))}).on("mouseout",function(){V.hide()})}var m,b,v,x=d.Treemap.LabelPositions,y=d.Treemap.Label,q=d.Treemap.LabelItem,w=f.Colors,S=[],C={x:0,y:0},I={width:0,height:0},k=0,T={position:x.CENTER,name:{colorMethod:"normal",color:"#ffffff"},value:{colorMethod:"normal",color:"#ffffff"}},M=d.Treemap.SortFns.none,L=!1,H=11,D=0,O=700,V=c.tooltip,F=function(t){return t.categoryLabel},A=function(t){return t.sizeAbs},P="squarify",B={top:5,right:5,bottom:5,left:5},N={name:null,value:null},z={data:function(e){return arguments.length?(S=e,t):S},groupId:function(e){return arguments.length?(b=e,t):b},chartId:function(e){return arguments.length?(m=e,t):m},showValues:function(e){return arguments.length?(L=!!e,t):L},tooltipText:function(e){return arguments.length?(F=e,t):F},tooltipValue:function(e){return arguments.length?(A=e,t):A},bounds:function(e){return arguments.length?(I.width="number"==typeof e.width?e.width:I.width,I.height="number"==typeof e.height?e.height:I.height,t):I},offset:function(e){return arguments.length?(C.left="number"==typeof e.left?e.left:C.left,C.top="number"==typeof e.top?e.top:C.top,t):C},labelOptions:function(e){return arguments.length?(T=$.extend(!0,T,e),t):T},sort:function(e){return arguments.length?(M=-1===_.keys(d.Treemap.SortFns).indexOf(e)?M:d.Treemap.SortFns[e],t):M},transitionDelay:function(e){return arguments.length?(D=e,t):D},transitionDuration:function(e){return arguments.length?(O=e,t):O},chartDispatch:function(e){return arguments.length?(v=e,t):v},layout:function(e){return arguments.length?(P=-1===_.values(d.Treemap.Layout).indexOf(e)?P:e,t):P}};return o(t,z),t},d.Treemap.LabelPositions={NORTH:"north",NORTH_EAST:"north-east",EAST:"east",SOUTH_EAST:"south-east",SOUTH:"south",SOUTH_WEST:"south-west",WEST:"west",NORTH_WEST:"north-west",CENTER:"center"},d.Treemap.Layout={SQUARIFY:"squarify",DICE:"dice",SLICE:"slice"},d.Treemap.SortFns={none:function(t,e){return d3.ascending(t.noneOrd,e.noneOrd)},asc:function(t,e){return d3.descending(t.value,e.value)},desc:function(t,e){return d3.ascending(t.value,e.value)}},d.Treemap.Label=function(t){return _.keys(t).forEach(function(e){this[e]=t[e]}.bind(this)),this.initialize(),this},d.Treemap.Label.prototype={initialize:function(){this.dnode.style({width:this.dimensions.width+"px",height:this.dimensions.height+"px",top:this.padding.top+"px",left:this.padding.left+"px","padding-top":null,"text-align":null,visibility:null}),this.dnode.classed("rotate",!1)},rotate:function(t){var e=this.dimensions.width,o=this.dimensions.height,a=this.padding.top;t=!!t,t&&(e=this.dimensions.height,o=this.dimensions.width,a+=e),this.dnode.classed({rotate:t}),this.dnode.style({width:e+"px",height:o+"px",top:a+"px"})},getTextDimensions:function(){var t=this.dnode.classed("rotate"),e=this.nameItem,o=this.valueItem,a={},i="width",n="height";return t&&(i="height",n="width"),a[i]=e[i],a[n]=e[n],o&&(a[i]=Math.max(e[i],o[i]),a[n]+=o[n]),a},align:function(){var t=this.dnode.classed("rotate"),e=d.Treemap.LabelPositions,o=this.textPosition,a=null,i=this.cardinalPoints;t&&(i=this.cardinalPointsRotated),(o===e[i("CENTER")]||o===e[i("SOUTH")]||o===e[i("NORTH")])&&(a="center"),(o===e[i("NORTH_EAST")]||o===e[i("SOUTH_EAST")]||o===e[i("EAST")])&&(a="right"),(o===e[i("NORTH_WEST")]||o===e[i("WEST")]||o===e[i("SOUTH_WEST")])&&(a="left"),this.dnode.style("text-align",a)},cardinalPointsRotated:function(t){var e={CENTER:"CENTER",NORTH:"WEST",NORTH_EAST:"NORTH_WEST",EAST:"NORTH",SOUTH_EAST:"NORTH_EAST",SOUTH:"EAST",SOUTH_WEST:"SOUTH_EAST",WEST:"SOUTH",NORTH_WEST:"SOUTH_WEST"};return e[t]},cardinalPoints:function(t){var e={CENTER:"CENTER",NORTH:"NORTH",NORTH_EAST:"NORTH_EAST",EAST:"EAST",SOUTH_EAST:"SOUTH_EAST",SOUTH:"SOUTH",SOUTH_WEST:"SOUTH_WEST",WEST:"WEST",NORTH_WEST:"SOUTH_WEST"};return e[t]},position:function(){var t=d.Treemap.LabelPositions,e=this.dnode.classed("rotate"),o=null,a=this.textPosition,i="height",n=this.cardinalPoints;e&&(n=this.cardinalPointsRotated,i="width"),(a===t[n("CENTER")]||a===t[n("WEST")]||a===t[n("EAST")])&&(o=(this.dimensions[i]-this.getTextDimensions()[i])/2),(a===t[n("SOUTH")]||a===t[n("SOUTH_EAST")]||a===t[n("SOUTH_WEST")])&&(o=this.dimensions[i]-this.getTextDimensions()[i]),this.dnode.style({"padding-top":null===o||0===o?null:o+"px",visibility:"visible"})},resetItems:function(){this.nameItem.reset(),this.valueItem&&this.valueItem.reset()}},d.Treemap.LabelItem=function(t){return _.keys(t).forEach(function(e){this[e]=t[e]}.bind(this)),this.reset(),this},d.Treemap.LabelItem.prototype={reset:function(){var t;this.dnode.style({"font-size":null}),t=this.node.getBoundingClientRect(),this.height=t.height,this.width=t.width,this.lineHeight=this.defaultLineHeight,this.fontSize=Number(this.dnode.style("font-size").replace("px",""))},setLineHeight:function(t){var e=l.preciseNumber(this.fontSize/this.lineHeight);this.dnode.style("font-size",l.preciseNumber(e*t)+"px"),this.update()},setFontSize:function(t){this.dnode.style("font-size",t+"px"),this.update()},update:function(){var t=this.node.getBoundingClientRect();this.height=t.height,this.width=t.width,this.lineHeight=f.Text.lineHeight(this.node),this.fontSize=Number(this.dnode.style("font-size").replace("px",""))}},d.Circle=function(){function t(t){t.each(function(){function t(t){t.style("fill",c).attr("cx",function(t){return n(t[g])+f}).attr("cy",function(t){return p(t[m])}).attr("r",_)}if(b.length){var o=d3.select(this),n=this.__chart__=u.copy(),p=this.__chart__=d.copy(),c=h(v[0],.7),f=0;n.rangeBand&&(f=n.rangeBand()/2),l&&(b=b.filter(l));var x=["igc-circle"];C&&x.push(C);var w=o.selectAll("."+x.join(".")).data(b),S=w.enter();S.append("circle").attr("class",x.join(" ")).style("fill",h(v[0],s)),I?w.transition().call(t).each("start",function(){y++}).each("end",function(){0===--y&&(e(w,v[0]),a(w,v[0]))}):(w.call(t),e(w,v[0]),a(w,v[0])),w.exit().transition().style("fill",h(v[0],s)).attr("r",0).remove(),r&&r.addListener({id:i,dispatch:q})}})}function e(t,e){q.on("highlightStart",function(o,a){n===o&&i===a&&t.transition().duration(150).ease("linear").style("fill",h(e,1))}),q.on("highlightEnd",function(o,a){n===o&&i===a&&t.transition().duration(150).ease("linear").style("fill",h(e,.7))})}function a(t,e){t.on("mousemove",function(t){d3.select(this).transition().duration(150).ease("linear").style("fill",h(e,1));var o,a,i=p.getMousePosition(d3.event);o=w(t),a=S(t),x.setText(o).setValue(a).setPosition(i,e)}).on("mouseout",function(){d3.select(this).transition().duration(150).ease("linear").style("fill",h(e,.7)),x.hide()})}var i,n,r,l,h=f.Colors.rgbStrToRgbaStr,u=d3.scale.linear(),d=d3.scale.linear(),g="x0",m="y0",b=[],v=d3.scale.category20().range(),x=c.tooltip,y=0,q=d3.dispatch("highlightStart","highlightEnd"),w=function(t){return t.x},S=function(t){return t.y},C="",I=!0,_=function(t){return"string"==typeof t[m]?0:5},k={scaleX:function(e){return arguments.length?(u=e,t):u},scaleY:function(e){return arguments.length?(d=e,t):d},pX:function(e){return arguments.length?(g=e,t):g},pY:function(e){return arguments.length?(m=e,t):m},data:function(e){return arguments.length?(b=e,t):b},colors:function(e){return arguments.length?(v=e,t):v},groupId:function(e){return arguments.length?(n=e,t):n},chartId:function(e){return arguments.length?(i=e,t):i},legend:function(e){return arguments.length?(r=e,t):r},filterFn:function(e){return arguments.length?(l=e,t):l},tooltipText:function(e){return arguments.length?(w=e,t):w},tooltipValue:function(e){return arguments.length?(S=e,t):S},className:function(e){return arguments.length?(C=e,t):C},animate:function(e){return arguments.length?(I=e,t):I},radius:function(e){return arguments.length?(_=e,t):_}};return o(t,k),t},d.Wordcloud=function(){function t(t){t.each(function(){function t(t,i){var s=o.selectAll(".igc-wc-node").data(t),r=s.enter();r=r.append("text").attr("text-anchor","middle").attr("class","igc-wc-node"),s.call(e),o.call(a,i),s.transition().duration(q).delay(y).style("opacity",1).each("start",function(){v++}).each("end",function(){0===--v&&(n(s),u&&u.transitionFinish())}),s.exit().remove()}var o=d3.select(this);if(!m.length)return void o.selectAll(".igc-wc-node").remove();if(0!==b.width&&0!==b.height){S=f.left+(b.width>>1),C=f.top+(b.height>>1),m=m.slice(0).sort(function(t,e){return e.sizeAbs-t.sizeAbs});var i=m.length,s=d3.scale.linear().range([5,40]).domain([+m[i-1].sizeAbs||1,+m[0].sizeAbs]);d3.layout.cloud().size([b.width,b.height]).startPoint([b.width/2,b.height/2]).padding(1).spiral("archimedean").rotate(x).font(w.fontFamily).fontStyle(w.fontStyle).fontWeight(w.fontWeight).fontSize(function(t){return s(t.sizeAbs)}).text(function(t){return t.categoryLabel}).on("end",t).stop().words(m).start()}})}function e(t){t.style("font-size",function(t){return t.size+"px"}).style({"font-family":w.fontFamily,"font-weight":w.fontWeight,"font-style":w.fontStyle}).text(function(t){return t.text}).attr("fill",function(t){return t.color}).attr("transform",function(t){return"translate("+[t.x+S,t.y+C]+") rotate("+t.rotate+")"}).style("opacity",s)}function a(t){var e,o,a,n=t.node().getBBox(),s=b.width,r=b.height,p=l.fitToSize(n.width,n.height,s,r),h=p.width/n.width,u="scale("+h+")";t.attr("transform",u),a=i(t.node()),e=f.left-a.x+(s-a.width)/2,o=f.top-a.y+(r-a.height)/2,t.attr("transform","translate("+[e,o]+") "+u)}function i(t){var e=t.getBBox(),o=t.ownerSVGElement,a=t.getTransformToElement(t.parentNode),i={x:e.x,y:e.y,width:e.width,height:e.height},n=[o.createSVGPoint(),o.createSVGPoint(),o.createSVGPoint(),o.createSVGPoint()];n[0].x=e.x,n[0].y=e.y,n[1].x=e.x+e.width,n[1].y=e.y,n[2].x=e.x+e.width,n[2].y=e.y+e.height,n[3].x=e.x,n[3].y=e.y+e.height;var s=1/0,r=-(1/0),l=1/0,p=-(1/0);return n.forEach(function(t){t=t.matrixTransform(a),s=Math.min(s,t.x),r=Math.max(r,t.x),l=Math.min(l,t.y),p=Math.max(p,t.y)}),i.x=s,i.width=r-s,i.y=l,i.height=p-l,i}function n(t){t.on("mousemove",function(t){var e,o,a;0!==t.depth&&(a=p.getMousePosition(d3.event),e=_(t),o=k(t),I.setText(e).setValue(o).setPosition(a,t.color))}).on("mouseout",function(){I.hide()})}var r,h,u,g=d.Wordcloud.TextDirection,m=[],f={x:0,y:0},b={width:0,height:0},v=0,x=g.horizontalVertical,y=0,q=700,w={fontFamily:"serif",fontStyle:"normal",fontWeight:"normal"},S=0,C=0,I=c.tooltip,_=function(t){return t.categoryLabel},k=function(t){return t.sizeAbs},T={data:function(e){return arguments.length?(m=e,t):m},groupId:function(e){return arguments.length?(h=e,t):h},chartId:function(e){return arguments.length?(r=e,t):r},bounds:function(e){return arguments.length?(b.width="number"==typeof e.width?e.width:b.width,b.height="number"==typeof e.height?e.height:b.height,t):b},offset:function(e){return arguments.length?(f.left="number"==typeof e.left?e.left:f.left,f.top="number"==typeof e.top?e.top:f.top,t):f},transitionDelay:function(e){return arguments.length?(y=e,t):y},transitionDuration:function(e){return arguments.length?(q=e,t):q},chartDispatch:function(e){return arguments.length?(u=e,t):u},textDirection:function(e){return arguments.length?(x=e in g?g[e]:x,t):x},labelOptions:function(e){return arguments.length?(w=$.extend(!0,w,e),t):w},tooltipText:function(e){return arguments.length?(_=e,t):_},tooltipValue:function(e){return arguments.length?(k=e,t):k}};return o(t,T),t},d.Wordcloud.TextDirection={horizontal:0,vertical:-90,horizontalVertical:function(t,e){return e%2?-90:0},any:function(t,e){return e%2?-45:45}},function(){function t(t){-1===c.indexOf(t)&&c.push(t),u||(u=setInterval(o,1e3))}function e(){c.forEach(function(t,e){t.active&&document.body.contains(t.options.node[0])||(t.active=!1,c.splice(e,1))})}function o(){10===m++&&(e(),m=0),c.forEach(function(t){t.active&&t.render()})}function a(t,e){return"igc-timer-"+t+(e?" igc-timer-transition":"")}function i(t){return String(t).length>=2?t:("0000"+t).substr(-2)}function n(t){var e,o=t.slice(),a=t.length;for(e=0;a>e&&"hours"!==t[e].name&&(!t[e]||!t[e].value);e++)o=t.slice(e+1);return o}function s(t,e){var o={};return g.forEach(function(a){var i=e.diff(t,a);t.add(i,a),o[a]={value:i,name:a}}),o}function r(t){var e={};return g.forEach(function(o,a){e[o]={value:t[a],name:o}}),e}function l(t){var e,o;return o=n(g.map(function(e){return t[e]})),e=o.splice(-3),[{group:"date",data:o},{group:"time",data:e}]}function h(t){this.configure(t),this.shouldLayout=!0}d.Timer=h;var u,c=[],g=["years","months","days","hours","minutes","seconds"],m=0;h.prototype.update=function(t){this.configure(t),this.shouldLayout=!0,this.prevTime=null,this.start()},h.prototype.configure=function(t){this.options=$.extend(!0,this.options||{},{width:$(t.node[0]).width(),colors:{digit:"#000",text:"#666"}},t)},h.prototype.start=function(){this.render(),this.options.animate&&"asis"!==this.options.mode?(t(this),this.active=!0):this.active=!1},h.prototype.render=function(){var t,e=this.options.time,o=this.options.mode;switch(o){case"up":t=this.getUnitsToCountUpFrom(e);break;case"down":t=this.getUnitsToCountDownTo(e);break;case"asis":t=this.getUnitsForFixedTime(e)}p.requestAnimationFrame(this.renderUnits.bind(this,t))},h.prototype.getUnitsToCountUpFrom=function(t){var e,o=moment(new Date),a=moment(t);return e=o>a?s(a,o):r([0,0,0,0,0,0]),this.translateUnitNames(e)},h.prototype.getUnitsToCountDownTo=function(t){var e,o=moment(new Date),a=moment(t);return e=a>o?s(o,a):r([0,0,0,0,0,0]),this.translateUnitNames(e)},h.prototype.getUnitsForFixedTime=function(t){var e,o=moment(t);return e=o.isValid()?[o.year(),o.month()+1,o.date(),o.hours(),o.minutes(),o.seconds()]:[0,0,0,0,0,0],this.translateUnitNames(r(e))},h.prototype.translateUnitNames=function(t,e){var o={},a=e||this.options.units||g;return g.forEach(function(e,i){o[e]=t[e],o[e].title=a[i]}.bind(this)),o},h.prototype.getRootStyle=function(){var t={};return this.options.font&&(t["font-family"]=this.options.font),t},h.prototype.checkIfSplit=function(t){var e,o=t[0],a=t[1];return o[0]&&a[0]&&!this.dontShowTime?e=(o&&o[0]&&o[0].getBoundingClientRect().top)!==(a&&a[0]&&a[0].getBoundingClientRect().top):!1},h.prototype.getClassAttr=function(t){var e=["igc-root","igc-timer"];return e.push("igc-timer-"+this.options.mode),this.options.width<200?e.push("igc-timer-xsmall"):this.options.width<300?e.push("igc-timer-small"):this.options.width<420&&e.push("igc-timer-medium"),this.shouldLayout&&e.push("igc-timer-should-layout"),this.isSplit&&e.push("igc-timer-is-split"),(""+t.years.value).length>2&&e.push("igc-timer-longyear"),this.dontShowTime&&e.push("igc-timer-no-time"),e.join(" ")},h.prototype.renderItemHtml=function(){var t=_.template("<span class='igc-timer-value' style='color: <%= colors.digits %>'><%= value %></span><span class='igc-timer-title' style='color: <%= colors.text %>'><%= title %></span>");return function(e){return t({colors:this.options.colors,value:i(e.value),title:e.title})}}(),h.prototype.setSecondWidth=function(){var t=$(this.options.node[0]).find(".igc-timer-seconds"),e=t.width()||30;t.css("width",e)},h.prototype.renderUnits=function(t){var e,o,i,n=l(t),s=this.options.animate;this.shouldLayout&&(this.dontShowTime="asis"===this.options.mode&&!t.hours.value&&!t.minutes.value&&!t.seconds.value,this.classAttr=this.getClassAttr(t)),e=d3.select(this.options.node[0]).select(".igc-root").attr("class",this.classAttr).style(this.getRootStyle()).selectAll("div.igc-timer-group").data(n),e.enter().append("div").attr("class",function(t){return"igc-timer-group igc-timer-group-"+t.group}),o=e.selectAll("div").data(function(t){return t.data}),o.enter().append("div").html(this.renderItemHtml.bind(this)),o.exit().remove(),i=o.filter(function(t){return this.prevTime?this.prevTime[t.name].value!==t.value:!0}.bind(this)).attr("class",function(t){return a(t.name,s)}).html(this.renderItemHtml.bind(this)),s&&setTimeout(function(){i.attr("class",function(t){return a(t.name,!1)})},0),this.prevTime=t,this.shouldLayout&&(this.isSplit=this.checkIfSplit(o,t),this.shouldLayout=!1,this.classAttr=this.getClassAttr(t),this.render(),this.setSecondWidth())}}();var v=u.Charts.Chart={defaults:function(){return{sheets:[],series:{},style:{axisTitle:{"font-family":"arial","font-weight":400,"font-size":"14px","font-style":"normal",color:"#000000"},sheetSwitch:{"font-family":"arial","font-weight":400,"font-size":"16px","font-style":"normal"},legend:{"font-family":"arial","font-weight":400,"font-size":"16px","font-style":"normal",color:"#000000"},axisTick:{"font-family":"arial","font-weight":400,"font-size":"13px","font-style":"normal",color:"#000000"},grid:{color:"#000000"}},autoResize:{width:!1,height:!1},animation:{duration:700,ease:"cubic-in-out"}}},emptySheetData:function(){return{categories:{title:"",colors:[]},series:[{title:"",type:"line",axisIndex:0,data:[],rawData:[]}],axis:[{title:""}],grid:{vertical:!0,verticalZeroHighlight:!1,horizontal:!0,horizontalZeroHighlight:!1},legend:{enabled:!0}}},initialize:function(t,e){e=e||"svg",this.isSvg="svg"===e,this.rootTagName=e,this.groupTagName=this.isSvg?"g":"div",this.container=d3.select(t.container),this.svg=this.container.append(e).attr("class","igc-root"),this.options=this.defaults(),this._measureCache={},this.chartId=b(),$.extend(!0,this.options,t),this.options.sheets.forEach(function(t){t.series&&t.series.forEach(function(t){t.rawData=t.data.slice(0),t.data.forEach(this.seriesDataValueParser(t))},this)},this),this.addFontMeasureContainers(),this.detectDimensions(),this.sheetIndex=0},seriesDataValueParser:function(t){var e=new c.DataImporter.NumberParser;return function(o,a){t.data[a]=Number(e(o))}},detectDimensions:function(){if(null===this.svg.node())throw"Error: infographic container not found.";var t=this.options;t.width||(t.autoResize.width=!0),t.autoResize.width&&(t.width=$(t.container).width()||400),t.height||(t.autoResize.height=!0),t.autoResize.height&&(t.height=t.width/4*3)},addFontMeasureContainers:function(){var t=this.container,e={"igc-fm-sheet-switch":"sheetSwitch","igc-fm-legend":"legend"};Object.keys(e).forEach(function(t){this.container.select("."+t).remove()},this),t.select(".igc-sm-sheet-switch-radio").remove(),Object.keys(e).forEach(function(t){var o=e[t];this.container.insert("span",".igc-root").attr("class",t).style(this.options.style[o]).style("white-space","nowrap").style("display","none")},this);var o=$(t.insert("span",".igc-root").attr("class","igc-sm-sheet-switch-radio").style("display","none").append("div").attr("class","igc-sheets").append("div").attr("class","igc-sheet").append("span").attr("class","igc-sheet-ico").node()).outerWidth();this._measureCache.sheetIcoWidth=o},getSheetData:function(t){t=t||this.sheetIndex;var e=$.extend(!0,{},this.emptySheetData(),this.options.sheets[t]);if(!e&&0===t)return this.emptySheetData();if(!e){var o=t-1;return o=0>o?0:o,this.getSheetData(o)}return this.sheetIndex=t,e},prepareSheetData:function(t){var e=$.extend(!0,[],t.axis);return e.forEach(function(e,o){e&&(e.graphs||(e.graphs=[]),t.series.forEach(function(a){if(o===a.axisIndex){var i=t.categories.data.map(function(t,e){var o={x:t,y:0};return a.data&&(o.y=a.data[e]||0),o});e.graphs.push({type:a.type,data:i})}}))}),e},sheetSeriesDataEmpty:function(t){var e,o=!0;for(e=t.series.length-1;e>=0;e--)if(t.series[e].data.length>0){o=!1;break}return o},containerSetup:function(){var t=this.groupTagName,e=this.svg;this.isSvg&&e.selectAll("defs").data([0]).enter().append("defs");var o=e.selectAll(".igc").data([0]);o.enter().append(t).attr("class","igc"),o.selectAll(".igc-grid").data([0]).enter().append(t).attr("class","igc-grid"),e.selectAll(".igc-titles").data([0]).enter().append(t).attr("class","igc-titles")},graphsSetupClipPath:function(t,e,o){var a="#"+o.clipPathId;this.createRectClipPath(e,o),t.selectAll(".igc-graph-group").attr("clip-path","url("+a+")")},createRectClipPath:function(t,e){var o="#"+e.clipPathId,a=t.selectAll(o);a.remove();var i=t.selectAll(o).data([0]).enter().append("clipPath").attr("id",e.clipPathId),n=i.selectAll("path").data([e]).enter().append("path");n.attr("d",function(t){return h.barToRight(t.x,t.y,t.width,t.height,0)})},graphInstanceSetup:function(){},render:function(){},getGraphClassByType:function(t){var e=p.camelize(t);return e=e.charAt(0).toUpperCase()+e.slice(1),d[e]},renderGraphs:function(t,e,o){var a="igc-graph-group",i=this.groupTagName,n=t.selectAll("."+a).data(e);n.enter().append(i).attr("class",a),n.exit().remove(),"function"!=typeof o&&(o=function(t){return t.graphs});var s=n.selectAll(".igc-graph").data(o);s.exit().remove();var r=s.enter(),l=0===s.size()&&r.size()>0;this.graphInstances=[],this.graphInstances.enterCount=0,this.graphInstances.updateCount=0,l?this.graphInstancesSetup(r,e,!0):this.graphInstancesSetup(s,e,!1,r.size()>0?r:void 0),this.renderGraphInstances()},graphInstancesSetup:function(t,e,o,a){var i=this.groupTagName,n=this.chartId,s=this.getGraphClassByType,r=this.graphInstanceSetup.bind(this),l=this.graphInstances;t.call(function(t){t.forEach(function(t,a){var p=d3.select(t.parentNode),h=e[a];t.forEach(function(t,e){var u=o?p.append(i).attr("class","igc-graph"):p.selectAll(".igc-graph"),c=t.__data__,d=s(c.type);if(d){var g=d().chartId(n);r(g,c,e,h,a),l.push({selection:u,graphObj:c,instance:g,group:h,type:o?"enter":"update"}),o?l.enterCount++:l.updateCount++}})})}),a&&this.graphInstancesSetup(a,e,!0);
},renderGraphInstances:function(){this.graphInstances.forEach(function(t){t.selection.call(t.instance)})},renderPart:function(t,e,o){var a=this.groupTagName,i=t.selectAll("."+o).data([0]),n=i.enter();return i.empty()?n.call(function(t){t.forEach(function(t){var i=d3.select(t.parentNode),n=i.append(a).attr("class",o);n.call(e)})}):i.call(e)},renderSheetSwitch:function(t){var e=this.options,o=this.container;if(o.selectAll(".igc-sheets").remove(),e.sheets&&e.sheets.length&&1!==e.sheets.length){var a=this.sheetIndex,i=c.Legend.TextItemMetrics().width(t.width).texts(e.sheets.map(function(t){return t.categories.title})).measureContainer(o.select(".igc-fm-sheet-switch").node()).reservedSize(this._measureCache.sheetIcoWidth+20)(),n=o.selectAll(".igc-sheets").data([1]).enter().insert("div",".igc-root").attr("class","igc-sheets").attr("role","radiogroup").attr("aria-label","select sheet").style("width",t.width+"px"),s=n.selectAll(".igc-sheet").data(e.sheets).enter().append("div").attr("class","igc-sheet").attr("role","radio").attr("aria-checked",function(t,e){return e===a?"true":"false"}).attr("aria-labelledby",function(t,e){return"igc-sheet-label"+e}).attr("class",function(t,e){return e===a?"igc-sheet active":"igc-sheet"}).style("max-width",i.width+"px");s.append("span").attr("class","igc-sheet-ico").attr("role","presentation").attr("id",function(t,e){return"igc-sheet-"+e}),s.append("span").attr("class","igc-sheet-label").html(function(t){return t.categories.title}).attr("id",function(t,e){return"igc-sheet-label"+e}).style(e.style.sheetSwitch).style("height",i.label.height+"px").style("max-width",i.label.width+"px");var r=this;s.on("click",function(t,e){var a=d3.select(this);r.sheetIndex!==e&&(o.selectAll(".igc-sheet.active").attr("class","igc-sheet").attr("aria-checked","false"),a.classed("active",!0).attr("aria-checked","true"),r.sheetIndex=e,r.render())})}},resetRootElement:function(){var t=this.svg;this.isSvg?(t.attr("width",0),t.attr("height",0),t.attr("width",null),t.attr("height",null)):t.style({width:null,height:null}),t.selectAll("*").remove(),d3.select(this.options.container).selectAll(".igc-legend").remove()},renderLegend:function(t){var e=this.container.selectAll(".igc-legend").data([0]);e.enter().append("div").attr("class","igc-legend"),e.call(t)},limitDomain:function(t,e,o){var i=!a(t)&&!isNaN(Number(t)),n=!a(e)&&!isNaN(Number(e));o[0]=i?Number(t):o[0],o[1]=n?Number(e):o[1];var s=o[1]<o[0],r=o[s-0],l=o[1-s];return o[0]=r,o[1]=l,n||i},forceTicksToDomain:function(t,e){var o,a=e.length-1,i=t[0],n=t[1],s=(n-i)/a,r=[i];for(o=1;a>o;o++)r[o]=i+o*s;return r[a]=n,r},importArrayData:function(t,e){return c.DataImporter.create({chart:this,decimalSeparator:e})["import"](t)}};c.Column=function(t){this.initialize(t)},c.Column.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){var t=this.options;if(this.detectDimensions(),this.renderSheetSwitch({width:t.width}),t.sheets&&t.sheets.length<1)return this.resetRootElement();var e=.27,o={top:0,right:0,bottom:2,left:0},a={left:0,right:0,top:0,bottom:0},i={left:0,right:0},n={maxCategoryWidth:0,maxCategoryHeight:6},s={top:6,right:2,bottom:0,left:2},r={padding:s.left+s.right,outerPadding:5},l=this.getSheetData(),h=this.prepareSheetData(l),u=l.axis[0],d=h[0],g="absolute"===t.series.data?this.getSheetsSeriesDomain():this.getDomain(d.graphs),f=this.limitDomain(u.minLimit,u.maxLimit,g),b=g[0]<0,v=d3.scale.linear().domain(g).clamp(f),x=l.categories.categoryWidth?Number(l.categories.categoryWidth):null,y=!0,q=!!l.legend.enabled,w={beforeCategoryBorder:b?s.top:0},S=c.Axis().scale(v).orient("left").drawLines(!1).style(t.style.axisTick);d.graphs[0].data=d.graphs[0].data.filter(function(t){return null!==t.y});var C=d.graphs[0].data.map(function(t){return t.xLabel});if(C.length<1)return this.resetRootElement();var I=this.renderGraphs.bind(this),_=this.renderPart.bind(this),k=l.axis[0]&&l.axis[0].title;k&&(a.left=p.getTextDimensions(k,this.svg,t.style.axisTitle).height+10);var T=l.axis[1]&&l.axis[1].title;T&&(s.bottom=s.top,a.bottom=p.getTextDimensions(T,this.svg,t.style.axisTitle).height);var M,L=t.width-o.left-a.left-o.right-a.right,H={width:0,height:0},D=c.Axis.tickFormat(S.scale(),S.ticks());d.ticks&&(M=v.ticks().map(function(t){return D(t)}),H=p.getTextDimensions(M,this.svg,t.style.axisTick),i.left=H.width,o.top=H.height);var O=t.height-o.top-a.top-o.bottom-a.bottom;T&&(n.maxCategoryHeight+=s.bottom),n.maxCategoryHeight+=O*e;var V=L-i.left-i.right,F=d3.range(0,C.length),$=m.Ordinal().domain(F).rangeBands([0,V],r.padding,r.outerPadding);if(x){var A=m.Ordinal().domain(F).rangeBandsCentered([0,V],x,5);A.rangeBand()>=x&&($=A)}n.maxCategoryWidth=$.rangeBand()+($.padding()-s.left-s.right),1===F.length&&(n.maxCategoryWidth=V-s.left-s.right);var P=p.getTextDimensions(C,this.svg,t.style.axisTick),B=P.height>n.maxCategoryWidth;B?this.measureCategoryLabelsOverlapping(C,n,s,P):this.measureCategoryLabels(C,n,s,P);var N=c.CategoryLabels.Bottom1().scale($).data(C).style(t.style.axisTick).bounds({width:V,height:n.maxCategoryHeight}).padding(s);B&&(q?(N.indexFilter([]),n.maxCategoryHeight=T?s.top:0):N.indexFilter(this.filterOverlappingCategories($,P,V)));var z=O-n.maxCategoryHeight-w.beforeCategoryBorder;N.offset({left:$.rangeBand()/2,top:z+w.beforeCategoryBorder}),v.range([z,0]);var G=c.Axis().scale(v).orient("left").tickSize(-L,0).highlightZero(l.grid.horizontalZeroHighlight).style(t.style.grid).tickFormat("").offset({left:-i.left}),W=c.Axis().scale($).orient("bottom").tickSize(z,0).highlightZero(l.grid.verticalZeroHighlight).style(t.style.grid).tickFormat("");if(l.grid.vertical||W.tickValues([]),S.textOffset(-(.25*H.height)).offset({left:-i.left}),d.ticks){var j=this.filterAxisTicks(S);b||j.domain[j.domain.length-1]===g[0]||j.domain.push(g[0]),S.tickValues(j.domain),G.tickValues(j.domain);var Z=G.tickValues().length-1;-1===Z||v(G.tickValues()[Z])!==z||b||G.hideLinesByIndex([Z]);var E=[],R=S.tickValues().map(function(t){return S.scale().tickFormat()(t)}),Y=p.getAllTextDimensions(R,this.svg,t.style.axisTick),U=S.tickValues().length-1,X=null;-1!==U&&(X=S.scale()(S.tickValues()[U])-Y[U].height),S.tickValues().forEach(function(t,e){var o=S.scale()(t);null!==X&&U!==e&&-1===E.indexOf(U)&&o>X&&E.push(U)}),S.hideTicksByIndex(E)}else S.tickValues([]);l.grid.horizontal||G.tickValues([]);var Q=0;d.ticks&&(Q=S.getBorderingTick()-H.height,Q>0&&(Q=0));var J,K=c.Label().text(k).orientBounds({x1:0,y1:o.top+a.top+Q,x2:t.width,y2:o.top+a.top+z+w.beforeCategoryBorder}).style(t.style.axisTitle).orient("left"),tt=c.Label().text(T).orientBounds({x1:o.left+a.left,y1:0,x2:t.width,y2:t.height}).style(t.style.axisTitle).orient("bottom");if(B&&q){var et=this.prepareLegendData(d.graphs[0]),ot=c.Legend.TextItemMetrics().width(t.width).texts(et.map(function(t){return t.title})).measureContainer(this.container.select(".igc-fm-legend").node()).reservedSize(36);J=c.Legend.Legend().data(et).width(t.width).style(t.style.legend).chartId(this.chartId).chartType("column").textMetrics(ot()),this.renderLegend(J)}else this.container.selectAll(".igc-legend").remove();var at=this.svg.datum(t).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);at.each(function(t){var e=d3.select(this),n=e.attr("width",t.width).attr("height",t.height),s=n.selectAll("g.igc").data([0]).enter().append("g").attr("class","igc");s.append("g").attr("class","parts");var r=n.selectAll("g.igc"),l=r.select("g.parts");r.attr("transform","translate("+(o.left+a.left+i.left)+","+(o.top+a.top)+")"),_(l,S,"igc-y-axis-text"),_(l,G,"igc-ygrid"),_(l,W,"igc-xgrid"),_(l,N,"igc-x-axis-text"),I(r,[{graphs:d.graphs,x:$,y:v,textStyle:t.style.axisTick,legend:J,transitionDuration:t.animation.duration}]),_(l,function(e){e.each(function(){var e=d3.select(this),o=e.selectAll(".igc-x-axis-border-line").data(y?[0]:[]);o.enter().append("line").transition().attr("class","igc-x-axis-border-line"),o.exit().remove(),o.transition().attr("x1",-i.left).attr("x2",V).attr("y1",z+w.beforeCategoryBorder+1).attr("y2",z+w.beforeCategoryBorder+1).attr("stroke",t.style.axisTick.color).attr("stroke-width",2)})},"igc-x-axis-border"),_(e,K,"igc-title-left"),_(e,tt,"igc-title-bottom")}),typeof this.callback==typeof Function&&this.callback(this)},this.graphInstanceSetup=function(t,e,o,a,i){var n=e.data.length;return t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(i).textStyle(a.textStyle).shape(e.shape).showValues(e.showValues).legend(a.legend).tooltipText(function(t){return t.xLabel}).tooltipValue(function(t){return t.yLabel}).transitionDelay(function(t,e){return e/n*500}).transitionDuration(a.transitionDuration)},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.min(t.data,function(t){return t.y})}),d3.max(t,function(t){return d3.max(t.data,function(t){return t.y})})];return e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1)),this.adjustDomain(e),e},this.getSheetsSeriesDomain=function(){var t;return this.options.sheets.forEach(function(e,o){var a=$.extend(!0,{},this.emptySheetData(),e),i=this.prepareSheetData(a),n=i[0],s=this.getDomain(n.graphs);0===o?t=s.slice(0):(t[0]=Math.min(s[0],t[0]),t[1]=Math.max(s[1],t[1]))},this),t},this.adjustDomain=function(t){var e=t[0]<0&&t[1]<0,o=t[0]>0&&t[1]>0;e&&!o&&(t[1]=0),o&&!e&&(t[0]=0)},this.measureCategoryLabels=function(t,e,o,a){var i;if(a.width<e.maxCategoryWidth)e.maxCategoryHeight=a.height+o.top+o.bottom;else if(a.width+o.top+o.bottom<e.maxCategoryHeight)e.maxCategoryHeight=a.width+o.top+o.bottom;else{var n=e.maxCategoryWidth>=e.maxCategoryHeight;i=f.Measure.wrappedText(this.svg,e.maxCategoryWidth,t,this.options.style.axisTick,a.height);var s=o.top+i.height+o.bottom;if(s<=e.maxCategoryHeight)return void(e.maxCategoryHeight=s);if(n)return;i=f.Measure.wrappedText(this.svg,e.maxCategoryHeight-o.top-o.bottom,t,this.options.style.axisTick,a.height),e.maxCategoryHeight=i.width+o.top+o.bottom}},this.measureCategoryLabelsOverlapping=function(t,e,o,a){var i=f.Measure.wrappedText(this.svg,e.maxCategoryHeight-o.top-o.bottom,t,this.options.style.axisTick,a.height);e.maxCategoryHeight=i.width+o.top+o.bottom},this.filterOverlappingCategories=function(t,e,o){var a,i=t.rangeBand()/2,n=t.range(),s=c.CategoryLabels.getStepsInRange(n,e.height),r=c.CategoryLabels.filterToFit(n,n,s),l=r.range[r.range.length-1],p=n[n.length-1];return _.isUndefined(p)||_.isUndefined(l)||l!==p||(a=p+i+e.height/2,a>o&&(r.range.pop(),r.domain.pop(),r.domainIndex.pop())),r.domainIndex},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate"}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{series:[{title:"",type:"column",axisIndex:0,showValues:!0,shape:"column-column"}],axis:[{title:"",ticks:!0},{title:""}],grid:{horizontalZeroHighlight:!0,vertical:!1,horizontal:!0}})},this.prepareSheetData=function(t){var e=$.extend(!0,[],t.axis);return e.forEach(function(e,o){e&&(e.graphs||(e.graphs=[]),t.series.forEach(function(a){if(o===a.axisIndex){var i=a.data.map(function(e,o){var i={x:o,xLabel:n(t.categories.data[o],""),y:n(e,null),yLabel:n(a.rawData[o]),categoryIdx:o};return i}),s={type:a.type,data:i,colors:t.categories.colors,showValues:a.showValues===!0,shape:a.shape};e.graphs.push(s)}},this))},this),e},this.prepareLegendData=function(t){return t.data.map(function(e,o){return{color:p.getColor(o,t.colors),title:e.xLabel}})},this.filterAxisTicks=function(t){var e=t.scale(),o=e.tickFormat(),a=[],i=[],n=[],s=[];e.ticks().reverse().forEach(function(t){0===t?(a.push(o(t)),i.push(e(t)),n.push(o(t)),s.push(e(t))):t>0?(a.push(o(t)),i.push(e(t))):(n.push(o(t)),s.push(e(t)))});var r=p.getTextDimensions(a.concat(n),this.svg,this.options.style.axisTick),l=r.height+5,h=c.CategoryLabels.getStepsInRange(i,l,-1),u=c.CategoryLabels.getStepsInRange(s,l,1),d=c.CategoryLabels.filterToFit(i,a,h,-1),g=c.CategoryLabels.filterToFit(s,n,u,1);return d.domain=d.domain.reverse(),g.domain.length&&"0"===g.domain[0]&&g.domain.shift(),{domain:d.domain.concat(g.domain).map(function(t){return Number(t.replace(/(\,)/gi,""))})}},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){"column"===e.type&&t.column&&$.extend(!0,e,t.column)}),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),e.axis.forEach(function(e,o){var a=t.axis&&t.axis[o];a&&$.extend(!0,e,a)})})}}.call(c.Column.prototype,v),c.ColumnStacked=function(t){this.initialize(t)},c.ColumnStacked.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t=.27,e=this.svg,o={top:0,right:1,bottom:0,left:0},a={left:0,right:0,top:0,bottom:0},i={left:0,right:0},n={maxCategoryWidth:0,maxCategoryHeight:6},s={top:6,right:2,bottom:0,left:2},r=this.getSheetData(),l=this.prepareSheetData(r),h=r.axis[0],u=this.options,d=l.categories,g="absolute"===u.series.data?this.getSheetsSeriesDomain():this.getDomain(l.graphs),m=this.limitDomain(h.minLimit,h.maxLimit,g),f=g[0]<0,b=d3.scale.linear().domain(g).clamp(m),v=!0,x=!!r.legend.enabled,y={beforeCategoryBorder:f?s.top:0},q=c.Axis().scale(b).orient("left").drawLines(!1).style(u.style.axisTick),w=r.axis[0]&&r.axis[0].title;w&&(a.left=p.getTextDimensions(w,this.svg,u.style.axisTitle).height+10);var S=r.axis[1]&&r.axis[1].title;S&&(s.bottom=s.top,a.bottom=p.getTextDimensions(S,this.svg,u.style.axisTitle).height);var C,I=u.width-o.left-a.left-o.right-a.right,_={width:0,height:0},k=c.Axis.tickFormat(q.scale(),q.ticks());l.ticks&&(C=b.ticks().map(function(t){return k(t)}),_=p.getTextDimensions(C,this.svg,u.style.axisTick),i.left=_.width,o.top=_.height);var T=u.height-o.top-a.top-o.bottom-a.bottom;S&&(n.maxCategoryHeight+=s.bottom),n.maxCategoryHeight+=T*t;var M=I-i.left-i.right,L=d3.range(0,d.length),H=this.createHorizontalScale(L,[0,M],this.featuresColumnWidth(r)),D={width:u.width};if(this.renderSheetSwitch(D),!l.graphs||l.graphs&&0===l.graphs.length)return this.resetRootElement();n.maxCategoryWidth=H.rangeBand()+(H.padding()-s.left-s.right),1===L.length&&(n.maxCategoryWidth=M-s.left-s.right);var O=p.getTextDimensions(d,this.svg,u.style.axisTick),V=O.height>n.maxCategoryWidth;V||this.measureCategoryLabels(d,n,s,O);var F=c.CategoryLabels.Bottom1().scale(H).data(d).style(u.style.axisTick).bounds({width:M,height:n.maxCategoryHeight}).padding(s).drawSeparators(!1);V&&(F.indexFilter([]),n.maxCategoryHeight=S?s.top:0);var $=T-n.maxCategoryHeight-y.beforeCategoryBorder;F.offset({left:H.rangeBand()/2,top:$+y.beforeCategoryBorder}),b.rangeRound([$,0]);var A=c.Axis().scale(b).orient("left").tickSize(-I,0).highlightZero(r.grid.horizontalZeroHighlight).style(u.style.grid).tickFormat("").offset({left:-i.left}),P=c.Axis().scale(H).orient("bottom").tickSize($,0).highlightZero(r.grid.verticalZeroHighlight).style(u.style.grid).tickFormat("");if(r.grid.vertical||P.tickValues([]),q.textOffset(-(.25*_.height)).offset({left:-i.left}),l.ticks){var B=this.filterAxisTicks(q);f||B.domain[B.domain.length-1]===g[0]||B.domain.push(g[0]),q.tickValues(B.domain),A.tickValues(B.domain);var N=A.tickValues().length-1;-1===N||b(A.tickValues()[N])!==$||f||A.hideLinesByIndex([N]),"area-stepped"===u.type&&A.hideLinesByIndex([]);var z=[],G=q.tickValues().map(function(t){return q.scale().tickFormat()(t)}),W=p.getAllTextDimensions(G,this.svg,u.style.axisTick),j=q.tickValues().length-1,Z=null;-1!==j&&(Z=q.scale()(q.tickValues()[j])-W[j].height),q.tickValues().forEach(function(t,e){var o=q.scale()(t);null!==Z&&j!==e&&-1===z.indexOf(j)&&o>Z&&z.push(j)}),q.hideTicksByIndex(z)}else q.tickValues([]);r.grid.horizontal||A.tickValues([]),r.grid.vertical||P.tickValues([]);var E=0;l.ticks&&(E=q.getBorderingTick()-_.height,E>0&&(E=0));var R=o.left+a.left+i.left;this.featuresCurtainAnimation()&&(R=Math.floor(R));var Y=o.top+a.top,U=c.Label().text(w).orientBounds({x1:0,y1:Y+E,x2:u.width,y2:Y+$+y.beforeCategoryBorder}).style(u.style.axisTitle).orient("left"),X=c.Label().text(S).orientBounds({x1:o.left+a.left,y1:0,x2:o.left+a.left+I,y2:u.height}).style(u.style.axisTitle).orient("bottom"),Q=this.prepareLegendData(r),J=c.Legend.TextItemMetrics().width(D.width).texts(Q.map(function(t){return t.title})).measureContainer(d3.select(u.container).select(".igc-fm-legend").node()).reservedSize(36),K=c.Legend.Legend().data(Q).width(D.width).style(u.style.legend).chartId(this.chartId).chartType("column").textMetrics(J());x?this.renderLegend(K):d3.select(u.container).selectAll(".igc-legend").remove();var tt=this.svg.datum(this).transition().ease(u.animation.ease).duration(u.animation.duration);this.containerSetup(),e.attr("width",u.width).attr("height",u.height),tt.each(function(t){var o=e.selectAll(".igc").attr("transform","translate("+R+","+Y+")"),a=o.select(".igc-grid"),n=e.select(".igc-titles");if(t.renderPart(a,q,"igc-y-axis-text"),t.renderPart(a,A,"igc-ygrid"),t.renderPart(a,P,"igc-xgrid"),t.renderPart(a,F,"igc-x-axis-text"),t.renderGraphs(o,[{graphs:l.graphs,x:H,y:b,textStyle:u.style.axisTick,legend:K,transitionDuration:u.animation.duration}]),t.featuresCurtainAnimation()){var s=e.select("defs"),r={x:-R,y:-Y,width:u.width,height:u.height,clipPathId:"igc-cp-curtain-"+t.chartId};o.selectAll(".igc-graph").attr("clip-path","url(#"+r.clipPathId+")"),t.createRectClipPath(s,r);var p=s.select("#"+r.clipPathId).selectAll("path");p.attr("transform","translate(-"+(u.width+R)+", 0)").transition().each("end",function(){p.attr("transform",null)}).duration(500).ease("linear").attr("transform","translate(0, 0)")}"area-stepped"!==t.options.type&&t.renderPart(a,function(t){t.each(function(){var t=d3.select(this),e=t.selectAll(".igc-x-axis-border-line").data(v?[0]:[]);e.enter().append("line").transition().attr("class","igc-x-axis-border-line"),e.exit().remove(),e.transition().attr("x1",-i.left).attr("x2",M).attr("y1",$+y.beforeCategoryBorder+1).attr("y2",$+y.beforeCategoryBorder+1).attr("stroke",u.style.axisTick.color).attr("stroke-width",2)})},"igc-x-axis-border"),t.renderPart(n,U,"igc-title-left"),t.renderPart(n,X,"igc-title-bottom")}),typeof this.callback==typeof Function&&this.callback(this)},this.categoryBandOpts=function(t){var e={padding:4,outerPadding:5};return t&&_.extend(e,t),e},this.createHorizontalScale=function(t,e,o){var a,i=this.categoryBandOpts(),n=m.Ordinal().domain(t).rangeBands(e,i.padding,i.outerPadding);return o&&(a=m.Ordinal().domain(t).rangeBandsCentered(e,o,i.outerPadding),a.rangeBand()>=o&&(n=a)),n},this.featuresColumnWidth=function(t){return t.categories.categoryWidth?Number(t.categories.categoryWidth):null},this.featuresCurtainAnimation=function(){return"area-stepped"===this.options.type},this.graphInstanceSetup=function(t,e,o,a){var i=a.graphs.length;return t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(o).textStyle(a.textStyle).shape(e.shape).showValues(e.showValues).legend(a.legend).tooltipText(function(t){return t.xLabel+": "+t.yLabel}).tooltipValue(function(t){return t.groupLabel}).transitionDelay(function(){return o/i*500}).transitionDuration(a.transitionDuration)},this.renderGraphInstances=function(){var t,e=this,o=this.graphInstances.enterCount,a=this.graphInstances.updateCount,i=a+o,n=0===a&&o>0,s=a>0&&o>0;this.graphInstances.forEach(function(e){"update"===e.type&&(t=e.instance)});var r=function(){0===--i&&e.graphInstances.filter(function(t){return!t.skipTextRender}).forEach(function(t){t.instance.renderText()})};this.graphInstances.forEach(function(e){var o=e.instance,a=o.dispatch();if(s&&"enter"===e.type){a.on("animStart",function(){r()}),e.skipTextRender=!0,a.on("animEnterStart",function(){e.instance.renderText()});var i=o.transitionTiming().duration;t&&(i=t.transitionTiming().duration);var l=i.x+i.y;o.renderDelay(l)}else n?a.on("animStart",function(){r()}):a.on("animUpdateEnd",function(){r()});e.selection.call(e.instance)})},this.measureCategoryLabels=function(t,e,o,a){var i;if(a.width<e.maxCategoryWidth)e.maxCategoryHeight=a.height+o.top+o.bottom;else if(a.width+o.top+o.bottom<e.maxCategoryHeight)e.maxCategoryHeight=a.width+o.top+o.bottom;else{var n=e.maxCategoryWidth>=e.maxCategoryHeight;i=f.Measure.wrappedText(this.svg,e.maxCategoryWidth,t,this.options.style.axisTick,a.height);var s=o.top+i.height+o.bottom;if(s<=e.maxCategoryHeight)return void(e.maxCategoryHeight=s);if(n)return;i=f.Measure.wrappedText(this.svg,e.maxCategoryHeight-o.top-o.bottom,t,this.options.style.axisTick,a.height),e.maxCategoryHeight=i.width+o.top+o.bottom}},this.filterAxisTicks=function(t){var e=t.scale(),o=e.tickFormat(),a=[],i=[],n=[],s=[];e.ticks().reverse().forEach(function(t){0===t?(a.push(o(t)),i.push(e(t)),n.push(o(t)),s.push(e(t))):t>0?(a.push(o(t)),i.push(e(t))):(n.push(o(t)),s.push(e(t)))});var r=p.getTextDimensions(a.concat(n),this.svg,this.options.style.axisTick),l=r.height+5,h=c.CategoryLabels.getStepsInRange(i,l,-1),u=c.CategoryLabels.getStepsInRange(s,l,1),d=c.CategoryLabels.filterToFit(i,a,h,-1),g=c.CategoryLabels.filterToFit(s,n,u,1);return d.domain=d.domain.reverse(),g.domain.length&&"0"===g.domain[0]&&g.domain.shift(),{domain:d.domain.concat(g.domain).map(function(t){return Number(t.replace(/(\,)/gi,""))})}},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.sum(t.data,function(t){return t.y<0?t.y:0})}),d3.max(t,function(t){return d3.sum(t.data,function(t){return t.y>0?t.y:0})})];return e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1)),this.adjustDomain(e),e},this.getSheetsSeriesDomain=function(){var t;return this.options.sheets.forEach(function(e,o){var a=$.extend(!0,{},this.emptySheetData(),e),i=this.prepareSheetData(a),n=this.getDomain(i.graphs);0===o?t=n.slice(0):(t[0]=Math.min(n[0],t[0]),t[1]=Math.max(n[1],t[1]))},this),t},this.adjustDomain=function(t){var e=t[0]<0&&t[1]<0,o=t[0]>0&&t[1]>0;e&&!o&&(t[1]=0),o&&!e&&(t[0]=0)},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate"}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{padding:20},series:[{type:"column-stacked"}],axis:[{title:"",ticks:!0,showValues:!0},{title:""}],grid:{horizontalZeroHighlight:!0,vertical:!1,horizontal:!0}})},this.prepareSheetData=function(t){var e,o=$.extend(!0,{},t.axis[0]);return o?(t.categories.data||(t.categories.data=[]),o.graphs=t.categories.data.map(function(){return{colors:t.categories.colors,data:[],showValues:o.showValues===!0,type:"column-stacked"}}),t.series.forEach(function(e,a){e.data.forEach(function(i,s){var r=t.categories.data[s];"undefined"!=typeof r&&o.graphs[s].data.push({x:s,y:n(i,null),xLabel:n(e.title),yLabel:n(e.rawData[s]),groupLabel:n(r),seriesIdx:a})})}),e=o.graphs,o.graphs.forEach(function(t){var e=t.data.length,o=0;0!==e&&(t.data.forEach(function(t){null===t.y&&o++}),o===e&&(t.data=[]))}),o.categories=t.categories.data.slice(0).filter(function(t,e){return o.graphs[e]&&o.graphs[e].data.length>0}),o.graphs=o.graphs.filter(function(t){return t.data&&t.data.length>0}),o.graphs.length!==e&&o.graphs.forEach(function(t,e){t.data.forEach(function(t){t.x=e})}),o):void 0},this.prepareLegendData=function(t){var e=t.categories.colors;return t.series.map(function(t,o){return{color:p.getColor(o,e),title:t.title}})},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),e.axis.forEach(function(e,o){var a=t.axis&&t.axis[o];a&&$.extend(!0,e,a)})})}}.call(c.ColumnStacked.prototype,v),c.ColumnGrouped=function(t){this.initialize(t)},c.ColumnGrouped.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t=.27,e=this.getSheetData(),o=this.prepareSheetData(e),a=this.renderGraphs.bind(this),i=this.renderPart.bind(this),n={top:0,right:2,bottom:0,left:0},s={left:0,right:0,top:0,bottom:0},r={left:0,right:0},l={maxCategoryWidth:0,maxCategoryHeight:10},h={top:6,right:2,bottom:4,left:2},u={padding:Number(e.categories.padding)};u.outerPadding=u.padding/2;var d=this.options,g=e.axis[0],f=o.categories,b="absolute"===d.series.data?this.getSheetsSeriesDomain():this.getDomain(o.graphs),v=this.limitDomain(g.minLimit,g.maxLimit,b),x=b[0]<0,y=d3.scale.linear().domain(b).clamp(v),q=e.categories.categoryWidth?Number(e.categories.categoryWidth):null,w=!0,S=!!e.legend.enabled,C={beforeCategoryBorder:x?h.top:0},I=c.Axis().scale(y).orient("left").drawLines(!1).style(d.style.axisTick),_=e.axis[0]&&e.axis[0].title;_&&(s.left=p.getTextDimensions(_,this.svg,d.style.axisTitle).height+10);var k=e.axis[1]&&e.axis[1].title;k&&(s.bottom=p.getTextDimensions(k,this.svg,d.style.axisTitle).height+5);var T,M=d.width-n.left-s.left-n.right-s.right,L={width:0,height:0},H=c.Axis.tickFormat(I.scale(),I.ticks());o.ticks&&(T=y.ticks().map(function(t){return H(t)}),L=p.getTextDimensions(T,this.svg,d.style.axisTick),r.left=L.width,n.top=L.height);var D=d.height-n.top-s.top-n.bottom-s.bottom;l.maxCategoryHeight+=D*t;var O=M-r.left-r.right,V=d3.range(0,f.length),F=m.Ordinal().domain(V).rangeBands([0,O],u.padding,u.outerPadding),$=q;if(q){for(var A=d3.max(o.graphs,function(t){return t.data.length}),P=.2,B=d3.scale.ordinal().domain(d3.range(0,A)).rangeBands([0,$],P,0);A&&q>B.rangeBand();)$+=1,B.rangeBands([0,$],P,0);var N=m.Ordinal().domain(V).rangeBandsCentered([0,O],$,u.outerPadding),z=N.range()[N.range().length-1]+N.rangeBand()+u.outerPadding;O>z&&(F=N)}var G={width:d.width};if(this.renderSheetSwitch(G),!o.graphs||o.graphs&&0===o.graphs.length)return this.resetRootElement();l.maxCategoryWidth=F.rangeBand()+(F.padding()-h.left-h.right),1===V.length&&(l.maxCategoryWidth=O-h.left-h.right);var W=p.getTextDimensions(f,this.svg,d.style.axisTick),j=W.height>l.maxCategoryWidth;j||this.measureCategoryLabels(f,l,h,W);var Z=c.CategoryLabels.Bottom1().scale(F).data(f).style(d.style.axisTick).bounds({width:O,height:l.maxCategoryHeight}).drawSeparators(!0).padding(h);j&&(Z.indexFilter([]),l.maxCategoryHeight=0,Z.drawSeparators(!1));var E=D-l.maxCategoryHeight-C.beforeCategoryBorder;Z.offset({left:F.rangeBand()/2,top:E+C.beforeCategoryBorder}),y.range([E,0]);var R=c.Axis().scale(y).orient("left").tickSize(-M,0).highlightZero(e.grid.horizontalZeroHighlight).style(d.style.grid).tickFormat("").offset({left:-r.left}),Y=c.Axis().scale(F).orient("bottom").tickSize(E,0).highlightZero(e.grid.verticalZeroHighlight).style(d.style.grid).tickFormat("");if(e.grid.vertical||Y.tickValues([]),I.textOffset(-(.25*L.height)).offset({left:-r.left}),o.ticks){var U=this.filterAxisTicks(I);x||U.domain[U.domain.length-1]===b[0]||U.domain.push(b[0]),I.tickValues(U.domain),R.tickValues(U.domain);var X=R.tickValues().length-1;-1===X||y(R.tickValues()[X])!==E||x||R.hideLinesByIndex([X]);var Q=[];T=I.tickValues().map(function(t){return H(t)});var J=p.getAllTextDimensions(T,this.svg,d.style.axisTick),K=I.tickValues().length-1,tt=null;-1!==K&&(tt=I.scale()(I.tickValues()[K])-J[K].height),I.tickValues().forEach(function(t,e){var o=I.scale()(t);null!==tt&&K!==e&&-1===Q.indexOf(K)&&o>tt&&Q.push(K)}),I.hideTicksByIndex(Q)}else I.tickValues([]);e.grid.horizontal||R.tickValues([]);var et=0;o.ticks&&(et=I.getBorderingTick()-L.height,et>0&&(et=0));var ot,at=c.Label().text(_).orientBounds({x1:0,y1:n.top+s.top+et,x2:d.width,y2:n.top+s.top+E+C.beforeCategoryBorder}).style(d.style.axisTitle).orient("left"),it=c.Label().text(k).orientBounds({x1:n.left+s.left,y1:0,x2:n.left+s.left+M,y2:d.height}).style(d.style.axisTitle).orient("bottom");if(S){var nt=this.prepareLegendData(e),st=c.Legend.TextItemMetrics().width(G.width).texts(nt.map(function(t){return t.title})).measureContainer(d3.select(d.container).select(".igc-fm-legend").node()).reservedSize(36);ot=c.Legend.Legend().data(nt).width(G.width).style(d.style.legend).chartId(this.chartId).chartType("column").textMetrics(st()),this.renderLegend(ot)}else d3.select(d.container).selectAll(".igc-legend").remove();var rt=this.svg.datum(d).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);rt.each(function(t){var e=d3.select(this),l=e.attr("width",t.width).attr("height",t.height),p=l.selectAll("g.igc").data([0]).enter().append("g").attr("class","igc");p.append("g").attr("class","parts");var h=l.selectAll("g.igc"),u=h.select("g.parts");h.attr("transform","translate("+(n.left+s.left+r.left)+","+(n.top+s.top)+")"),i(u,I,"igc-y-axis-text"),i(u,R,"igc-ygrid"),i(u,Y,"igc-xgrid"),i(u,Z,"igc-x-axis-text"),a(h,[{graphs:o.graphs,x:F,y:y,textStyle:t.style.axisTick,legend:ot,transitionDuration:t.animation.duration}]),i(u,function(e){e.each(function(){var e=d3.select(this),o=e.selectAll(".igc-x-axis-border-line").data(w?[0]:[]);o.enter().append("line").transition().attr("class","igc-x-axis-border-line"),o.exit().remove(),o.transition().attr("x1",-r.left).attr("x2",O+n.right).attr("y1",E+C.beforeCategoryBorder+1).attr("y2",E+C.beforeCategoryBorder+1).attr("stroke",t.style.axisTick.color).attr("stroke-width",2)})},"igc-x-axis-border"),i(e,at,"igc-title-left"),i(e,it,"igc-title-bottom")}),typeof this.callback==typeof Function&&this.callback(this)},this.renderGraphInstances=function(){var t,e=this,o=this.graphInstances.enterCount,a=this.graphInstances.updateCount,i=a+o,n=0===a&&o>0,s=a>0&&o>0;this.graphInstances.forEach(function(e){"update"===e.type&&(t=e.instance)});var r=function(){0===--i&&e.graphInstances.forEach(function(t){t.instance.renderText()})};this.graphInstances.forEach(function(e){var o=e.instance,a=o.dispatch();if(s&&"enter"===e.type){a.on("animEnterStart",function(){r()});var i=o.transitionTiming().duration;t&&(i=t.transitionTiming().duration);var l=i.x+i.y;o.renderDelay(l)}else n?a.on("animStart",function(){r()}):a.on("animUpdateEnd",function(){r()});e.selection.call(e.instance)})},this.graphInstanceSetup=function(t,e,o,a){var i=e.data.length;t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(o).textStyle(a.textStyle).shape(e.shape).showValues(e.showValues).legend(a.legend).tooltipText(function(t){return t.xLabel+": "+t.yLabel}).tooltipValue(function(t){return t.groupLabel}).transitionDelay(function(t,e){return e/i*(a.transitionDuration-200)}).transitionDuration(a.transitionDuration)},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.min(t.data,function(t){return t.y})}),d3.max(t,function(t){return d3.max(t.data,function(t){return t.y})})];return e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1)),this.adjustDomain(e),e},this.getSheetsSeriesDomain=function(){var t;return this.options.sheets.forEach(function(e,o){var a=$.extend(!0,{},this.emptySheetData(),e),i=this.prepareSheetData(a),n=this.getDomain(i.graphs);0===o?t=n.slice(0):(t[0]=Math.min(n[0],t[0]),t[1]=Math.max(n[1],t[1]))},this),t},this.adjustDomain=function(t){var e=t[0]<0&&t[1]<0,o=t[0]>0&&t[1]>0;e&&!o&&(t[1]=0),o&&!e&&(t[0]=0)},this.measureCategoryLabels=function(t,e,o,a){var i;if(a.width<e.maxCategoryWidth)e.maxCategoryHeight=a.height+o.top+o.bottom;else if(a.width+o.top+o.bottom<e.maxCategoryHeight)e.maxCategoryHeight=a.width+o.top+o.bottom;else{var n=e.maxCategoryWidth>=e.maxCategoryHeight;i=f.Measure.wrappedText(this.svg,e.maxCategoryWidth,t,this.options.style.axisTick,a.height);var s=o.top+i.height+o.bottom;if(s<=e.maxCategoryHeight)return void(e.maxCategoryHeight=s);if(n)return;i=f.Measure.wrappedText(this.svg,e.maxCategoryHeight-o.top-o.bottom,t,this.options.style.axisTick,a.height),e.maxCategoryHeight=i.width+o.top+o.bottom}},this.filterAxisTicks=function(t){var e=t.scale(),o=e.tickFormat(),a=[],i=[],n=[],s=[];e.ticks().reverse().forEach(function(t){0===t?(a.push(o(t)),i.push(e(t)),n.push(o(t)),s.push(e(t))):t>0?(a.push(o(t)),i.push(e(t))):(n.push(o(t)),s.push(e(t)))});var r=p.getTextDimensions(a.concat(n),this.svg,this.options.style.axisTick),l=r.height+5,h=c.CategoryLabels.getStepsInRange(i,l,-1),u=c.CategoryLabels.getStepsInRange(s,l,1),d=c.CategoryLabels.filterToFit(i,a,h,-1),g=c.CategoryLabels.filterToFit(s,n,u,1);
return d.domain=d.domain.reverse(),g.domain.length&&"0"===g.domain[0]&&g.domain.shift(),{domain:d.domain.concat(g.domain).map(function(t){return Number(t.replace(/(\,)/gi,""))})}},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate"}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{shape:"column-column",padding:20},series:[{type:"column-grouped"}],axis:[{title:"",ticks:!0,showValues:!0},{title:""}],grid:{verticalZeroHighlight:!0,vertical:!1,horizontal:!0}})},this.prepareSheetData=function(t){var e,o=$.extend(!0,{},t.axis[0]);if(o){t.categories.data||(t.categories.data=[]);var a=t.categories.data.length;return o.graphs=t.categories.data.map(function(){return{colors:t.categories.colors,data:[],showValues:o.showValues===!0,type:"column-grouped",shape:t.categories.shape}}),t.series.forEach(function(e,i){e.data.length<a&&t.categories.data.forEach(function(t,o){e.data[o]=e.data[o]}),e.data.forEach(function(a,s){var r=t.categories.data[s];"undefined"!=typeof r&&o.graphs[s].data.push({x:s,y:n(a,null),xLabel:n(e.title),yLabel:n(e.rawData[s]),groupLabel:n(r),seriesIdx:i})})}),e=o.graphs,o.graphs.forEach(function(t){var e=t.data.length,o=0;0!==e&&(t.data.forEach(function(t){null===t.y&&o++}),o===e&&(t.data=[]))}),o.categories=t.categories.data.slice(0).filter(function(t,e){return o.graphs[e]&&o.graphs[e].data.length>0}),o.graphs=o.graphs.filter(function(t){return t.data&&t.data.length>0}),o.graphs.length!==e&&o.graphs.forEach(function(t,e){t.data.forEach(function(t){t.x=e})}),o}},this.prepareLegendData=function(t){var e=t.categories.colors;return t.series.map(function(t,o){return{color:p.getColor(o,e),title:t.title}})},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),e.axis.forEach(function(e,o){var a=t.axis&&t.axis[o];a&&$.extend(!0,e,a)})})}}.call(c.ColumnGrouped.prototype,v),c.Bar=function(t){this.initialize(t)},c.Bar.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){var t=this.options;if(this.detectDimensions(),this.renderSheetSwitch({width:t.width}),t.sheets&&t.sheets.length<1)return this.resetRootElement();var e,o={top:0,right:0,bottom:0,left:0},a={left:0,right:0,top:0,bottom:0},i={left:0,right:0},n=this.getSheetData(),s=this.prepareSheetData(n),r=s[0],l={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0},h={top:0,right:10,bottom:0,left:0};n.categories.categoryHeight&&(e=Number(n.categories.categoryHeight)),r.graphs[0].data=r.graphs[0].data.filter(function(t){return null!==t.x});var u=r.graphs[0].data.map(function(t){return t.y});if(u.length<1)return this.resetRootElement();var d=this.renderGraphs.bind(this),g=this.renderPart.bind(this),m=n.axis[1]&&n.axis[1].title;m&&(a.left=p.getTextDimensions(m,this.svg).height+10);var b=n.axis[0]&&n.axis[0].title;b&&(a.bottom=p.getTextDimensions(b,this.svg).height+10);var v={width:0,height:0};if(r.ticks){var x=["0123456789,."];v=p.getTextDimensions(x,this.svg,t.style.axisTick),v.height=Math.min(v.height,30)}var y=t.width-o.left-a.left-o.right-a.right,q=t.height-o.top-a.top-o.bottom-a.bottom,w=.1,S=.1,C=d3.range(0,u.length),I=d3.scale.ordinal().domain(C);if(e){var _=10;for(I.rangeBands([0,_-(v.height+5)],S,w);I.rangeBand()-e<0;)_+=1,I.rangeBands([0,_-(v.height+5)],S,w);_-=1,t.height=_+o.top+a.top+o.bottom+a.bottom,q=_}I.rangeBands([0,q-(v.height+5)],S,w);var k=y-i.left-i.right,T=this.getDomain(r.graphs);"absolute"===t.series.data&&(T=this.getSheetsSeriesDomain());var M=n.axis[0],L=this.limitDomain(M.minLimit,M.maxLimit,T),H=h.right,D=T[0]<0;D&&(H=2*H);var O=p.getTextDimensions(u,this.svg,t.style.axisTick);l.maxLeftCategoryWidth=.35*k-h.right,l.maxLeftCategoryHeight=I.rangeBand()+I.rangeBand()*S/(1-S)-h.top-h.bottom;var V,F=!1;O.width<=l.maxLeftCategoryHeight?V=O.height:(V=f.Measure.wrappedText(this.svg,l.maxLeftCategoryWidth,u,t.style.axisTick,O.height).width,Math.ceil(V)<=l.maxLeftCategoryWidth&&(V=Math.ceil(V)),F=l.maxLeftCategoryHeight<O.height);var $=c.CategoryLabels.Left().scale(I).bounds({width:V+h.right,height:q}).offset({left:-(V+H),top:0}).data(u).style(t.style.axisTick).padding(h);F&&$.indexFilter(this.filterOverlappingCategories(I,O,p.getAllTextDimensions(u,this.svg,t.style.axisTick))),k-=V+h.right+H;var A=d3.scale.linear().range([0,k]).clamp(L);A.domain(T);var P=c.Axis().scale(I).orient("left").tickSize(-y,0).highlightZero(n.grid.horizontalZeroHighlight).style(t.style.grid).tickFormat("");n.grid.horizontal||P.tickValues([]);var B=c.Axis().scale(A).orient("bottom").tickSize(q,0).highlightZero(n.grid.verticalZeroHighlight).style(t.style.grid).tickFormat(""),N=c.Axis().scale(A).orient("bottom").drawLines(!1).style(t.style.axisTick).textOffset(-5).offset({top:q-v.height/4});if(r.ticks){var z=N.scale(),G=z.tickFormat(),W=[],j=[],Z=[],E=[];z.ticks().forEach(function(t){0===t?(W.push(G(t)),j.push(z(t)),Z.push(G(t)),E.push(z(t))):0>t?(W.push(G(t)),j.push(z(t))):(Z.push(G(t)),E.push(z(t)))}),v=p.getTextDimensions(W.concat(Z),this.svg,t.style.axisTick);var R=c.CategoryLabels.getStepsInRange(j,v.width+5,-1),Y=c.CategoryLabels.getStepsInRange(E,v.width+5,1),U=c.CategoryLabels.filterToFit(j,W,R,-1),X=c.CategoryLabels.filterToFit(E,Z,Y,1);U.domain.length&&"0"===U.domain[0]&&U.domain.shift();var Q={domain:U.domain.concat(X.domain).map(function(t){return Number(t.replace(/(\,)/gi,""))})};D||Q.domain[0]===T[0]||Q.domain.unshift(T[0]),N.tickValues(Q.domain),B.tickValues(Q.domain),B.tickValues().length>0&&0===A(B.tickValues()[0])&&B.hideLinesByIndex([0]);var J=[],K=N.tickValues().map(function(t){return N.scale().tickFormat()(t)}),tt=p.getAllTextDimensions(K,this.svg,t.style.axisTick);N.tickValues().forEach(function(t,e){var o=N.scale()(t),a=tt[e].width,i=o-a+N.textOffset();D&&(i+=$.padding().right);var n=i>0;0===e&&B.tickValues().length>0&&0===A(B.tickValues()[0])&&V+$.padding().right>a+Math.abs(N.textOffset())||n||J.push(e)}),N.hideTicksByIndex(J)}else N.tickValues([]);n.grid.vertical||B.tickValues([]);var et=c.Label().text(m).orientBounds({x1:0,y1:o.top+a.top,x2:t.width,y2:o.top+a.top+q}).style(t.style.axisTitle).orient("left"),ot=c.Label().text(b).orientBounds({x1:o.left+a.left+i.left+V+$.padding().right,y1:o.top,x2:t.width,y2:t.height}).style(t.style.axisTitle).orient("bottom"),at=this.svg.datum(t).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);at.each(function(t){var e=d3.select(this),n=e.attr("width",t.width).attr("height",t.height),s=n.selectAll(".igc").data([0]).enter().append("g").attr("class","igc"),l=s.append("g").attr("class","parts"),p=n.selectAll(".igc");s.empty()&&(l=p.select(".parts")),p.attr("transform","translate("+(o.left+a.left+i.left+(V+H))+","+(o.top+a.top)+")"),g(l,P,"igc-ygrid"),g(l,B,"igc-xgrid"),g(l,$,"igc-y-axis-text"),d(p,[{graphs:r.graphs,x:A,y:I,textStyle:t.style.axisTick,transitionDuration:t.animation.duration}]),g(l,N,"igc-x-axis-text"),g(e,et,"igc-title-left"),g(e,ot,"igc-title-bottom")}),"function"==typeof this.callback&&this.callback(this)},this.graphInstanceSetup=function(t,e,o,a,i){var n=e.data.length;t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").groupId(i).textStyle(a.textStyle).shape(e.shape).showValues(e.showValues).tooltipText(function(t){return t.yLabel}).tooltipValue(function(t){return t.xLabel}).transitionDelay(function(t,e){return e/n*500}).transitionDuration(a.transitionDuration).chartDispatch(a.dispatch)},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.min(t.data,function(t){return t.x})}),d3.max(t,function(t){return d3.max(t.data,function(t){return t.x})})];return e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1)),this.adjustDomain(e),e},this.getSheetsSeriesDomain=function(){var t;return this.options.sheets.forEach(function(e,o){var a=$.extend(!0,{},this.emptySheetData(),e),i=this.prepareSheetData(a),n=i[0],s=this.getDomain(n.graphs);0===o?t=s.slice(0):(t[0]=Math.min(s[0],t[0]),t[1]=Math.max(s[1],t[1]))},this),t},this.adjustDomain=function(t){var e=t[0]<0&&t[1]<0,o=t[0]>0&&t[1]>0;e&&!o&&(t[1]=0),o&&!e&&(t[0]=0)},this.filterOverlappingCategories=function(t,e,o){function a(t){return n[t]+i-o[t].height/2}for(var i=t.rangeBand()/2,n=t.range(),s=n.length-1,r=0,l=0,p=n.length;p>l;l++)if(a(l)>=0){r=l;break}n=n.slice(r);var h=c.CategoryLabels.getStepsInRange(n,e.height),u=c.CategoryLabels.filterToFit(n,n,h);return _.filter(u.domainIndex.map(function(t){return r+t}),function(t){return s>=t})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate"}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{series:[{title:"",type:"bar",axisIndex:0,showValues:!0,shape:"bar-bar"}],axis:[{title:"",ticks:!0},{title:""}],grid:{verticalZeroHighlight:!0,vertical:!0,horizontal:!1}})},this.prepareSheetData=function(t){var e=$.extend(!0,[],t.axis);return e.forEach(function(e,o){if(e){e.graphs||(e.graphs=[]);var a=t.categories.colors;t.series.forEach(function(i){if(o===i.axisIndex){var s=i.data.map(function(e,o){var s={x:n(e,null),y:n(t.categories.data[o]),xLabel:n(i.rawData[o]),color:p.getColor(o,a)};return s}),r={type:i.type,data:s,showValues:i.showValues===!0,shape:i.shape};e.graphs.push(r)}},this)}},this),e},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){"bar"===e.type&&t.bar&&$.extend(!0,e,t.bar)}),t.grid&&$.extend(!0,e.grid,t.grid),e.axis.forEach(function(e,o){var a=t.axis&&t.axis[o];a&&$.extend(!0,e,a)})})}}.call(c.Bar.prototype,v),c.BarStacked=function(t){this.initialize(t)},c.BarStacked.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t,e={top:0,right:0,bottom:0,left:0},o={left:0,right:0,top:0,bottom:0},a={left:0,right:0},i=this.getSheetData(),n=this.prepareSheetData(i),s=this.options,r=n.categories,l=!!i.legend.enabled,h={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0},u={top:2,right:10,bottom:2,left:0};i.categories.categoryHeight&&(t=Number(i.categories.categoryHeight));var d=this.renderGraphs.bind(this),g=this.renderPart.bind(this),m=i.axis[1]&&i.axis[1].title;m&&(o.left=p.getTextDimensions(m,this.svg).height+10);var b=i.axis[0]&&i.axis[0].title;b&&(o.bottom=p.getTextDimensions(b,this.svg).height+10);var v={width:0,height:0};if(n.ticks){var x=["0123456789,."];v=p.getTextDimensions(x,this.svg,s.style.axisTick),v.height=Math.min(v.height,30)}var y=s.width-e.left-o.left-e.right-o.right,q=s.height-e.top-o.top-e.bottom-o.bottom,w=.1,S=.1,C=d3.range(0,r.length),I=d3.scale.ordinal().domain(C);if(t){var _=10;for(I.rangeBands([0,_-(v.height+5)],S,w);I.rangeBand()-t<0;)_+=1,I.rangeBands([0,_-(v.height+5)],S,w);_-=1,s.height=_+e.top+o.top+e.bottom+o.bottom,q=_}I.rangeBands([0,q-(v.height+5)],S,w);var k=y-a.left-a.right,T=this.getDomain(n.graphs);"absolute"===s.series.data&&(T=this.getSheetsSeriesDomain());var M=i.axis[0],L=this.limitDomain(M.minLimit,M.maxLimit,T),H=u.right,D=T[0]<0;D&&(H=2*H);var O=p.getTextDimensions(r,this.svg,s.style.axisTick);h.maxLeftCategoryWidth=.35*k-u.right,h.maxLeftCategoryHeight=I.rangeBand()+I.rangeBand()*S/(1-S)-u.top-u.bottom;var V,F=!1;O.width<=h.maxLeftCategoryHeight?V=O.height:(V=f.Measure.wrappedText(this.svg,h.maxLeftCategoryWidth,r,s.style.axisTick,O.height).width,Math.ceil(V)<=h.maxLeftCategoryWidth&&(V=Math.ceil(V)),F=h.maxLeftCategoryHeight<O.height);var $=c.CategoryLabels.Left().scale(I).data(r).bounds({width:V+u.right,height:q}).offset({left:-(V+H),top:0}).style(s.style.axisTick).padding(u);F&&$.indexFilter(this.filterOverlappingCategories(I,O,p.getAllTextDimensions(r,this.svg,s.style.axisTick))),k-=V+u.right+H;var A=d3.scale.linear().rangeRound([0,k]).clamp(L);A.domain(T);var P=c.Axis().scale(I).orient("left").tickSize(-y,0).highlightZero(i.grid.horizontalZeroHighlight).style(s.style.grid).tickFormat("");i.grid.horizontal||P.tickValues([]);var B=c.Axis().scale(A).orient("bottom").tickSize(q,0).highlightZero(i.grid.verticalZeroHighlight).style(s.style.grid).tickFormat(""),N=c.Axis().scale(A).orient("bottom").drawLines(!1).style(s.style.axisTick).textOffset(-5).offset({top:q-v.height/4});if(n.ticks){var z=N.scale(),G=z.tickFormat(),W=[],j=[],Z=[],E=[];z.ticks().forEach(function(t){0===t?(W.push(G(t)),j.push(z(t)),Z.push(G(t)),E.push(z(t))):0>t?(W.push(G(t)),j.push(z(t))):(Z.push(G(t)),E.push(z(t)))}),v=p.getTextDimensions(W.concat(Z),this.svg,s.style.axisTick);var R=c.CategoryLabels.getStepsInRange(j,v.width+5,-1),Y=c.CategoryLabels.getStepsInRange(E,v.width+5),U=c.CategoryLabels.filterToFit(j,W,R,-1),X=c.CategoryLabels.filterToFit(E,Z,Y,1);U.domain.length&&"0"===U.domain[0]&&U.domain.shift();var Q={domain:U.domain.concat(X.domain).map(function(t){return Number(t.replace(/(\,)/gi,""))})};D||Q.domain[0]===T[0]||Q.domain.unshift(T[0]),N.tickValues(Q.domain),B.tickValues(Q.domain),B.tickValues().length>0&&0===A(B.tickValues()[0])&&B.hideLinesByIndex([0]);var J=[],K=N.tickValues().map(function(t){return N.scale().tickFormat()(t)}),tt=p.getAllTextDimensions(K,this.svg,s.style.axisTick);N.tickValues().forEach(function(t,e){var o=N.scale()(t),a=tt[e].width,i=o-a+N.textOffset();D&&(i+=u.right);var n=i>0;0===e&&B.tickValues().length>0&&0===A(B.tickValues()[0])&&V+u.right>a+Math.abs(N.textOffset())||n||J.push(e)}),N.hideTicksByIndex(J)}else N.tickValues([]);i.grid.vertical||B.tickValues([]);var et=c.Label().text(m).orientBounds({x1:0,y1:e.top+o.top,x2:s.width,y2:e.top+o.top+q}).style(s.style.axisTitle).orient("left"),ot=c.Label().text(b).orientBounds({x1:e.left+o.left+V+u.right,y1:e.top,x2:s.width,y2:s.height}).style(s.style.axisTitle).orient("bottom"),at={width:s.width};if(this.renderSheetSwitch(at),n.graphs&&0===n.graphs.length)return this.resetRootElement();var it;if(l){var nt=this.prepareLegendData(i),st=c.Legend.TextItemMetrics().width(at.width).texts(nt.map(function(t){return t.title})).measureContainer(d3.select(s.container).select(".igc-fm-legend").node()).reservedSize(36);it=c.Legend.Legend().data(nt).width(at.width).style(s.style.legend).chartId(this.chartId).textMetrics(st()),this.renderLegend(it)}else d3.select(s.container).selectAll(".igc-legend").remove();var rt=this.svg.datum(s).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);rt.each(function(t){var i=d3.select(this),s=i.attr("width",t.width).attr("height",t.height),r=s.selectAll(".igc").data([0]).enter().append("g").attr("class","igc"),l=r.append("g").attr("class","parts"),p=s.selectAll(".igc");r.empty()&&(l=p.select(".parts")),p.attr("transform","translate("+(e.left+o.left+a.left+(V+H))+","+(e.top+o.top)+")"),g(l,$,"igc-y-axis-text"),g(l,P,"igc-ygrid"),g(l,B,"igc-xgrid"),d(p,[{graphs:n.graphs,x:A,y:I,textStyle:t.style.axisTick,legend:it,transitionDuration:t.animation.duration}]),g(l,N,"igc-x-axis-text"),g(i,et,"igc-title-left"),g(i,ot,"igc-title-bottom")}),typeof this.callback==typeof Function&&this.callback(this)},this.graphInstanceSetup=function(t,e,o,a){var i=a.graphs.length;return t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(o).textStyle(a.textStyle).shape(e.shape).showValues(e.showValues).legend(a.legend).tooltipText(function(t){return t.yLabel+": "+t.xLabel}).tooltipValue(function(t){return t.groupLabel}).transitionDelay(function(){return o/i*500}).transitionDuration(a.transitionDuration)},this.renderGraphInstances=function(){var t,e=this,o=this.graphInstances.enterCount,a=this.graphInstances.updateCount,i=a+o,n=0===a&&o>0,s=a>0&&o>0;this.graphInstances.forEach(function(e){"update"===e.type&&(t=e.instance)});var r=function(){0===--i&&e.graphInstances.filter(function(t){return!t.skipTextRender}).forEach(function(t){t.instance.renderText()})};this.graphInstances.forEach(function(e){var o=e.instance,a=o.dispatch();if(s&&"enter"===e.type){a.on("animStart",function(){r()}),e.skipTextRender=!0,a.on("animEnterStart",function(){e.instance.renderText()});var i=o.transitionTiming().duration;t&&(i=t.transitionTiming().duration);var l=i.x+i.y;o.renderDelay(l)}else n?a.on("animStart",function(){r()}):a.on("animUpdateEnd",function(){r()});e.selection.call(e.instance)})},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.sum(t.data,function(t){return t.x<0?t.x:0})}),d3.max(t,function(t){return d3.sum(t.data,function(t){return t.x>0?t.x:0})})];return e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1)),this.adjustDomain(e),e},this.getSheetsSeriesDomain=function(){var t;return this.options.sheets.forEach(function(e,o){var a=$.extend(!0,{},this.emptySheetData(),e),i=this.prepareSheetData(a),n=this.getDomain(i.graphs);0===o?t=n.slice(0):(t[0]=Math.min(n[0],t[0]),t[1]=Math.max(n[1],t[1]))},this),t},this.adjustDomain=function(t){var e=t[0]<0&&t[1]<0,o=t[0]>0&&t[1]>0;e&&!o&&(t[1]=0),o&&!e&&(t[0]=0)},this.filterOverlappingCategories=function(t,e,o){function a(t){return n[t]+i-o[t].height/2}for(var i=t.rangeBand()/2,n=t.range(),s=n.length-1,r=0,l=0,p=n.length;p>l;l++)if(a(l)>=0){r=l;break}n=n.slice(r);var h=c.CategoryLabels.getStepsInRange(n,e.height),u=c.CategoryLabels.filterToFit(n,n,h);return _.filter(u.domainIndex.map(function(t){return r+t}),function(t){return s>=t})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate"}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{padding:20},series:[{type:"bar"}],axis:[{title:"",ticks:!0,showValues:!0},{title:""}],grid:{verticalZeroHighlight:!0,vertical:!0,horizontal:!1}})},this.prepareSheetData=function(t){var e,o=$.extend(!0,{},t.axis[0]);return o?(t.categories.data||(t.categories.data=[]),o.graphs=t.categories.data.map(function(){return{colors:t.categories.colors,data:[],showValues:o.showValues===!0,type:"bar-stacked"}}),t.series.forEach(function(e,a){e.data.forEach(function(i,s){var r=t.categories.data[s];"undefined"!=typeof r&&o.graphs[s].data.push({x:n(i,null),y:s,xLabel:n(e.rawData[s]),yLabel:n(e.title),groupLabel:n(r),seriesIdx:a})})}),e=o.graphs,o.graphs.forEach(function(t){var e=t.data.length,o=0;0!==e&&(t.data.forEach(function(t){null===t.x&&o++}),o===e&&(t.data=[]))}),o.categories=t.categories.data.slice(0).filter(function(t,e){return o.graphs[e]&&o.graphs[e].data.length>0}),o.graphs=o.graphs.filter(function(t){return t.data&&t.data.length>0}),o.graphs.length!==e&&o.graphs.forEach(function(t,e){t.data.forEach(function(t){t.y=e})}),o):void 0},this.prepareLegendData=function(t){var e=t.categories.colors;return t.series.map(function(t,o){return{color:p.getColor(o,e),title:t.title}})},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),e.axis.forEach(function(e,o){var a=t.axis&&t.axis[o];a&&$.extend(!0,e,a)})})}}.call(c.BarStacked.prototype,v),c.BarGrouped=function(t){this.initialize(t)},c.BarGrouped.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t,e={top:0,right:0,bottom:0,left:0},o={left:0,right:0,top:0,bottom:0},a={left:0,right:0},i=this.getSheetData(),n=this.prepareSheetData(i),s=this.options,r=n.categories,h=!!i.legend.enabled,u={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0},d={top:2,right:10,bottom:2,left:0};i.categories.categoryHeight&&(t=Number(i.categories.categoryHeight));var g=this.renderGraphs.bind(this),b=this.renderPart.bind(this),v=l.preciseNumber,x=i.axis[1]&&i.axis[1].title;x&&(o.left=p.getTextDimensions(x,this.svg).height+10);var y=i.axis[0]&&i.axis[0].title;y&&(o.bottom=p.getTextDimensions(y,this.svg).height+10);var q={width:0,height:0};n.ticks&&(q=p.getTextDimensions(["0123456789,."],this.svg,s.style.axisTick),q.height=Math.min(q.height,30));var w=q.height+5,S=i.categories.padding,C=w+S/2,I=s.width-e.left-o.left-e.right-o.right,_=s.height-e.top-o.top-e.bottom-o.bottom,k=d3.range(0,r.length),T=m.Ordinal().domain(k),M={width:s.width};if(this.renderSheetSwitch(M),!n.graphs||n.graphs&&0===n.graphs.length)return this.resetRootElement();if(t){for(var L=d3.max(n.graphs,function(t){return t.data.length}),H=.2,D=t,O=d3.scale.ordinal().domain(d3.range(0,L)).rangeBands([0,D],H,0);t>O.rangeBand();)D+=1,O.rangeBands([0,D],H,0);T.rangeBandsByWidth(D,S,C);var V=T.range()[T.range().length-1]+T.rangeBand()+C;s.height=V+e.top+o.top+e.bottom+o.bottom,_=V}else{T.rangeBands([0,_],S,C);var F=k.length*T.rangeBand()+(k.length-1)*T.padding();F=v(F),0===v(_-F)&&(S=.1*((_-2*C)/k.length-.1),S=v(S),C=w+S/2,T.rangeBands([0,_],S,C))}var $=I-a.left-a.right,A=this.getDomain(n.graphs);"absolute"===s.series.data&&(A=this.getSheetsSeriesDomain());var P=i.axis[0],B=this.limitDomain(P.minLimit,P.maxLimit,A),N=d.right,z=A[0]<0;z&&(N=2*N),u.maxLeftCategoryWidth=.35*$-d.right;var G=p.getTextDimensions(r,this.svg,s.style.axisTick);u.maxLeftCategoryHeight=T.rangeBand()+T.padding()-d.top-d.bottom;var W;G.width<=u.maxLeftCategoryHeight?W=G.height:(W=f.Measure.wrappedText(this.svg,u.maxLeftCategoryWidth,r,s.style.axisTick,G.height).width,Math.ceil(W)<=u.maxLeftCategoryWidth&&(W=Math.ceil(W)));var j=c.CategoryLabels.Left().scale(T).data(r).style(s.style.axisTick).padding(d).bounds({width:W+d.right,height:_}).offset({left:-(W+N),top:0}).drawSeparators(!0);$-=W+d.right+N;var Z=d3.scale.linear().rangeRound([0,$]).clamp(B);Z.domain(A);var E=c.Axis().scale(T).orient("left").tickSize(-I,0).highlightZero(i.grid.horizontalZeroHighlight).style(s.style.grid).tickFormat("");i.grid.horizontal||E.tickValues([]);var R=c.Axis().scale(Z).orient("bottom").tickSize(_,0).highlightZero(i.grid.verticalZeroHighlight).style(s.style.grid).tickFormat(""),Y=c.Axis().scale(Z).orient("bottom").drawLines(!1).style(s.style.axisTick).textOffset(-5).offset({top:_-q.height/4});if(n.ticks){var U=Y.scale(),X=U.tickFormat(),Q=[],J=[],K=[],tt=[];U.ticks().forEach(function(t){0===t?(Q.push(X(t)),J.push(U(t)),K.push(X(t)),tt.push(U(t))):0>t?(Q.push(X(t)),J.push(U(t))):(K.push(X(t)),tt.push(U(t)))}),q=p.getTextDimensions(Q.concat(K),this.svg,s.style.axisTick);var et=c.CategoryLabels.getStepsInRange(J,q.width+5,-1),ot=c.CategoryLabels.getStepsInRange(tt,q.width+5),at=c.CategoryLabels.filterToFit(J,Q,et,-1),it=c.CategoryLabels.filterToFit(tt,K,ot,1);at.domain.length&&"0"===at.domain[0]&&at.domain.shift();var nt={domain:at.domain.concat(it.domain).map(function(t){return Number(t.replace(/(\,)/gi,""))})};z||nt.domain[0]===A[0]||nt.domain.unshift(A[0]),Y.tickValues(nt.domain),R.tickValues(nt.domain),R.tickValues().length>0&&0===Z(R.tickValues()[0])&&R.hideLinesByIndex([0]);var st=[],rt=Y.tickValues().map(function(t){return Y.scale().tickFormat()(t)}),lt=p.getAllTextDimensions(rt,this.svg,s.style.axisTick);Y.tickValues().forEach(function(t,e){var o=Y.scale()(t),a=lt[e].width,i=o-a+Y.textOffset();z&&(i+=d.right);var n=i>0;0===e&&R.tickValues().length>0&&0===Z(R.tickValues()[0])&&W+d.right>a+Math.abs(Y.textOffset())||n||st.push(e)}),Y.hideTicksByIndex(st)}else Y.tickValues([]);i.grid.vertical||R.tickValues([]);var pt,ht=c.Label().text(x).orientBounds({x1:0,y1:e.top+o.top,x2:s.width,y2:e.top+o.top+_}).style(s.style.axisTitle).orient("left"),ut=c.Label().text(y).orientBounds({x1:e.left+o.left+a.left+W+d.right,y1:e.top,x2:s.width,y2:s.height}).style(s.style.axisTitle).orient("bottom");if(h){var ct=this.prepareLegendData(i),dt=c.Legend.TextItemMetrics().width(M.width).texts(ct.map(function(t){return t.title})).measureContainer(this.container.select(".igc-fm-legend").node()).reservedSize(36);pt=c.Legend.Legend().data(ct).width(M.width).style(s.style.legend).chartId(this.chartId).textMetrics(dt()),this.renderLegend(pt)}else this.container.selectAll(".igc-legend").remove();var gt=this.svg.datum(s).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);gt.each(function(t){var i=d3.select(this),s=i.attr("width",t.width).attr("height",t.height),r=s.selectAll(".igc").data([0]).enter().append("g").attr("class","igc"),l=r.append("g").attr("class","parts"),p=s.selectAll(".igc");r.empty()&&(l=p.select(".parts")),p.attr("transform","translate("+(e.left+o.left+a.left+(W+N))+","+(e.top+o.top)+")"),b(l,j,"igc-y-axis-text"),b(l,E,"igc-ygrid"),b(l,R,"igc-xgrid"),g(p,[{graphs:n.graphs,x:Z,y:T,textStyle:t.style.axisTick,legend:pt,transitionDuration:t.animation.duration}]),b(l,Y,"igc-x-axis-text"),b(i,ht,"igc-title-left"),b(i,ut,"igc-title-bottom")}),typeof this.callback==typeof Function&&this.callback(this)},this.renderGraphInstances=function(){var t,e=this,o=this.graphInstances.enterCount,a=this.graphInstances.updateCount,i=a+o,n=0===a&&o>0,s=a>0&&o>0;this.graphInstances.forEach(function(e){"update"===e.type&&(t=e.instance)});var r=function(){0===--i&&e.graphInstances.forEach(function(t){t.instance.renderText()})};this.graphInstances.forEach(function(e){var o=e.instance,a=o.dispatch();if(s&&"enter"===e.type){a.on("animEnterStart",function(){r()});var i=o.transitionTiming().duration;t&&(i=t.transitionTiming().duration);var l=i.x+i.y;o.renderDelay(l)}else n?a.on("animStart",function(){r()}):a.on("animUpdateEnd",function(){r()});e.selection.call(e.instance)})},this.graphInstanceSetup=function(t,e,o,a){var i=e.data.length;t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(o).textStyle(a.textStyle).shape(e.shape).showValues(e.showValues).legend(a.legend).tooltipText(function(t){return t.yLabel+": "+t.xLabel}).tooltipValue(function(t){return t.groupLabel}).transitionDelay(function(t,e){return e/i*(a.transitionDuration-200)}).transitionDuration(a.transitionDuration)},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.min(t.data,function(t){return t.x})}),d3.max(t,function(t){return d3.max(t.data,function(t){return t.x})})];return e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1)),this.adjustDomain(e),e},this.getSheetsSeriesDomain=function(){var t;return this.options.sheets.forEach(function(e,o){var a=$.extend(!0,{},this.emptySheetData(),e),i=this.prepareSheetData(a),n=this.getDomain(i.graphs);0===o?t=n.slice(0):(t[0]=Math.min(n[0],t[0]),t[1]=Math.max(n[1],t[1]))},this),t},this.adjustDomain=function(t){var e=t[0]<0&&t[1]<0,o=t[0]>0&&t[1]>0;e&&!o&&(t[1]=0),o&&!e&&(t[0]=0)},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate"}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{shape:"bar-bar",padding:20},series:[{type:"bar-grouped"}],axis:[{title:"",ticks:!0,showValues:!0},{title:""}],grid:{verticalZeroHighlight:!0,vertical:!0,horizontal:!1}})},this.prepareSheetData=function(t){var e,o=$.extend(!0,{},t.axis[0]);if(o){t.categories.data||(t.categories.data=[]);var a=t.categories.data.length;return o.graphs=t.categories.data.map(function(){return{colors:t.categories.colors,data:[],showValues:o.showValues===!0,type:"bar-grouped",shape:t.categories.shape}}),t.series.forEach(function(e,i){e.data.length<a&&t.categories.data.forEach(function(t,o){e.data[o]=e.data[o]}),e.data.forEach(function(a,s){var r=t.categories.data[s];"undefined"!=typeof r&&o.graphs[s].data.push({x:n(a,null),y:s,xLabel:n(e.rawData[s]),yLabel:n(e.title),groupLabel:n(r),seriesIdx:i})})}),e=o.graphs,o.graphs.forEach(function(t){var e=t.data.length,o=0;0!==e&&(t.data.forEach(function(t){null===t.x&&o++}),o===e&&(t.data=[]))}),o.categories=t.categories.data.slice(0).filter(function(t,e){return o.graphs[e]&&o.graphs[e].data.length>0}),o.graphs=o.graphs.filter(function(t){return t.data&&t.data.length>0}),o.graphs.length!==e&&o.graphs.forEach(function(t,e){t.data.forEach(function(t){t.y=e})}),o}},this.prepareLegendData=function(t){var e=t.categories.colors;return t.series.map(function(t,o){return{color:p.getColor(o,e),title:t.title}})},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),e.axis.forEach(function(e,o){var a=t.axis&&t.axis[o];a&&$.extend(!0,e,a)})})}}.call(c.BarGrouped.prototype,v),c.Line=function(t){this.initialize(t)},c.Line.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t,e=.28,o=this.svg,a=this.runtime={},i={top:0,right:0,bottom:0,left:0},n={top:0,right:0,bottom:0,left:0},s={top:0,right:0,bottom:0,left:0},r={beforeBottomCategories:5,afterTopCategories:5,afterYAxisTick:5},l=a.sheet=this.getSheetData(),h=this.prepareSheetData(l),u=a.graphs=h.graphs,d=this.options,g=!(!l.grid||!l.grid.reverse),m=!!l.categories.numeric,f=!!l.legend.enabled,b=a.xAxisOptions=l.axis[0],v=a.yAxisOptions=l.axis[1],x=this.showDataPoints(),y=!1,q=!!l.axis[0].ticks,w=null,S=!!l.axis[1].ticks,C=null,I=this.showAsPercent(),_=this.forcedDomainLimits(b),k=this.forcedDomainLimits(v),T=l.axis[1]&&l.axis[1].title;T&&(n.left=p.getTextDimensions(T,o,d.style.axisTitle).height+10);var M=l.axis[0]&&l.axis[0].title;M&&(n.bottom=p.getTextDimensions(M,o,d.style.axisTitle).height+10);var L,H={width:0,height:0};S&&(L=["0123456789,."],I&&L.push("%"),H=p.getTextDimensions(L,o,d.style.axisTick),g?i.bottom+=H.height:i.top+=H.height,M||(i.bottom+=H.height/2));var D=d.width-i.left-n.left-i.right-n.right,O=d.height-i.top-n.top-i.bottom-n.bottom,V=a.limits={maxCategoryHeight:O*e},F=g?[0,O]:[O,0],$=d3.scale.linear().range(F),A=this.getDomain(u,"y");A=this.adjustYDomain(A,O),$.domain(A),C=k?this.forceTicksToDomain($.domain(),$.ticks()):$.ticks(),S&&(L=C.map(function(t){return $.tickFormat()(t)}),H.width=p.getTextDimensions(L,o,d.style.axisTick).width,s.left=H.width+r.afterYAxisTick);var P,B,N=a.graphWidth=D-s.left,z=i.left+s.left+n.left;m?(P=a.xScale=this.numericCategoriesScale(),B=this.numericCategories(),this.afterNumericCategories(B)):(P=a.xScale=d3.scale.ordinal().domain(d3.range(0,l.categories.data.length)).rangeBands([0,N],.1),B=this.ordinalCategories(),this.afterOrdinalCategories(B));var G=B.metrics.height;q||(G=0),g?s.top=G+r.afterTopCategories:s.bottom=G+r.beforeBottomCategories;var W=i.top+s.top+n.top;O=O-s.top-s.bottom,F=g?[0,O]:[O,0],$.range(F);var j=C.map(function(t){return $(t)});g||(j=j.reverse());var Z=this.gridTickOffset([0,O],j),E=Z.top+Z.bottom,R="function"==typeof P.rangeBand?P.rangeBand():0;m||(R=P.rangeBand()),t={enabled:x,showOnlyClosest:!1,numericCategories:m,radius:d.series.dataPointRadius,svgContainer:this.svg.node(),x:P,y:$,offset:{left:z,top:W},graphs:u,bounds:{height:d3.max(F),width:N}};var Y=d3.max(u,function(t){return t.data.length});N<2*d.series.dataPointRadius*Y&&(t.showOnlyClosest=!0);var U=c.Axis().scale($).orient("left").tickSize(-D,0).highlightZero(l.grid.horizontalZeroHighlight).style(d.style.grid).tickFormat("").drawExtraLine(!1).tickValues(C);l.grid.horizontal||(y=-1!==C.indexOf(0),U.tickValues(y?[0]:[]));var X=c.Axis().scale(P).orient("bottom").tickSize(O-E,0).highlightZero(l.grid.verticalZeroHighlight).style(d.style.grid).tickFormat("").offset({left:0,top:Z.top}).drawExtraLine(!1).tickValues(w);a.hiddenLines&&a.hiddenLines.length&&X.hideLinesByIndex(a.hiddenLines),l.grid.vertical?m||X.tickValues(B.filterMetrics.domainIndex):X.tickValues([]);var Q=c.Axis().scale($).orient("left").drawLines(!1).style(d.style.axisTick).textOffset(g?H.height:-(H.height/4)).drawExtraLine(!1).tickValues(C);I&&Q.tickFormat(d3.format("p")),S||Q.tickValues([]);var J={x1:i.left,y1:W,x2:d.width,y2:W+O},K=c.Label().text(T).orientBounds(J).style(d.style.axisTitle).orient("left"),tt={x1:i.left+n.left,y1:W,x2:d.width,y2:d.height-i.bottom},et=c.Label().text(M).orientBounds(tt).style(d.style.axisTitle).orient("bottom"),ot=c.CategoryLabels.Bottom().scale(P).data(B.labels).style(d.style.axisTick).bounds({height:V.maxCategoryHeight}).offset({left:R/2,top:g?Z.top-s.top:O+r.beforeBottomCategories-Z.bottom}).tickValues(w);B.labelsFilter&&ot.indexFilter(B.labelsFilter),
g&&ot.textVerticalAlign("bottom"),q||ot.indexFilter([]);var at={width:d.width};if(this.renderSheetSwitch(at),this.sheetSeriesDataEmpty(l))return this.resetRootElement();var it;if(f){var nt=this.prepareLegendData(l),st=c.Legend.TextItemMetrics().width(at.width).texts(nt.map(function(t){return t.title})).measureContainer(this.container.select(".igc-fm-legend").node()).reservedSize(36);it=c.Legend.Legend().data(nt).width(at.width).style(d.style.legend).chartId(this.chartId).textMetrics(st()),this.renderLegend(it)}else this.container.selectAll(".igc-legend").remove();var rt=o.datum(this).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);this.containerSetup(),o.attr("width",d.width).attr("height",d.height),rt.each(function(e){var a=o.select("defs"),i=o.select(".igc").attr("transform","translate("+z+","+W+")"),n=i.select(".igc-grid"),r=o.select(".igc-titles");if(e.renderPart(n,U,"igc-ygrid"),(l.grid.horizontal||y)&&n.select(".igc-ygrid").selectAll(".tick").select("line").attr("transform","translate("+-s.left+",0)").style({stroke:d.style.grid.color}),e.renderPart(n,X,"igc-xgrid"),l.grid.vertical&&n.select(".igc-xgrid").selectAll(".tick").select("line").style({stroke:d.style.grid.color}),e.renderGraphs(i,[{graphs:u,x:P,y:$,legend:it,bounds:{width:N,height:O},offset:{x:z,y:W}}]),_||k){var p={x:0,y:Z.top,width:N,height:O-E,clipPathId:"igc-cp-"+e.chartId};e.graphsSetupClipPath(i,a,p)}else i.selectAll(".igc-graph-group").attr("clip-path",null);i.selectAll(".igc-crosshair-circle").remove(),i.selectAll(".igc-crosshair-overlay").remove();var h={x:-z,y:-W,width:d.width,height:d.height,clipPathId:"igc-cp-curtain-"+e.chartId};e.curtainAnimation(i,a,h,t),e.renderPart(n,Q,"igc-y0-axis-text"),S&&n.select(".igc-y0-axis-text").selectAll(".tick").select("text").attr("transform","translate("+-s.left+", 0)"),e.renderPart(n,ot,"igc-x-axis-text"),e.renderPart(r,K,"igc-title-left"),e.renderPart(r,et,"igc-title-bottom")}),typeof this.callback==typeof Function&&this.callback(this)},this.renderGraphs=function(e){e.selectAll(".igc-graph-group").remove(),t.renderGraphs.apply(this,arguments)},this.graphInstanceSetup=function(t,e,o,a){t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(o).animate(!1).legend(a.legend).interpolate(e.interpolation).filterFn(function(t){return null!==t.y})},this.renderGraphInstances=function(){this.graphInstances.forEach(function(t){var e=t.selection,o=t.graphObj&&t.graphObj.type;o&&e.classed("igc-graph-"+o,!0),e.call(t.instance)})},this.curtainAnimation=function(t,e,o,a){var i=this;t.selectAll(".igc-graph").attr("clip-path","url(#"+o.clipPathId+")"),this.createRectClipPath(e,o);var n=e.select("#"+o.clipPathId).selectAll("path");n.attr("transform","translate(-"+(o.width-o.x)+", 0)").transition().each("end",function(){i.renderDataPoints(t,a)}).duration(500).ease("linear").attr("transform","translate(0, 0)")},this.adjustYDomain=function(t,e){var o=this.options,a=this.showAsPercent(),i=this.runtime,n=o.series.dataPointRadius,s=i.yAxisOptions;return t=a?[0,1]:this.showDataPoints()?c.CategoryLabels.ScaleHelper.linearScaleTicksDomainAdjust(t,n,[0,e]):d3.scale.linear().domain(t).nice(10).nice(10).domain(),-1!==["area-stacked","area","stream-graph"].indexOf(o.type)&&(t[0]=Math.min(t[0],0)),a||this.limitDomain(s.minLimit,s.maxLimit,t),t},this.renderDataPoints=function(t,e){var o=this.chartId,a=[];e.graphs.forEach(function(t){a=a.concat(t.data.map(function(e){return e.colors=t.colors,e}))});var i=c.Crosshair().data(a).scaleX(e.x).scaleY(e.y).offset(e.offset).bounds(e.bounds).svgContainer(e.svgContainer).targetParent(t).chartId(o).tooltipText(function(t){return t.groupLabel}).tooltipValue(function(t){return t.xLabel+": "+t.yLabel}),n=t.selectAll(".igc-crosshair-overlay").data([0]);n.enter().append("rect").attr("x",0).attr("y",0).attr("width",e.bounds.width).attr("height",e.bounds.height).attr("class","igc-crosshair-overlay"),n=t.selectAll(".igc-crosshair-overlay"),i.target(n),n.style({"stroke-width":"0px","fill-opacity":0}).call(i),!e.showOnlyClosest&&e.enabled&&t.selectAll(".igc-graph-group").each(function(){d3.select(this).selectAll(".igc-graph").each(function(t,e){var a=t.graphs[e],i=g.Circle().scaleX(t.x).scaleY(t.y).data(a.data).pX("x").pY("y").colors(a.colors).groupId(e).chartId(o).filterFn(function(t){return null!==t.y}).className("igc-data-point-line").legend(t.legend).tooltipText(function(t){return t.groupLabel}).tooltipValue(function(t){return t.xLabel+": "+t.yLabel}).animate(!1);d3.select(this).call(i)})})},this.getDomain=function(t,e){e=e||"y";var o=[d3.min(t,function(t){return d3.min(t.data,function(t){return t[e]})}),d3.max(t,function(t){return d3.max(t.data,function(t){return t[e]})})];return o[0]===o[1]&&(o[0]>0?o[0]=0:o[0]<0?o[1]=0:(o[0]=-1,o[1]=1)),o},this.numericCategoriesScale=function(){var t=this.runtime,e=t.xAxisOptions,o=c.CategoryLabels.ScaleHelper();return o.type("numeric").data(t.sheet.categories.data).domainLimit([e.minLimit,e.maxLimit]).range([0,t.graphWidth]).rangePointRadius(this.options.series.dataPointRadius),o()},this.numericCategories=function(){var t,e,o,a=this.runtime,i=a.xAxisOptions,n=a.xScale,s=n.ticks();return this.forcedDomainLimits(i)&&(s=this.forceTicksToDomain(n.domain(),s)),t=s.map(function(t){return n.tickFormat()(t)}),e=c.CategoryLabels.measureTextDimensions(this.svg,t,n,this.options.style.axisTick,"horizontal",a.limits.maxCategoryHeight),o=d3.range(0,s.length),{ticks:s,labels:t,metrics:e,labelsFilter:o}},this.ordinalCategories=function(){var t,e,o=this.runtime,a=o.sheet.categories.data.slice(0),i=o.xScale,n=c.CategoryLabels.measureTextDimensions(this.svg,a,i,this.options.style.axisTick,"horizontal",o.limits.maxCategoryHeight),s=i.range(),r=c.CategoryLabels.getStepsInRange(s,n.width+4),l=c.CategoryLabels.filterToFit(s,a,r,1);return l.range.length&&(t=l.domainIndex.map(function(t){return a[t]}),n=c.CategoryLabels.measureTextDimensions(this.svg,t,i,this.options.style.axisTick,"horizontal",o.limits.maxCategoryHeight,l.range),e=l.domainIndex.slice(0)),{labels:a,metrics:n,labelsFilter:e,filterMetrics:l}},this.afterNumericCategories=function(t){var e=this.runtime;e.hiddenLines=[t.labelsFilter.pop()]},this.afterOrdinalCategories=function(t){var e=this.runtime;this.lastOrdinalTickExceeds(e.graphWidth,t.filterMetrics.range,t.metrics,e.xScale)&&t.labelsFilter.pop()},this.showDataPoints=function(){return this.options.series.dataPoints===!0},this.showAsPercent=function(){var t=this.options;return t.series&&t.series.percent},this.lastLinearTickExceeds=function(t,e,o,a){var i,n=e.length-1;return-1!==n?(i=a(e[n]),i+o.width/2>t):void 0},this.lastOrdinalTickExceeds=function(t,e,o,a){var i=e.length-1,n=e[i];return-1!==i?a.rangeBand()/2+n+o.width/2>t:void 0},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{series:[{title:"",type:"line",axisIndex:0}],axis:[{title:"",ticks:!0},{title:"",ticks:!0}]})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{dataPointRadius:5,dataPoints:!0},animation:{duration:800}})},this.prepareSheetData=function(t){var e=this.emptySheetData().series[0].type,o=$.extend(!0,[],t.axis)[0],a=!!t.categories.numeric,i=t.categories.data;return o.graphs=[],t.series.forEach(function(s,r){var l=i.map(function(t,e){var o=e;a&&(o=n(Number(t),0));var i={x:o,y:null,yLabel:n(s.rawData[e]),xLabel:n(t),groupLabel:n(s.title)};return s.data&&(i.y=n(s.data[e],null)),i}),h={type:e,data:l,colors:[p.getColor(r,t.categories.colors)],interpolation:s.interpolation||"linear"};o.graphs.push(h)},this),o},this.prepareLegendData=function(t){var e=t.categories.colors;return t.series.map(function(t,o){return{color:p.getColor(o,e),title:t.title}})},this.getAxisExtraTickPosition=function(t,e){var o=t.scale(),a=c.Axis.ticks(o,t.ticks(),t.tickValues());if(e)return o(a[0]);var i=c.Axis.extraTick(o,a);return o(i)},this.gridTickOffset=function(t,e){return{top:e[0]-t[0],bottom:t[1]-e[e.length-1]}},this.forcedDomainLimits=function(t){return t&&(i(t.minLimit)||i(t.maxLimit))},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){var o=t.series&&t.series[e.axisIndex];o&&$.extend(!0,e,o)}),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),t.axis&&t.axis.length&&$.extend(!0,e.axis,t.axis)})}}.call(c.Line.prototype,v),c.DotPlot=function(t){this.initialize(t)},c.DotPlot.prototype=Object.create(c.Line.prototype),function(t){this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{numeric:!1},series:[{type:"circle"}]})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{dataPointRadius:8,dataPoints:!0,data:"separate"}})},this.graphInstanceSetup=function(t,e,o,a,i){var n=function(t){return function(e){return"string"==typeof e.y?0:t}}(this.options.series.dataPointRadius);t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(i).legend(a.legend).radius(n).filterFn(function(t){return null!==t.y}).tooltipText(function(t){return t.groupLabel}).tooltipValue(function(t){return t.xLabel+": "+t.yLabel})},this.renderGraphs=function(t,e){var o=[];e[0].graphs.forEach(function(t){o.push({graphs:[t],x:e[0].x,y:e[0].y,legend:e[0].legend,bounds:e[0].bounds,offset:e[0].offset})}),v.renderGraphs.call(this,t,o)},this.renderDataPoints=function(){},this.curtainAnimation=function(){}}.call(c.DotPlot.prototype,c.Line.prototype),c.Area=function(t){this.initialize(t)},c.Area.prototype=Object.create(c.Line.prototype),function(t){this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{series:[{type:"area"}]})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{dataPointRadius:5,dataPoints:!1,data:"separate"}})},this.renderGraphs=function(e,o){var a=function(t){t.forEach(function(t){t.data.forEach(function(t){t.y0=0})})};t.renderGraphs.call(this,e,o,function(t){return a(t.graphs),t.graphs})},this.graphInstanceSetup=function(e,o,a,i){t.graphInstanceSetup.apply(this,arguments),e.bounds(i.bounds).offset(i.offset)},this.renderDataPoints=function(t,e){var o=this.chartId;!e.showOnlyClosest&&e.enabled&&t.selectAll(".igc-graph-group").each(function(){d3.select(this).selectAll(".igc-graph").each(function(t,e){var a=t.graphs[e],i=g.Circle().scaleX(t.x).scaleY(t.y).data(a.data).pX("x").pY("y").colors(a.colors).groupId(e).chartId(o).filterFn(function(t){return null!==t.y}).className("igc-data-point-area").legend(t.legend).tooltipText(function(t){return t.groupLabel}).tooltipValue(function(t){return t.xLabel+": "+t.yLabel}).animate(!1);d3.select(this).call(i)})})},this.getSheetsSeriesDomain=function(t){var e;return this.options.sheets.forEach(function(o,a){var i=$.extend(!0,{},this.emptySheetData(),o),n=this.prepareSheetData(i),s=t.call(this,n.graphs,!1);0===a?e=s.slice(0):(e[0]=Math.min(s[0],e[0]),e[1]=Math.max(s[1],e[1]))},this),e},this.getDomain=function(){return"absolute"===this.options.series.data?this.getSheetsSeriesDomain(t.getDomain):t.getDomain.apply(this,arguments)}}.call(c.Area.prototype,c.Line.prototype),c.AreaStacked=function(t){this.initialize(t)},c.AreaStacked.prototype=Object.create(c.Area.prototype),function(t){this.renderGraphs=function(t,e){var o=function(t){var e=[],o=0;return function(a,i,n){o++%t===0&&(e=[0,0]),n>=0?(a.py=e[1]+n,a.y0=e[1],a.y=n,e[1]+=n):(a.py=e[0]+n,a.y0=e[0]+n,a.y=-n,e[0]+=n)}};c.Line.prototype.renderGraphs.call(this,t,e,function(t){var e=d3.layout.stack().out(o(t.graphs.length)).values(function(t){return t.data}),a=e(t.graphs);return a})},this.renderDataPoints=function(t,e){var o=this.chartId,a=this.showAsPercent();!e.showOnlyClosest&&e.enabled&&t.selectAll(".igc-graph-group").each(function(){d3.select(this).selectAll(".igc-graph").each(function(t,e){var i=t.graphs[e],n=i.data.map(function(t){return{groupLabel:t.groupLabel,x:t.x,xLabel:t.xLabel,y:t.py,yLabel:t.yLabel,yPct:t.y}}),s=function(t){return t.xLabel+": "+t.yLabel};a&&(s=function(t){return t.xLabel+": "+t.yLabel+" ("+d3.format(".2%")(t.yPct)+")"});var r=g.Circle().scaleX(t.x).scaleY(t.y).data(n).pX("x").pY("y").colors(i.colors).groupId(e).chartId(o).filterFn(function(t){return null!==t.y}).className("igc-data-point-area-stacked").legend(t.legend).tooltipText(function(t){return t.groupLabel}).tooltipValue(s).animate(!1);d3.select(this.parentNode).call(r)})})},this.getDomain=function(e,o){var a=[],i=[],n=0,s=0,r=void 0;if(o===!0)return t.getSheetsSeriesDomain.call(this,this.getDomain);e.forEach(function(t){t.data.forEach(function(t,e){t.y>=0?(a[e]===r?(a[e]=t.y,n=t.y):a[e]+=t.y,n=Math.min(n,t.y)):(i[e]===r?(i[e]=t.y,s=t.y):i[e]+=t.y,s=Math.max(s,t.y))})});var l=[i.length?d3.min(i):n,a.length?d3.max(a):s];return l[0]===l[1]&&(l[0]>0?l[0]=0:l[0]<0?l[1]=0:(l[0]=-1,l[1]=1)),l},this.prepareSheetData=function(o){var a=t.prepareSheetData.apply(this,arguments);if(!this.showAsPercent())return a;var i=o.categories.data,n=[];return a.graphs.forEach(function(t){i.forEach(function(o,a){n[a]===e&&(n[a]=0),n[a]+=Math.abs(t.data[a].y)})}),a.graphs.forEach(function(t){i.forEach(function(e,o){var a=t.data[o].y;t.data[o].y=a/n[o]})}),a},this.linearScaleTicksDomainAdjust=function(e){if(!this.showAsPercent())return t.linearScaleTicksDomainAdjust.apply(this,arguments);var o=e[0],a=e[1];return 0>o&&a>0?[-1,1]:0>=a?[-1,0]:[0,1]},this.graphInstanceSetup=function(e,o,a,i){t.graphInstanceSetup.apply(this,arguments),e.scaleX(i.x).scaleY(i.y)}}.call(c.AreaStacked.prototype,c.Area.prototype),c.AreaStepped=function(t){this.initialize(t)},c.AreaStepped.prototype=Object.create(c.ColumnStacked.prototype),function(t){this.categoryBandOpts=function(){return t.categoryBandOpts.call(this,{padding:0})},this.createHorizontalScale=function(e){var o=t.createHorizontalScale.apply(this,arguments),a=this.categoryBandOpts(),i=o.rangeBand(),n=i%1;return 0!==n&&(i=parseInt(i,10),a.outerPadding+=n*(e.length-1)/2),a.outerPadding=parseInt(a.outerPadding,10),o.rangeBandsByWidth(i,a.padding,a.outerPadding),o},this.featuresColumnWidth=function(){return null},this.graphInstanceSetup=function(){var e=t.graphInstanceSetup.apply(this,arguments);return e.opacity(.7).transitionDelay(function(){return 0}).transitionDuration(0).transitionTiming({duration:{x:0,y:0,text:50}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{padding:20},series:[{type:"column-stacked"}],axis:[{title:"",ticks:!0,showValues:!1},{title:""}],grid:{horizontalZeroHighlight:!1,vertical:!0,horizontal:!0}})}}.call(c.AreaStepped.prototype,c.ColumnStacked.prototype),c.Scatter=function(t){this.initialize(t)},c.Scatter.prototype=Object.create(c.Line.prototype),function(t){this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{numeric:!0},series:[{type:"circle"}]})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{dataPointRadius:8,dataPoints:!0}})},this.seriesDataValueParser=function(t){var o=new c.DataImporter.NumberParser;return function(a,i){t.data[i]=[Number(o(a[0])),Number(o(a[1]))],a[2]!==e&&null!==a[2]&&(t.data[i][2]=Number(o(a[2])))}},this.prepareSheetData=function(t){var e=this.emptySheetData().series[0].type,o=$.extend(!0,[],t.axis),a=o[0],i=o[1],s=t.categories.data.slice(0),r=n(a.valueLabel),l=n(i.valueLabel),h=n(t.categories.valueLabel),u=0;return a.graphs=[],t.series.forEach(function(o,i){var c=o.data.map(function(t,e){var a={x:n(Number(t[0]),0),y:n(Number(t[1]),null),value:n(Number(t[2]),null),xLabel:n(o.rawData[e][0]),yLabel:n(o.rawData[e][1]),xValueLabel:r,yValueLabel:l,valueLabel:h,groupLabel:n(s[i]),groupSubLabel:n(o.rawData[e][3])};return u=Math.max(null===a.value?0:a.value,u),a}),d={type:e,data:c,colors:[p.getColor(i,t.categories.colors)],interpolation:o.interpolation||"linear"};a.graphs.push(d)},this),a.graphs.forEach(function(t){t.maxValue=u}),a},this.renderGraphs=function(t,e){var o=[];e[0].graphs.forEach(function(t){o.push({graphs:[t],x:e[0].x,y:e[0].y,legend:e[0].legend,bounds:e[0].bounds,offset:e[0].offset})}),v.renderGraphs.call(this,t,o)},this.graphInstanceSetup=function(t,e,o,a,i){var n=function(t){return function(e){return"string"==typeof e.y?0:t}}(this.options.series.dataPointRadius);t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(i).radius(n).legend(a.legend).filterFn(function(t){return null!==t.y}).tooltipText(function(t){return t.groupSubLabel?t.groupLabel+"\n"+t.groupSubLabel+" ("+t.valueLabel+": "+t.value+")":t.groupLabel}).tooltipValue(function(t){return(t.xValueLabel?t.xValueLabel+": ":"")+t.x+"\n"+(t.yValueLabel?t.yValueLabel+": ":"")+t.y})},this.renderDataPoints=function(){},this.numericCategoriesScale=function(){var t=this.runtime,e=t.xAxisOptions,o=[0,t.graphWidth],a=this.getDomain(t.graphs,"x"),i=c.CategoryLabels.ScaleHelper.linearScaleTicksDomainAdjust;return a=i(a,this.options.series.dataPointRadius,o),this.limitDomain(e.minLimit,e.maxLimit,a),d3.scale.linear().domain(a).range(o)},this.prepareLegendData=function(t){var e=t.categories.colors;return t.series.map(function(o,a){return{color:p.getColor(a,e),title:t.categories.data[a]}})},this.curtainAnimation=function(){}}.call(c.Scatter.prototype,c.Line.prototype),c.Bubble=function(t){this.initialize(t)},c.Bubble.prototype=Object.create(c.Scatter.prototype),function(t){this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{dataPointRadius:0,dataPoints:!0}})},this.graphInstanceSetup=function(t,e,o,a,i){var n=this.getRadiusFn();t.scaleX(a.x).scaleY(a.y).data(e.data).pX("x").pY("y").colors(e.colors).groupId(i).radius(n).legend(a.legend).filterFn(function(t){return null!==t.y}).tooltipText(function(t){return t.groupSubLabel?t.groupLabel+"\n"+t.groupSubLabel+" ("+t.valueLabel+": "+t.value+")":t.groupLabel}).tooltipValue(function(t){return(t.xValueLabel?t.xValueLabel+": ":"")+t.x+"\n"+(t.yValueLabel?t.yValueLabel+": ":"")+t.y})},this.getRadiusFn=function(){var t=this.runtime.sizeScale;return function(e){return null===e.value?0:t(e.value)}},this.createSizeScale=function(t){var e=[1,Math.min(this.options.width,this.options.height)/Math.PI*.35],o=d3.scale.sqrt(),a=[],n=[0,0];t.forEach(function(t){a=_.union(a,t.data.map(function(t){return t.value}).filter(function(t){return i(t)}))}),0===a.length?e=[0,0]:a.forEach(function(t){n[0]=Math.min(n[0],t),n[1]=Math.max(n[1],t)}),e[1]=Math.ceil(e[1]),o.domain(n).range(e),this.runtime.sizeScale=o},this.numericCategoriesScale=function(){var t=this.runtime,e=t.xAxisOptions,o=[0,t.graphWidth],a=c.CategoryLabels.ScaleHelper.linearScaleTicksDomainAdjust,i=this.getDomain(t.graphs,"x"),n=d3.scale.linear().domain(i).range(o);return this.expandScaleDomainToBubbleSizes(n,"x"),i=n.domain(),i=a(i,0,o),this.limitDomain(e.minLimit,e.maxLimit,i),n.domain(i),n},this.expandScaleDomainToBubbleSizes=function(t,e){function o(o){return t(o[e])+i(o.value)}function a(o){return t(o[e])-i(o.value)}var i=this.runtime.sizeScale,n=this.runtime.graphs,s=[];if(n.forEach(function(t){t.data.forEach(function(t){s[0]||(s[0]=t),s[1]||(s[1]=t);var e=s[0],i=s[1];a(t)<a(e)&&(s[0]=t),o(t)>o(i)&&(s[1]=t)})}),0!==s.length){var r=[];do r[0]=Math.ceil(t.invert(a(s[0]))),r[1]=Math.ceil(t.invert(o(s[1]))),t.domain(r);while(Math.ceil(t.invert(a(s[0])))<r[0]||Math.ceil(t.invert(o(s[1])))>r[1])}},this.afterNumericCategories=function(t){var e=this.runtime,o=this.lastLinearTickExceeds(e.graphWidth,t.ticks,t.metrics,e.xScale);o&&(e.hiddenLines=[t.labelsFilter.pop()])},this.adjustYDomain=function(t,e){var o=this.runtime,a=o.yAxisOptions,i=c.CategoryLabels.ScaleHelper.linearScaleTicksDomainAdjust,n=[0,e];o.sizeScale||this.createSizeScale(o.graphs);var s=d3.scale.linear().domain(t).range(n);return this.expandScaleDomainToBubbleSizes(s,"y"),t=s.domain(),t=i(t,0,n),this.limitDomain(a.minLimit,a.maxLimit,t),t}}.call(c.Bubble.prototype,c.Scatter.prototype),c.StreamGraph=function(t){this.initialize(t)},c.StreamGraph.prototype=Object.create(c.Area.prototype),function(t){this.renderGraphs=function(t,e){c.Line.prototype.renderGraphs.call(this,t,e,function(t){var e=d3.layout.stack().offset("wiggle").out(function(t,e,o){t.y0=e,t.y=o}).values(function(t){return t.data}),o=e(t.graphs);return o})},this.prepareSheetData=function(e){var o=t.prepareSheetData.call(this,e);return o.graphs.forEach(function(t){t.data.forEach(function(t){t.y=Math.abs(t.y)})}),o},this.renderDataPoints=function(){},this.getDomain=function(){return c.AreaStacked.prototype.getDomain.apply(this,arguments)}}.call(c.StreamGraph.prototype,c.Area.prototype),c.Pie=function(t){this.initialize(t)},c.Pie.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t=this.options,e=this.getSheetData(),o=this.prepareSheetData(e),a=!!e.legend.enabled,i=this.renderGraphs.bind(this),n=this.renderPart.bind(this),s=this.getCurrentScale,r=this.adjustCenterText,l=t.width,p=t.height;p>l&&(p-=p-l);var h={width:l};if(this.renderSheetSwitch(h),o.data&&0===o.data.length)return this.resetRootElement();var u;if(a){var d=this.prepareLegendData(o),m=c.Legend.TextItemMetrics().width(h.width).texts(d.map(function(t){return t.title})).measureContainer(this.container.select(".igc-fm-legend").node()).reservedSize(36);u=c.Legend.Legend().data(d).width(h.width).style(t.style.legend).chartId(this.chartId).textMetrics(m()),this.renderLegend(u)}else this.container.selectAll(".igc-legend").remove();var f=Math.min(l,p)/2,b=o.innerRadiusPercent?o.innerRadiusPercent*f:o.innerRadius,v={left:7.5,right:7.5},x=g.Text().style({}).value(e.categories.title).offset({left:l/2-b+v.left,top:p/2}).bounds({width:2*b-(v.left+v.right),height:2*b}).align("center").cssClassName("igc-pie-center-text-node").autoFontSize(!0);0===b&&x.value("");var y=this.svg.datum(t).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);y.each(function(t){var e=d3.select(this),a=e.attr("width",l).attr("height",p),h=a.selectAll("g.igc").data([0]).enter().append("g").attr("class","igc"),c=h.append("g").attr("class","parts"),d=a.selectAll("g.igc");h.empty()&&(c=d.select("g.parts"));var g=s(d);i(d,[{graphs:[o],textStyle:t.style.axisTick,outerRadius:f,center:{x:l/2,y:p/2},legend:u,scale:g}]),n(c,x,"igc-pie-center-text");var m=c.select(".igc-pie-center-text-node");m.attr("transform",null);var b=s(d);1>b&&r(b*x.bounds().width,m)}),typeof this.callback==typeof Function&&this.callback(this)},this.renderGraphs=function(t,e){var o="igc-graph-group",a=t.selectAll("g."+o).data(e);a.enter().append("g").attr("class",o);var i=a.selectAll("g.igc-graph").data(function(t){return t.graphs});i.exit().remove();var n,s=i.enter(),r=this.chartId,l=this.getCalloutFormat;s.call(function(t){t.forEach(function(t,o){t.forEach(function(a){var i=d3.select(t.parentNode);i.append("g").attr("class","igc-graph");var s=i.selectAll(".igc-graph"),p=a.__data__,h=p.type,u=h.charAt(0).toUpperCase()+h.slice(1),c=d[u];if(c){n=l(p);var g=e[o],m=c().data(p.data).groupId(o).chartId(r).textStyle(g.textStyle).legend(g.legend).innerRadius(p.innerRadiusPercent?p.innerRadiusPercent*g.outerRadius:p.innerRadius).outerRadius(g.outerRadius).center(g.center).showValues(p.showValues).textFormat(n).startScaleFactor(g.scale);p.showPercent&&(m.tooltipText(function(t){return""+t.data.categoryLabel+": "+t.value.toFixed(2)+"%"}),m.tooltipValue(function(t){return"("+t.data.valueLabel+")"})),s.call(m),g.scale=m.endScaleFactor()}})})}),i.call(function(t){t.forEach(function(t,o){t.forEach(function(a){var i=d3.select(t.parentNode),s=i.selectAll(".igc-graph"),p=a.__data__,h=p.type,u=h.charAt(0).toUpperCase()+h.slice(1),c=d[u];if(c){n=l(p);var g=e[o],m=c().data(p.data).groupId(o).chartId(r).textStyle(g.textStyle).legend(g.legend).innerRadius(p.innerRadiusPercent?p.innerRadiusPercent*g.outerRadius:p.innerRadius).outerRadius(g.outerRadius).center(g.center).showValues(p.showValues).textFormat(n).startScaleFactor(g.scale);p.showPercent&&(m.tooltipText(function(t){return""+t.data.categoryLabel+": "+t.value.toFixed(2)+"%"}),m.tooltipValue(function(t){return"("+t.data.valueLabel+")"})),s.call(m),g.scale=m.endScaleFactor()}})})})},this.adjustCenterText=function(t,e){e.style("visibility","hidden");var o=e.node().getBBox();if(o.width>t){var a=e.attr("x"),i=t/o.width;isFinite(i)||(i=1),e.attr("x",0).attr("transform","translate("+a+",0) scale("+i+","+i+")")}e.style("visibility","visible")},this.getCalloutFormat=function(t){var e;return t.showPercent&&t.showCategoryName?e=function(t){var e=t.value;return""+t.data.categoryLabel+" "+e.toFixed(2)+"%"}:t.showPercent?e=function(t){var e=t.value;return""+e.toFixed(2)+"%"}:t.showCategoryName&&(e=function(t){return""+t.data.categoryLabel+" "+t.data.valueLabel}),e},this.getCurrentScale=function(t){var e=t.selectAll(".igc-graph-group"),o=1;return e.empty()||(o=e.datum().scale),o},this.defaults=function(){return $.extend(!0,{},t.defaults(),{animation:{duration:500}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{series:[{title:"",type:"pie",showValues:!1,showPercent:!1}]})},this.prepareSheetData=function(t){var e=t.series[0],o=t.categories.colors,a=[],i=0;e.data.forEach(function(s,r){var l,h={categoryLabel:n(t.categories.data[r],""),valueLabel:n(e.rawData[r]),x:n(s,null),color:p.getColor(r,o)};null!==h.x&&(l=Math.abs(h.x),h.xAbs=l,i+=l,a.push(h))}),a.forEach(function(t){var e=t.xAbs/i*100;t.pct=e});var s={type:e.type,data:a,showValues:e.showValues===!0,showPercent:e.showPercent===!0,showCategoryName:e.showCategoryName===!0,innerRadius:e.innerRadius||0,innerRadiusPercent:e.innerRadiusPercent||0};return s},this.prepareLegendData=function(t){return t.data.map(function(t){return{color:t.color,title:t.categoryLabel}})},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){"pie"===e.type&&t.pie&&$.extend(!0,e,t.pie)}),t.legend&&$.extend(!0,e.legend,t.legend)})}}.call(c.Pie.prototype,v),c.Double=function(t){this.initialize(t)},c.Double.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e)},this.render=function(){this.detectDimensions();var t=.27,e=this.svg,o={top:10,right:0,bottom:10,left:0},i={left:0,right:0,top:0,bottom:0},n={left:0,right:0},s={beforeBottomCategories:5,afterYAxisTick:5},r=this.getSheetData(),l=this.prepareSheetData(r),h=this.options,u=r.axis[0],d=r.axis[1],g=!!r.legend.enabled,m=!1,f=this.renderGraphs.bind(this),b=this.renderDataPoints.bind(this),v=this.renderPart.bind(this),x=r.axis[0]&&r.axis[0].title;x&&(i.left=p.getTextDimensions(x,this.svg).height+10);var y=r.axis[1]&&r.axis[1].title;y&&(i.right=p.getTextDimensions(y,this.svg).height+10);var q=l[0],w=l[1],S=this.getDomain(q.graphs);a(u.minLimit)||(S[0]=isNaN(Number(u.minLimit))?S[0]:Number(u.minLimit),m=!0),a(u.maxLimit)||(S[1]=isNaN(Number(u.maxLimit))?S[1]:Number(u.maxLimit),m=!0);var C=this.getDomain(w.graphs);a(d.minLimit)||(C[0]=isNaN(Number(d.minLimit))?C[0]:Number(d.minLimit),m=!0),a(d.maxLimit)||(C[1]=isNaN(Number(d.maxLimit))?C[1]:Number(d.maxLimit),m=!0);var I=d3.scale.linear().domain(S),_=d3.scale.linear().domain(C),k=c.Axis().scale(I).orient("left").drawLines(!1).style(h.style.axisTick),T=h.width-o.left-i.left-o.right-i.right,M=h.height-o.top-i.top-o.bottom-i.bottom,L={maxCategoryHeight:M*t};I.range([M,0]),_.range([M,0]);var H,D,O=I.ticks().map(function(t){return I(t)}),V=this.gridTickOffset([M,0],O),F=I.ticks().map(function(t){return _.invert(I(t))}),$={width:0,height:0},A=c.Axis.tickFormat(k.scale(),k.ticks());if(q.ticks){H=I.ticks().map(function(t){return A(t)}),$=p.getTextDimensions(H,this.svg,h.style.axisTick),n.left=$.width+s.afterYAxisTick,D=O[O.length-1];var P=D-$.height;0>P&&(o.top+=Math.abs(o.top+P))}var B,N={width:0,height:0};if(w.ticks){var z=F.map(function(t){return _.tickFormat()(t)});p.hasRepeatingValues(z)&&(F=F.map(function(t){return d3.round(t,2)}),z=F.map(function(t){return _.tickFormat("g")(t)}),B=_.tickFormat("g")),N=p.getTextDimensions(z,this.svg),n.right=N.width}var G,W=T-n.left-n.right,j=r.categories.data,Z=d3.range(0,j.length),E=d3.scale.ordinal().domain(Z).rangeRoundBands([0,W],.1),R=c.CategoryLabels.measureTextDimensions(this.svg,j,E,h.style.axisTick,"horizontal",L.maxCategoryHeight),Y=R.height,U=E.rangeBand(),X=this.axisGraphsSameType([q.graphs,w.graphs],"line");G={enabled:h.series.dataPoints===!0,radius:h.series.dataPointRadius,sameAxisGraphTypes:X,svgContainer:this.svg.node(),x:E,y:I,y1:_,offset:{left:o.left+i.left+n.left,top:o.top+i.top},graphs:[q.graphs,w.graphs],bounds:{height:M,width:W}};var Q=c.Axis().scale(I).orient("left").tickSize(-T,0).highlightZero(r.grid.horizontalZeroHighlight).style(h.style.grid).tickFormat("");r.grid.horizontal||Q.tickValues([]);var J=c.Axis().scale(E).orient("bottom").tickSize(M,0).highlightZero(r.grid.verticalZeroHighlight).style(h.style.grid).tickFormat("");r.grid.vertical||J.tickValues([]),k.textOffset(-($.height/4)),q.ticks||k.tickValues([]);var K=c.Axis().scale(_).orient("right").drawLines(!1).style(h.style.axisTick).tickValues(F).tickFormat(B).textOffset(-(N.height/4));w.ticks||K.tickValues([]);var tt={x1:o.left,y1:0,x2:h.width,y2:h.height},et=c.Label().text(x).orientBounds(tt).style(h.style.axisTitle).orient("left"),ot={x1:0,y1:0,x2:h.width-o.right,y2:h.height},at=c.Label().text(y).orientBounds(ot).style(h.style.axisTitle).orient("right"),it=c.CategoryLabels.Bottom().scale(E).data(j).style(h.style.axisTick).bounds({width:W,height:L.maxCategoryHeight}).offset({left:U/2,top:M+s.beforeBottomCategories}),nt={width:h.width};if(this.renderSheetSwitch(nt),this.sheetSeriesDataEmpty(r))return this.resetRootElement();var st,rt=this.prepareLegendData(l);if(g){var lt=c.Legend.TextItemMetrics().width(nt.width).texts(rt.map(function(t){return t.title})).measureContainer(this.container.select(".igc-fm-legend").node()).reservedSize(36);st=c.Legend.Legend().data(rt).width(nt.width).style(h.style.legend).chartId(this.chartId).chartType("double").textMetrics(lt()),this.renderLegend(st)}else this.container.selectAll(".igc-legend").remove();var pt=this.svg.datum(this).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);this.containerSetup(),e.attr("width",h.width).attr("height",h.height+15+Y),pt.each(function(t){var a=e.select("defs"),s=e.select(".igc").attr("transform","translate("+(o.left+i.left+n.left)+","+(o.top+i.top)+")"),l=s.select(".igc-grid"),p=e.select(".igc-titles");if(v(l,Q,"igc-ygrid"),r.grid.horizontal&&l.select(".igc-ygrid").selectAll(".tick").select("line").attr("transform","translate("+-n.left+",0)").style({opacity:.5,stroke:t.options.style.grid.color}),v(l,J,"igc-xgrid"),r.grid.vertical&&l.select(".igc-xgrid").selectAll(".tick").select("line").style({opacity:.5,stroke:h.style.grid.color}),f(s,[{graphs:q.graphs,x:E,y:I,legend:st},{graphs:w.graphs,x:E,y:_,legend:st}]),m){var u={x:0,y:V.top,width:W,height:M-V.top,clipPathId:"igc-cp-"+t.chartId};G.pointRect={x:0,y:V.top,width:W,height:M},t.graphsSetupClipPath(s,a,u)}b(s,G);var c={x:-(o.left+i.left+n.left),y:-(o.top+i.top),width:h.width,height:h.height,clipPathId:"igc-cp-line-"+t.chartId};s.selectAll(".igc-graph-line").attr("clip-path","url(#"+c.clipPathId+")"),t.createRectClipPath(a,c);var d=a.select("#"+c.clipPathId).selectAll("path");d.attr("transform","translate(-"+(c.width-c.x)+", 0)").transition().duration(500).ease("linear").attr("transform","translate(0, 0)"),v(l,k,"igc-y0-axis-text"),q.ticks&&l.select(".igc-y0-axis-text").selectAll(".tick").select("text").attr("transform","translate("+-n.left+",0)"),v(l,K,"igc-y1-axis-text"),w.ticks&&l.select(".igc-y1-axis-text").selectAll(".tick").select("text").attr("transform","translate("+(T-n.left)+",0)"),v(p,et,"igc-title-left"),v(p,at,"igc-title-right"),v(l,it,"igc-x-axis-text")}),typeof this.callback==typeof Function&&this.callback(this)},this.renderGraphs=function(t,e){var o="igc-graph-group";t.selectAll("g."+o).remove();var a=t.selectAll("g."+o).data(e);a.enter().append("g").attr("class",o),
a.selectAll(".igc-graph").remove();var i=a.selectAll(".igc-graph").data(function(t){return t.graphs}),n=i.enter(),s=this.chartId;n.call(function(t){t.forEach(function(t,o){t.forEach(function(a){var i=d3.select(t.parentNode),n=i.append("g").attr("class","igc-graph"),r=a.__data__,l=r.type,p=l.charAt(0).toUpperCase()+l.slice(1),h=d[p];if(h){var u=e[o],c=r.data.length,g=h().scaleX(u.x).scaleY(u.y).data(r.data).pX("x").pY("y").colors(r.colors).groupId(o).chartId(s).legend(u.legend);if("line"===l&&(g.interpolate(r.interpolation),g.animate(!1),n.classed({"igc-graph-line":!0})),"column"===l){var m=r.data[0].groupLabel;g.tooltipText(function(){return m}).tooltipValue(function(t){return"("+t.xLabel+": "+t.yLabel+")"}).transitionDelay(function(t,e){return e/c*500})}n.call(g)}})})})},this.gridTickOffset=function(t,e){return{top:e[e.length-1]-t[1],bottom:t[0]-e[0]}},this.renderDataPoints=function(t,e){var o=this.chartId,a=[];if(e.sameAxisGraphTypes){e.graphs.forEach(function(t,e){t.forEach(function(t){a=a.concat(t.data.map(function(o){return o.colors=t.colors,o.scale=0===e?"y":"y1",o}))})});var i=c.Crosshair().data(a).scaleX(e.x).scaleY(e.y).scaleY1(e.y1).offset(e.offset).bounds(e.bounds).svgContainer(e.svgContainer).targetParent(t).chartId(o).tooltipText(function(t){return t.groupLabel}).tooltipValue(function(t){return t.xLabel+": "+t.yLabel}).pointRect(e.pointRect),n=t.selectAll(".igc-crosshair-overlay").data([0]);n.enter().append("rect").attr("x",0).attr("y",0).attr("height",e.bounds.height).attr("width",e.bounds.width).attr("class","igc-crosshair-overlay"),n=t.selectAll(".igc-crosshair-overlay"),i.target(n),n.style({"stroke-width":"0px","fill-opacity":0}).call(i)}e.enabled&&t.selectAll(".igc-graph-group").each(function(t,e){d3.select(this).selectAll(".igc-graph").each(function(t,a){var i=t.graphs[a];if("line"===i.type){var n=g.Circle().scaleX(t.x).scaleY(t.y).data(i.data).pX("x").pY("y").colors(i.colors).groupId(e).chartId(o).filterFn(function(t){return null!==t.y}).legend(t.legend).tooltipText(function(t){return t.groupLabel}).tooltipValue(function(t){return"("+t.xLabel+": "+t.yLabel+")"}).animate(!1);d3.select(this).call(n)}})})},this.axisGraphsSameType=function(t,e){var o,a,i,n;for(i=t.length-1;i>=0;i--)for(o=t[i],n=o.length-1;n>=0;n--)if(a=o[n],a.type!==e)return!1;return!0},this.getDomain=function(t){var e=[d3.min(t,function(t){return d3.min(t.data,function(t){return t.y})}),d3.max(t,function(t){return d3.max(t.data,function(t){return t.y})})];e[0]===e[1]&&(e[0]>0?e[0]=0:e[0]<0?e[1]=0:(e[0]=-1,e[1]=1));var o=e[0]<0&&e[1]<0,a=e[0]>0&&e[1]>0;return o&&!a&&(e[1]=0),a&&!o&&(e[0]=0),e},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{dataPointRadius:5,dataPoints:!0}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{series:[{title:"",type:"column",axisIndex:0},{title:"",type:"line",axisIndex:1}],axis:[{title:""},{title:""}]})},this.prepareSheetData=function(t){var e=$.extend(!0,[],t.axis);return e.forEach(function(e,o){e&&(e.graphs||(e.graphs=[]),t.series.forEach(function(a){if(o===a.axisIndex){var i=n(t.axis[a.axisIndex].title,""),s=t.categories.data.map(function(t,e){var s={x:e,y:null,yLabel:n(a.rawData[e]),xLabel:n(t,""),groupLabel:i,categoryIdx:o};return a.data&&(s.y=n(a.data[e],null)),s}),r={type:a.type,data:s,colors:[p.getColor(a.axisIndex,t.categories.colors)]};"line"===a.type&&(r.interpolation=a.interpolation||"linear"),e.graphs.push(r)}},this))},this),e},this.prepareLegendData=function(t){return t.map(function(t){for(var e="transparent",o=0;o<t.graphs.length;o++)if(t.graphs[o].colors[0]){e=t.graphs[o].colors[0];break}return{color:e,title:t.title}})},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){var o=t.series&&t.series[e.axisIndex];o&&$.extend(!0,e,o)}),t.grid&&$.extend(!0,e.grid,t.grid),t.legend&&$.extend(!0,e.legend,t.legend),t.axis&&t.axis.length&&$.extend(!0,e.axis,t.axis)})}}.call(c.Double.prototype,v),c.PictorialGrid=function(t){this.initialize(t)},c.PictorialGrid.prototype=Object.create(c.Bar.prototype),function(t){this.render=function(){function t(t){var e=q.rows-Math.ceil(Math.ceil(t)/q.cols);return e*y.height}this.detectDimensions();var e={top:10,right:10,bottom:10,left:10,pictorial:5},o={left:0,right:0,top:0,bottom:0},a=this.getSheetData(),i=this.prepareSheetData(a),n=this.options,s=i[0],r=d3.dispatch("transitionFinish"),l=!!a.legend.enabled,p=!!n.series.realNumbers,h="absolute"===n.series.data,u="scattered"===n.series.distribution&&a.categories.shapes.length<2,d=s.graphs[0].data;d=d.filter(function(t){return null!==t.value});var g,m=this.renderGraphs.bind(this),f=n.width-e.left-o.left-e.right-o.right,b=n.height-e.top-o.top-e.bottom-o.bottom,v=n.height,x=this.defaults().shapes.map(function(t){return t.title});h||p?(g=n.sheets.map(function(t){var e=t.categories.shapes,o=!e||e.length<1;return o?x.slice(0):e},this),g=_.uniq(_.flatten(g))):g=a.categories.shapes,g.length||(g=x.slice(0)),g=this.initShapes(g);var y=_.reduce(g,function(t,o){return t.width=Math.max(t.width,o.bbox.width+e.pictorial),t.height=Math.max(t.height,o.bbox.height+e.pictorial),t},{width:0,height:0}),q={cols:Math.floor(f/y.width),rows:Math.floor(b/y.height),cellMetrics:y};q.cellCount=q.rows*q.cols,q.colPosition=d3.scale.ordinal().domain(d3.range(0,q.cols)).rangeBands([0,f],0,0),q.rowPosition=d3.scale.ordinal().domain(d3.range(0,q.rows)).rangeBands([0,b],0,0);var w=h&&!p?this.getSheetsValueSum():this.getValueSum(d);q.realNumbers=p&&q.cellCount>=w;var S,C=0;p?(S=this.getSheetsMaxData(),S&&q.cellCount>=S.valuesSum&&(C=t(S.valuesSum))):h&&(S=this.getSheetsMaxData(),S&&(C=t(S.valuesSum/w*q.cellCount))),v-=C;var I=s.graphs[0].data=u?this.getShapeDataScattered(a,d,q,g,w):this.getShapeData(a,d,q,g,w);s.graphs[0].overlayData=this.getShapeGroupOverlayPaths(d,I,q),this.prepareShapes(g);var k={width:n.width};if(this.renderSheetSwitch(k),n.sheets&&n.sheets.length<1)return this.resetRootElement();var T;if(l){var M=this.prepareLegendData(d,s.graphs[0].colors),L=c.Legend.TextItemMetrics().width(k.width).texts(M.map(function(t){return t.title})).measureContainer(d3.select(n.container).select(".igc-fm-legend").node()).reservedSize(36);T=c.Legend.Legend().data(M).width(k.width).style(n.style.legend).chartId(this.chartId).chartType("pictorial-grid").textMetrics(L()),this.renderLegend(T)}else this.container.selectAll(".igc-legend").remove();var H=this.svg.datum(n).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);H.each(function(t){var a=d3.select(this),i=a.attr("width",t.width).attr("height",v),n=i.selectAll("g.igc").data([0]).enter().append("g").attr("class","igc"),l=n.append("g").attr("class","parts"),p=i.selectAll("g.igc");n.empty()&&(l=p.select("g.parts")),p.attr("transform","translate("+(e.left+o.left)+","+(e.top+o.top)+")"),m(p,[{graphs:s.graphs,textStyle:t.style.axisTick,transitionDuration:t.animation.duration,dispatch:r,legend:T}])}),typeof this.callback==typeof Function&&this.callback(this)},this.initShapes=function(t){return _.reduce(t,function(t,e){var o=this.getShape(e);if(t[e])return t;var a=p.measurePath(o,this.svg);return t[e]={shape:o,bbox:a},t},{},this)},this.getShapeDataScattered=function(t,e,o,a,i){var n,r=[],l=0,h=o.cellMetrics,u=o.realNumbers,c=function(e,i){i=i||1;var n={categoryIdx:e.categoryIdx,shape:e.shape,valueLabel:e.valueLabel,category:e.category,countDecimal:e.countDecimal,color:p.getColor(e.categoryIdx,t.categories.colors)},s=l%o.cols,u=Math.floor(l/o.cols),c=a[e.shape].bbox,d=(h.width-c.width)/2,g=(h.height-c.height)/2;return n.xdiff=d,n.ydiff=g,n.cellX=o.colPosition(s),n.cellY=o.rowPosition(u),n.row=u,n.col=s,n.x=n.cellX+d,n.y=n.cellY+g,n.width=c.width,n.height=c.height,n.colors=[],r[l]=n,l++,n},d=function(e,o,i){var n=a[e.shape].bbox,s=g(o);o.colors.push({x:s*n.width,width:n.width*i,height:n.height,pct:i,color:p.getColor(e.categoryIdx,t.categories.colors),valueLabel:e.valueLabel,category:e.category,categoryIdx:e.categoryIdx})},g=function(t){return _.reduce(t.colors,function(t,e){return t+e.pct},0)};return e.forEach(function(t){var e=t.countDecimal=u?t.value:t.value/i*o.cellCount;if(t.countDecimalFloor=Math.floor(t.countDecimal),t.count=Math.round(t.countDecimal),t.countFraction=t.countDecimal-t.count,!(0>=e))for(n||(n=c(t));e>s;){var a=1,r=g(n);1===r&&(n=c(t),r=0);var l=a-r;0>e-a&&(a+=e-a);var p=l-a;0>p&&(a=l),d(t,n,a),e-=a}}),r},this.getShapeData=function(t,e,o,a,i){function n(t,e){e=arguments.length<2?100:arguments[1];var o=t.length,a=_.reduce(t,function(t,e){return t+Math.round(e.countDecimal)},0),i=e-a;return _.chain(t).sortBy(function(t){return Math.round(t.countDecimal)-t.countDecimal}).map(function(t,e){return t.count=Math.round(t.countDecimal)+(i>e)-(e>=o+i),t}).value()}var s=this.options,r="absolute"===s.series.data,l=[],h=0,u=0,c=o.cellMetrics,d=o.realNumbers,g=0;e.forEach(function(t){t.countDecimal=d?t.value:t.value/i*o.cellCount,t.countDecimalFloor=Math.floor(t.countDecimal),g+=t.countDecimal-t.countDecimalFloor,t.count=Math.floor(t.countDecimal),t.countFraction=t.countDecimal-t.count,u+=t.count}),g=parseFloat(g.toPrecision(12)),u+=Math.ceil(g),!r&&!d||d&&u>o.cellCount?(e.forEach(function(t,e){t.sortIndex=e}),e=n(e,o.cellCount),e=_.sortBy(e,function(t){return t.sortIndex})):(e.forEach(function(t,e){t.sortIndex=e}),e=n(e,Math.min(u,o.cellCount)),e=_.sortBy(e,function(t){return t.sortIndex})),e.forEach(function(t){for(var e=0;e<t.count;e++)l[h]={categoryIdx:t.categoryIdx,shape:t.shape,valueLabel:t.valueLabel,category:t.category},h++});for(var m,f,b,v,x=0,y=0,q=0;h>q;q++)m=q%o.cols,f=Math.floor(q/o.cols),b=l[q],v=a[b.shape].bbox,x=(c.width-v.width)/2,y=(c.height-v.height)/2,b.xdiff=x,b.ydiff=y,b.cellX=o.colPosition(m),b.cellY=o.rowPosition(f),b.row=f,b.col=m,b.x=b.cellX+x,b.y=b.cellY+y,b.width=v.width,b.height=v.height,b.color=p.getColor(b.categoryIdx,t.categories.colors),b.colors=[{x:0,width:v.width,height:v.height,pct:1,color:b.color,valueLabel:b.valueLabel,category:b.category,categoryIdx:b.categoryIdx}];return l},this.getShapeGroupOverlayPaths=function(t,e,o){var a={},i=o.cellMetrics;t.forEach(function(t){a[t.categoryIdx]||(a[t.categoryIdx]={minX:99999999,maxX:-99999999,minY:99999999,maxY:-99999999,categoryIdx:t.categoryIdx,valueLabel:t.valueLabel,category:t.category})});var n,s=e[0];e.forEach(function(t,r){n=e[r+1]||t;var l=t.colors.length-1,p=s.xdiff!==t.xdiff?(s.xdiff+t.xdiff)/2:t.xdiff,h=n.xdiff!==t.xdiff?(n.xdiff+t.xdiff)/2:t.xdiff,u=0===t.col,c=t.col===o.cols-1;t.colors.forEach(function(e,n){var s=a[e.categoryIdx],r=n===l,d=0===n,g=0===l,m=t.row+1,f=m<o.rows?o.rowPosition(m):t.cellY+i.height;if(!s.firstPos){var b=t.x+e.x;d&&(b=u?t.cellX:t.x-p),s.firstPos={x:b,y0:t.cellY,y:f,col:t.col,row:t.row},s.color=e.color,s.cellHeight=i.height}var v=t.x+e.x+e.width;r&&(v=c?t.cellX+i.width:t.x+e.x+e.width+(g&&1!==e.pct?0:h)),s.lastPos={x0:t.x+e.x-(u?t.xdiff:0),x:v,y0:t.cellY,y:f,col:t.col,row:t.row},s.minX=Math.min(s.minX,s.firstPos.x,s.lastPos.x0,s.lastPos.x),s.maxX=Math.max(s.maxX,s.firstPos.x,s.lastPos.x),s.minY=Math.min(s.minY,s.firstPos.y0,s.lastPos.y0),s.maxY=Math.max(s.maxY,s.firstPos.y,s.lastPos.y)}),s=t}),a=_.filter(_.values(a),function(t){return t.lastPos});var r=a[0];return a.forEach(function(t){r!==t&&(t.firstPos.x=Math.min(t.firstPos.x,r.lastPos.x),r=t)}),_.each(a,function(t){function e(t,e,a){o.push(t+[e,a].join(","))}var o=[],a=t.lastPos.row-t.firstPos.row;e("M",t.firstPos.x,t.firstPos.y0),0===a?(e("L",t.lastPos.x,t.firstPos.y0),e("L",t.lastPos.x,t.lastPos.y),e("L",t.firstPos.x,t.lastPos.y),e("L",t.firstPos.x,t.firstPos.y0)):1===a?(e("L",t.maxX,t.firstPos.y0),e("L",t.maxX,t.lastPos.y0),e("L",t.firstPos.x,t.lastPos.y0),e("M",t.lastPos.x,t.lastPos.y0),e("L",t.lastPos.x,t.lastPos.y),e("L",t.minX,t.lastPos.y),e("L",t.minX,t.firstPos.y),e("L",t.firstPos.x,t.firstPos.y)):(e("L",t.maxX,t.firstPos.y0),e("L",t.maxX,t.lastPos.y0),e("L",t.lastPos.x,t.lastPos.y0),e("L",t.lastPos.x,t.lastPos.y),e("L",t.minX,t.lastPos.y),e("L",t.minX,t.firstPos.y),e("L",t.firstPos.x,t.firstPos.y)),t.path=o.join(" ")}),a},this.graphInstanceSetup=function(t,e,o,a,i){var n=e.data.length;t.data(e.data).overlayData(e.overlayData).colors(e.colors).groupId(i).textStyle(a.textStyle).showValues(e.showValues).legend(a.legend).tooltipText(function(t){return t.category}).tooltipValue(function(t){return t.valueLabel}).transitionDelay(function(t,e){return e/n*500}).transitionDuration(a.transitionDuration).chartDispatch(a.dispatch)},this.getShape=function(t){for(var e=this.options.shapes.length,o=0;e>o;o++)if(this.options.shapes[o].title===t)return this.options.shapes[o].shape},this.prepareShapes=function(t){var e=this.svg;e.selectAll("defs").data([0]).enter().append("defs");var o=e.selectAll("defs");Object.keys(t).forEach(function(e){var a=t[e].shape,i="igc-cp-"+e,n=o.selectAll("#"+i).data([0]).enter().append("clipPath").attr("id",i),s=n.selectAll("path").data([0]).enter().append("path");s.attr("d",a)},this)},this.prepareLegendData=function(t,e){return t.map(function(t){return{color:p.getColor(t.categoryIdx,e),title:t.category,groupId:t.categoryIdx}})},this.getValueSum=function(t){return _.reduce(t,function(t,e){return t+e.value},0)},this.getSheetsValueSum=function(){var t=_.reduce(this.options.sheets,function(t,e){var o=$.extend(!0,{},this.emptySheetData(),e),a=this.prepareSheetData(o);return t.push(this.getValueSum(a[0].graphs[0].data)),t},[],this);return _.reduce(t,function(t,e){return t+e},0)},this.getSheetsMaxData=function(){var t=_.reduce(this.options.sheets,function(t,e){var o=$.extend(!0,{},this.emptySheetData(),e),a=this.prepareSheetData(o);return t.push({data:a,shapes:o.categories.shapes,valuesSum:this.getValueSum(a[0].graphs[0].data)}),t},[],this),e=t[0],o=0;return t.forEach(function(t){t.valuesSum>o&&(e=t,o=t.valuesSum)}),e},this.defaults=function(){return $.extend(!0,{},t.defaults(),{series:{data:"separate",distribution:"round"},shapes:[{title:"boyPath",shape:"m14.57,9.54l0,5.91q0,0.57,-0.4,0.97t-0.97,0.4t-0.97,-0.4t-0.4,-0.97l0,-5l-0.91,0l0,12.95q0,0.65,-0.47,1.12t-1.12,0.47t-1.12,-0.47t-0.47,-1.12l0,-6.59l-0.91,0l0,6.59q0,0.65,-0.47,1.12t-1.12,0.47t-1.12,-0.47t-0.47,-1.12l0,-12.95l-0.91,0l0,5q0,0.57,-0.4,0.97t-0.97,0.4t-0.97,-0.4t-0.4,-0.97l0,-5.91q0,-1.14,0.8,-1.93t1.93,-0.8l9.09,0q1.14,0,1.93,0.8t0.8,1.93Zm-4.09,-6.36q0,1.32,-0.93,2.25t-2.25,0.93t-2.25,-0.93t-0.93,-2.25t0.93,-2.25t2.25,-0.93t2.25,0.93t0.93,2.25Z"}]})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{categories:{shapes:["boyPath"]},series:[{type:"pictorial-grid",axisIndex:0}],grid:{}})},this.prepareSheetData=function(t){var e=$.extend(!0,[],t.axis);return e.forEach(function(e,o){if(e){e.graphs||(e.graphs=[]);var a=t.categories.shapes,i=a.length;t.series.forEach(function(s){if(o===s.axisIndex){var r=s.data.map(function(e,o){var r={value:n(Math.abs(e),null),valueLabel:n(s.rawData[o]),category:n(t.categories.data[o]),shape:a[o%i],categoryIdx:o};return r}),l={type:s.type,data:r,colors:t.categories.colors,showValues:s.showValues===!0};e.graphs.push(l)}},this)}},this),e},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){"bar"===e.type&&t.bar&&$.extend(!0,e,t.bar)}),t.legend&&$.extend(!0,e.legend,t.legend),e.axis.forEach(function(e){$.extend(!0,e,t.axis)})})}}.call(c.PictorialGrid.prototype,c.Bar.prototype),c.Treemap=function(t){this.initialize(t)},c.Treemap.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e,"div")},this.render=function(){this.detectDimensions();var t=this.svg,e=d3.dispatch("transitionFinish"),o={top:0,right:0,bottom:0,left:0},a={left:0,right:0,top:0,bottom:0},i=this.options,n=this.getSheetData(),s=this.prepareSheetData(n),r=i.width-o.left-a.left-o.right-a.right,l=i.height-o.top-a.top-o.bottom-a.bottom,p={width:i.width};if(this.renderSheetSwitch(p),i.sheets&&i.sheets.length<1)return this.resetRootElement();var h=this.svg.datum(this).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);this.containerSetup(),t.style({width:i.width+"px",height:i.height+"px"}),h.each(function(a){var n=t.select(".igc");a.renderGraphs(n,[{graphs:[s],textStyle:i.style.axisTick,bounds:{width:r,height:l},offset:{left:o.left,top:o.top},transitionDuration:i.animation.duration,dispatch:e}])}),e.on("transitionFinish",function(){typeof this.callback==typeof Function&&this.callback(this),e.on("transitionFinish",null)}.bind(this))},this.graphInstanceSetup=function(t,e,o,a,i){var n=e.data.length+1;t.data(e.data).groupId(i).showValues(e.showValues).sort(e.sort).bounds(a.bounds).labelOptions(e.labels).offset(a.offset).layout(e.layout).tooltipText(function(t){return t.categoryLabel}).tooltipValue(function(t){return t.valueLabel}).transitionDelay(function(t){return t.tord/n*a.transitionDuration}).transitionDuration(a.transitionDuration).chartDispatch(a.dispatch)},this.defaults=function(){return $.extend(!0,{},t.defaults(),{animation:{duration:350}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{labels:{name:{colorMethod:"normal",color:"#ffffff"},value:{colorMethod:"normal",color:"#ffffff"}},series:[{title:"",type:"treemap",showValues:!1,sort:"none"}]})},this.prepareSheetData=function(t){var e=t.series[0],o=t.categories.colors,a=[];e.data.forEach(function(i,s){var r,l={categoryLabel:n(t.categories.data[s],""),valueLabel:n(e.rawData[s]),size:n(i,null),color:p.getColor(s,o)};null!==l.size&&(r=Math.abs(l.size),l.sizeAbs=r,a.unshift(l))});var i={type:e.type,data:a,showValues:e.showValues===!0,labels:t.labels,sort:e.sort,layout:t.categories.layout};return i},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.labels&&$.extend(!0,e.labels,t.labels),t.categories&&$.extend(!0,e.categories,t.categories),e.series.forEach(function(e){"treemap"===e.type&&t.treemap&&$.extend(!0,e,t.treemap)}),t.legend&&$.extend(!0,e.legend,t.legend)})}}.call(c.Treemap.prototype,v),c.Timer=function(t){this.initialize(t)},c.Timer.prototype=Object.create(v),function(t){this.initialize=function(e){t.initialize.call(this,e,"div")},this.render=function(){var t,e,o,a,i=this.options.sheets[0],n=i.categories.title;return i?(a={node:this.container[0],time:new Date(i.value),colors:{digits:i.categories.colors[0],text:i.categories.colors[1]},units:i.units,mode:i.mode,width:i.width,font:this.options.font,animate:this.options.animate},this.timer?this.timer.update(a):(this.timer=new d.Timer(a),this.timer.start()),void(n.length?(e=[{title:n,color:i.categories.colors[0]}],t=c.Legend.TextItemMetrics().width(this.options.width).texts(e.map(function(t){return t.title})).measureContainer(this.container.select(".igc-fm-legend").node()).reservedSize(36),o=c.Legend.Legend().data(e).width(this.options.width).style(this.options.style.legend).chartId(this.chartId).textMetrics(t()),this.renderLegend(o)):this.container.selectAll(".igc-legend").remove())):this.resetRootElement()},this.applySheetOptions=function(){}}.call(c.Timer.prototype,v),c.Wordcloud=function(t){this.initialize(t)},c.Wordcloud.prototype=Object.create(c.Treemap.prototype),function(t,e){this.initialize=function(t){e.initialize.call(this,t)},this.render=function(){this.detectDimensions();var t=this.svg,e=d3.dispatch("transitionFinish"),o={top:0,right:0,bottom:0,left:0},a={left:0,right:0,top:0,bottom:0},i=this.options,n=this.getSheetData(),s=this.prepareSheetData(n),r=i.width-o.left-a.left-o.right-a.right,l=i.height-o.top-a.top-o.bottom-a.bottom,p={width:i.width};if(this.renderSheetSwitch(p),i.sheets&&i.sheets.length<1)return this.resetRootElement();var h=this.svg.datum(this).transition().ease(this.options.animation.ease).duration(this.options.animation.duration);this.containerSetup(),t.attr("width",i.width).attr("height",i.height),h.each(function(a){var n=t.select(".igc");a.renderGraphs(n,[{graphs:[s],textStyle:i.style.axisTick,bounds:{width:r,height:l},offset:{left:o.left,top:o.top},transitionDuration:i.animation.duration,dispatch:e}])}),e.on("transitionFinish",function(){typeof this.callback==typeof Function&&this.callback(this),e.on("transitionFinish",null)}.bind(this))},this.graphInstanceSetup=function(t,e,o,a,i){var n=e.data.length;t.data(e.data).groupId(i).bounds(a.bounds).offset(a.offset).textDirection(e.textDirection).transitionDelay(function(t,e){return e/n*a.transitionDuration}).labelOptions(e.labels).transitionDuration(a.transitionDuration).chartDispatch(a.dispatch).tooltipText(function(t){return t.categoryLabel}).tooltipValue(function(t){return t.valueLabel})},this.defaults=function(){return $.extend(!0,{},t.defaults(),{animation:{duration:700}})},this.emptySheetData=function(){return $.extend(!0,{},t.emptySheetData(),{labels:{fontFamily:"Arial"},series:[{title:"",type:"wordcloud"}]})},this.prepareSheetData=function(t){var e=t.series[0],o=[],a=t.categories.colors;e.data.forEach(function(i,s){var r={categoryLabel:n(t.categories.data[s],""),valueLabel:n(e.rawData[s]),size:n(i,null),color:p.getColor(s,a)};null!==r.size&&(r.sizeAbs=Math.abs(r.size),o.push(r))});var i={type:e.type,data:o,textDirection:t.categories.textDirection,labels:t.labels};return i},this.applySheetOptions=function(t){t&&this.options.sheets.forEach(function(e){t.labels&&$.extend(!0,e.labels,t.labels),t.categories&&$.extend(!0,e.categories,t.categories)})}}.call(c.Wordcloud.prototype,c.Treemap.prototype,v)}(window),function(t,e,o,a){var i={horizontalScrolling:!1,showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>'},n=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},s=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,17)},r=function(e,o){var a=t(e).css(o),i=/^-?\d+/.exec(a);return i?+i[0]:0},l=function(t){var e,o,a={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},i=document.createElement(t),n=document.createTextNode("a\na");for(o in a)i.style[o]=a[o];return i.appendChild(n),document.body.appendChild(i),e=i.scrollHeight<28,document.body.removeChild(i),e},p=.5*Math.PI,h=10*Math.log(2),u=function(t,e,o){var a=p/e,i=t*a;return Math.round(i*Math.cos(a*o))},c=function(t,e,o){return Math.round(t*h*Math.pow(2,-10*o/e+1)/e)},d=function(t,e,o,a){return 2*o/Math.PI*Math.asin((a-t)/e)},g=function(e){var o=t(this).data("enscroll"),a=this,i=o.settings,n=function(){var e=t(this).data("enscroll"),o=e.settings;e&&o.showOnHover&&(o.horizontalScrolling&&t(e.horizontalTrackWrapper).is(":visible")&&t(e.horizontalTrackWrapper).stop().fadeTo(275,0),e._fadeTimer=null)};o&&i.showOnHover&&(o._fadeTimer?clearTimeout(o._fadeTimer):i.horizontalScrolling&&t(o.horizontalTrackWrapper).is(":visible")&&t(o.horizontalTrackWrapper).stop().fadeTo(275,1),e!==!1&&(o._fadeTimer=setTimeout(function(){n.call(a)},1750)))},m=function(e,o){var a=t(e),i=a.data("enscroll"),n=a.scrollLeft();i&&i.settings.horizontalScrolling&&(a.scrollLeft(n+o),i.settings.showOnHover&&g.call(e))},f=function(e){if(1===e.which){var a,i,n,r,l,p,h,u,c,d=e.data.pane,m=t(d),f=t(d).data("enscroll"),v=!0,x=function(){v&&(n!==r&&(f._scrollingX||(f._scrollingX=!0,f._startX=m.scrollLeft(),s(function(){b(m)})),i.style.left=n+"px",f._endX=n*l/c,r=n),s(x),f.settings.showOnHover&&g.call(d))},q=function(t){return v&&(n=t.clientX-h-p,n=Math.min(0>n?0:n,c)),!1},w=function(){return v=!1,a.removeClass("dragging"),o.body.style.cursor=u,this.style.cursor="",a.removeClass("dragging"),t(o.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),t(o).off("mouseout.enscroll.horizontal"),m.on("scroll.enscroll.pane",function(t){y.call(this,t)}),!1};return a=t(f.horizontalTrackWrapper).find(".enscroll-track"),i=a.children().first()[0],n=parseInt(i.style.left,10),l=d.scrollWidth-t(d).innerWidth(),p=e.clientX-t(i).offset().left,c=a.width()-t(i).outerWidth(),h=a.offset().left,m.off("scroll.enscroll.pane"),t(o.body).on({"mousemove.enscroll.horizontal":q,"mouseup.enscroll.horizontal":function(t){w.call(i,t)}}),t(o).on("mouseout.enscroll.horizontal",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&w.call(i,t)}),a.hasClass("dragging")||(a.addClass("dragging"),u=t("body").css("cursor"),this.style.cursor=o.body.style.cursor="ew-resize"),s(x),!1}},b=function(t){var e,o,a,i=t.data("enscroll"),n=i._duration;i._scrollingX===!0&&(e=i._endX-i._startX,0===e?i._scrollingX=!1:(o=t.scrollLeft(),a=d(i._startX,e,n,o),e>0?o>=i._endX||o<i._startX?i._scrollingX=!1:(m(t,Math.max(1,u(e,n,a))),s(function(){b(t)})):o<=i._endX||o>i._startX?i._scrollingX=!1:(m(t,Math.min(-1,u(e,n,a))),s(function(){b(t)})))),i._scrollingY===!0&&(e=i._endY-i._startY,0===e?i._scrollingY=!1:(o=t.scrollTop(),a=d(i._startY,e,n,o),e>0?o>=i._endY||o<i._startY?i._scrollingY=!1:s(function(){b(t)}):o<=i._endY||o>i._startY?i._scrollingY=!1:s(function(){b(t)})))},v=function(t,e){var o=t.data("enscroll"),a=t.scrollLeft(),i=t[0].scrollWidth-t.innerWidth();return!o.settings.horizontalScrolling||o._scrollingY?!1:(o._scrollingX||(o._scrollingX=!0,o._startX=a,o._endX=o._startX,s(function(){b(t)})),o._endX=e>0?Math.min(a+e,i):Math.max(0,a+e),0>e&&a>0||e>0&&i>a)},x=function(e){var o,a=t(this),i=a.data("enscroll"),s=i.settings.scrollIncrement,r="deltaX"in e?-e.deltaX:"wheelDeltaX"in e?e.wheelDeltaX:0,l="deltaY"in e?-e.deltaY:"wheelDeltaY"in e?e.wheelDeltaY:"wheelDelta"in e?e.wheelDelta:0;Math.abs(r)>Math.abs(l)?(o=(r>0?-s:s)<<2,(v(a,o)||!i.settings.propagateWheelEvent)&&n(e)):(o=(l>0?-s:s)<<2,i.settings.propagateWheelEvent||n(e))},y=function(){var e,o,a,i=t(this),n=i.data("enscroll");n&&n.settings.horizontalScrolling&&(o=t(n.horizontalTrackWrapper).find(".enscroll-track")[0],e=o.firstChild,a=i.scrollLeft()/(this.scrollWidth-i.innerWidth()),a=isNaN(a)?0:a,e.style.left=a*(t(o).width()-t(e).innerWidth())+"px")},q=function(e){var o,a=t(this),i=a.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&e.target===this&&i){switch(o=i.settings.scrollIncrement,e.keyCode){case 37:return v(a,-o),!1;case 39:return v(a,o),!1}return!0}},w=function(){var e=this,a=t(e).data("enscroll").settings,i=!0,n=0,r=0,l=t(e).offset().top,p=l+t(e).outerHeight(),h=t(e).offset().left,u=h+t(e).outerWidth(),c=function(t){var e=t.pageX,o=t.pageY;n=h>e?e-h:e>u?e-u:0,r=l>o?o-l:o>p?o-p:0},d=function(){a.horizontalScrolling&&n&&m(e,parseInt(n/4,10)),i&&s(d)},g=function(){i=!1,t(o).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};s(d),t(o).on({"mousemove.enscroll.pane":c,"mouseup.enscroll.pane":g})},S=function(t){var e,o,i,r,l,p,h,u=this,d=function(t){e=t.touches[0].clientX,o=t.touches[0].clientY,i||(i=o===l&&e===r?a:Math.abs(l-o)>Math.abs(r-e)?"y":"x"),"x"===i&&n(t)},g=function(){p&&("y"===i?(h=l-o,l=o):"x"===i&&(m(u,r-e),h=r-e,r=e),s(g))},f=function(){var t=0,e=Math.abs(1.5*h);this.removeEventListener("touchmove",d,!1),this.removeEventListener("touchend",f,!1),p=!1,s(function o(){var a;t===e||p||(a=c(h,e,t),isNaN(a)||0===a||(t+=1,"y"===i||m(u,a),s(o)))})};1===t.touches.length&&(r=t.touches[0].clientX,l=t.touches[0].clientY,p=!0,this.addEventListener("touchmove",d,!1),this.addEventListener("touchend",f,!1),s(g))},C={reposition:function(){return this.each(function(){var e,o,a,i=t(this),n=i.data("enscroll"),s=function(t,e,o){t.style.left=e+"px",t.style.top=o+"px"};n&&(a=i.position(),e=n.corner,n.settings.horizontalScrolling&&(o=n.horizontalTrackWrapper,s(o,a.left+r(this,"border-left-width"),a.top+i.outerHeight()-t(o).height()-r(this,"border-bottom-width"))),e&&s(e,a.left+i.outerWidth()-t(e).outerWidth()-r(this,"border-right-width"),a.top+i.outerHeight()-t(e).outerHeight()-r(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var e,o,a,i,n,s,r,l,p,h,u,c=t(this),d=c.data("enscroll");return d?(e=d.settings,void(c.is(":visible")?e.horizontalScrolling&&(a=d.horizontalTrackWrapper,o=c.innerWidth(),i=o/this.scrollWidth,n=t(a).find(".enscroll-track")[0],r=t(a).find("."+e.scrollLeftButtonClass),l=t(a).find("."+e.scrollRightButtonClass),s=o,s-=t(n).outerWidth()-t(n).width()+r.outerWidth()+l.outerWidth(),p=n.firstChild,h=Math.max(i*s,e.minScrollbarLength),h-=t(p).outerWidth()-t(p).width(),a.style.display="none",n.style.width=s+"px",p.style.width=h+"px",1>i&&(i=c.scrollLeft()/(this.scrollWidth-c.width()),p.style.left=i*(s-h)+"px",a.style.display="block"),d._prybar&&(u=d._prybar,this.removeChild(u))):(e.horizontalScrolling&&(d.horizontalTrackWrapper.style.display="none"),d.corner&&(d.corner.style.display="none")))):!0})},startPolling:function(){return this.each(function(){var e,o=t(this).data("enscroll"),a=this,i=t(a),n=-1,s=-1,r=-1,l=-1,p=function(){if(o.settings.pollChanges){var t=a.scrollWidth,h=a.scrollHeight,u=i.width(),c=i.height(),d=i.offset();!o.settings.horizontalScrolling||u===n&&t===r||(r=t,l=h,C.resize.call(i)),(e.left!==d.left||e.top!==d.top||u!==n||c!==s)&&(e=d,n=u,s=c,C.reposition.call(i)),setTimeout(p,350)}};o&&(o.settings.pollChanges=!0,l=a.scrollHeight,r=a.scrollWidth,e=i.offset(),p())})},stopPolling:function(){return this.each(function(){var e=t(this).data("enscroll");e&&(e.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var o,a,i=t(this),n=i.data("enscroll");n&&(C.stopPolling.call(i),a=n._mouseScrollHandler,n.settings.horizontalScrolling&&(o=n.horizontalTrackWrapper,t(o).remove(),o=null),n._fadeTimer&&clearTimeout(n._fadeTimer),n.corner&&t(n.corner).remove(),n._prybar&&n._prybar.parentNode&&n._prybar.parentNode===this&&t(n._prybar).remove(),this.setAttribute("style",n._style||""),n._hadTabIndex||i.removeAttr("tabindex"),i.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",a,!1),this.removeEventListener("mousewheel",a,!1),this.removeEventListener("touchstart",S,!1)):this.detachEvent&&this.detachEvent("onmousewheel",a),t(e).off("resize.enscroll.window"))})}};t.fn.enscroll=function(a){var n;return C[a]?C[a].call(this):(n=t.extend({},i,a),this.each(function(){if(n.horizontalScrolling){var a,i,s,r,p,h,u,c,d,b,I=t(this),_=this,k=I.attr("style"),T=!0,M={position:"absolute","z-index":n.zIndex,margin:0,padding:0},L=function(t){x.call(_,t)},H=function(e,o){"string"==typeof o?t(e).html(o):e.appendChild(o)};n.horizontalScrolling&&(a=o.createElement("div"),i=o.createElement("div"),s=o.createElement("a"),t(i).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(n.horizontalTrackClass).appendTo(a),n.drawScrollButtons&&(r=o.createElement("a"),p=o.createElement("a"),t(r).css("display","block").attr("href","").on("click",function(){return m(_,-n.scrollIncrement),!1}).addClass(n.scrollLeftButtonClass).insertBefore(i),t(p).css("display","block").attr("href","").on("click",function(){return m(_,n.scrollIncrement),!1}).addClass(n.scrollRightButtonClass).appendTo(a)),n.clickTrackToScroll&&t(i).on("click",function(e){e.target===this&&v(I,e.pageX>t(s).offset().left?I.width():-I.width())}),t(s).css({position:"absolute","z-index":1}).attr("href","").addClass(n.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},f).appendTo(i),H(s,n.horizontalHandleHTML),t(a).css(M).insertAfter(this),n.showOnHover&&t(a).css("opacity",0).on("mouseover.enscroll.horizontal",function(){g.call(_,!1)}).on("mouseout.enscroll.horizontal",function(){
g.call(_)}),h=t(i).outerHeight(),n.addPaddingToPane&&I.css({height:I.height()-h+"px","padding-bottom":parseInt(I.css("padding-bottom"),10)+h+"px"})),d=I.attr("tabindex"),d||(I.attr("tabindex",0),T=!1);try{c=I.css("outline"),(!c||c.length<1)&&I.css("outline","none")}catch(D){I.css("outline","none")}I.on({"scroll.enscroll.pane":function(t){y.call(this,t)},"keydown.enscroll.pane":q,"mousedown.enscroll.pane":w}).css("overflow","hidden").data("enscroll",{settings:n,horizontalTrackWrapper:a,corner:u,_prybar:b,_mouseScrollHandler:L,_hadTabIndex:T,_style:k,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(n.easingDuration/16.66666,10),_scrollHeightNoPadding:l(this.nodeName)}),t(e).on("resize.enscroll.window",function(){C.reposition.call(I)}),n.showOnHover&&I.on("mouseenter.enscroll.pane",function(){g.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in e&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",L,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",L,!1),this.addEventListener("touchstart",S,!1)):this.attachEvent&&this.attachEvent("onmousewheel",L),n.pollChanges&&C.startPolling.call(I),C.resize.call(I),C.reposition.call(I)}}))}}(jQuery,window,document),function(t){"use strict";t.extend({tablesorter:new function(){function e(t){for(var e in t)return!1;return!0}function o(e,o,a,i){for(var n,s,r=v.parsers.length,l=!1,p="",h=!0;""===p&&h;)a++,o[a]?(l=o[a].cells[i],p=v.getElementText(e,l,i),s=t(l),e.debug&&console.log("Checking if value was empty on row "+a+", column: "+i+': "'+p+'"')):h=!1;for(;--r>=0;)if(n=v.parsers[r],n&&"text"!==n.id&&n.is&&n.is(p,e.table,l,s))return n;return v.getParserById("text")}function a(t,a){var i,n,s,r,l,p,h,u,c,d,g,m,f=t.table,b=0,x={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),g="undefined"==typeof a?t.$tbodies:a,m=g.length,0===m)return t.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(t.debug&&(d=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),n={extractors:[],parsers:[]};m>b;){if(i=g[b].rows,i.length)for(s=t.columns,r=0;s>r;r++)l=t.$headerIndexed[r],p=v.getColumnData(f,t.headers,r),c=v.getParserById(v.getData(l,p,"extractor")),u=v.getParserById(v.getData(l,p,"sorter")),h="false"===v.getData(l,p,"parser"),t.empties[r]=(v.getData(l,p,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[r]=(v.getData(l,p,"string")||t.stringTo||"max").toLowerCase(),h&&(u=v.getParserById("no-parser")),c||(c=!1),u||(u=o(t,i,-1,r)),t.debug&&(x["("+r+") "+l.text()]={parser:u.id,extractor:c?c.id:"none",string:t.strings[r],empty:t.empties[r]}),n.parsers[r]=u,n.extractors[r]=c;b+=n.parsers.length?m:1}t.debug&&(e(x)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](x),console.log("Completed detecting parsers"+v.benchmark(d)),console.groupEnd&&console.groupEnd()),t.parsers=n.parsers,t.extractors=n.extractors}function i(e,o){var a,i,n,s,r,l,p,h,u,c,d,g,m,f,b=e.config,x=b.parsers;if(b.$tbodies=b.$table.children("tbody:not(."+b.cssInfoBlock+")"),p="undefined"==typeof o?b.$tbodies:o,b.cache={},b.totalRows=0,!x)return b.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(b.debug&&(c=new Date),b.showProcessing&&v.isProcessing(e,!0),l=0;l<p.length;l++){for(f=[],a=b.cache[l]={normalized:[]},d=p[l]&&p[l].rows.length||0,s=0;d>s;++s)if(g={child:[],raw:[]},h=t(p[l].rows[s]),u=[],h.hasClass(b.cssChildRow)&&0!==s)for(i=a.normalized.length-1,m=a.normalized[i][b.columns],m.$row=m.$row.add(h),h.prev().hasClass(b.cssChildRow)||h.prev().addClass(v.css.cssHasChild),n=h.children("th, td"),i=m.child.length,m.child[i]=[],r=0;r<b.columns;r++)m.child[i][r]=v.getParsedText(b,n[r],r);else{for(g.$row=h,g.order=s,r=0;r<b.columns;++r)"undefined"!=typeof x[r]?(i=v.getElementText(b,h[0].cells[r],r),g.raw.push(i),n=v.getParsedText(b,h[0].cells[r],r,i),u.push(n),"numeric"===(x[r].type||"").toLowerCase()&&(f[r]=Math.max(Math.abs(n)||0,f[r]||0))):b.debug&&console.warn("No parser found for cell:",h[0].cells[r],"does it have a header?");u[b.columns]=g,a.normalized.push(u)}a.colMax=f,b.totalRows+=a.normalized.length}b.showProcessing&&v.isProcessing(e),b.debug&&console.log("Building cache for "+d+" rows"+v.benchmark(c))}function n(t,o){var a,i,n,s,r,l,p,h=t.config,u=h.widgetOptions,c=h.$tbodies,d=[],g=h.cache;if(e(g))return h.appender?h.appender(t,d):t.isUpdating?h.$table.trigger("updateComplete",t):"";for(h.debug&&(p=new Date),l=0;l<c.length;l++)if(n=c.eq(l),n.length){for(s=v.processTbody(t,n,!0),a=g[l].normalized,i=a.length,r=0;i>r;r++)d.push(a[r][h.columns].$row),h.appender&&(!h.pager||h.pager.removeRows&&u.pager_removeRows||h.pager.ajax)||s.append(a[r][h.columns].$row);v.processTbody(t,s,!1)}h.appender&&h.appender(t,d),h.debug&&console.log("Rebuilt table"+v.benchmark(p)),o||h.appender||v.applyWidget(t),t.isUpdating&&h.$table.trigger("updateComplete",t)}function s(t){return/^d/i.test(t)||1===t}function r(e){var o,a,i,n,r,l,h,u,c=e.config;for(c.headerList=[],c.headerContent=[],c.debug&&(h=new Date),c.columns=v.computeColumnIndex(c.$table.children("thead, tfoot").children("tr")),n=c.cssIcon?'<i class="'+(c.cssIcon===v.css.icon?v.css.icon:c.cssIcon+" "+v.css.icon)+'"></i>':"",c.$headers=t(t.map(t(e).find(c.selectorHeaders),function(p,h){return a=t(p),a.parent().hasClass(c.cssIgnoreRow)?void 0:(o=v.getColumnData(e,c.headers,h,!0),c.headerContent[h]=a.html(),""===c.headerTemplate||a.find("."+v.css.headerIn).length||(r=c.headerTemplate.replace(/\{content\}/g,a.html()).replace(/\{icon\}/g,a.find("."+v.css.icon).length?"":n),c.onRenderTemplate&&(i=c.onRenderTemplate.apply(a,[h,r]),i&&"string"==typeof i&&(r=i)),a.html('<div class="'+v.css.headerIn+'">'+r+"</div>")),c.onRenderHeader&&c.onRenderHeader.apply(a,[h,c,c.$table]),p.column=parseInt(a.attr("data-column"),10),p.order=s(v.getData(a,o,"sortInitialOrder")||c.sortInitialOrder)?[1,0,2]:[0,1,2],p.count=-1,p.lockedOrder=!1,l=v.getData(a,o,"lockedOrder")||!1,"undefined"!=typeof l&&l!==!1&&(p.order=p.lockedOrder=s(l)?[1,1,1]:[0,0,0]),a.addClass(v.css.header+" "+c.cssHeader),c.headerList[h]=p,a.parent().addClass(v.css.headerRow+" "+c.cssHeaderRow).attr("role","row"),c.tabIndex&&a.attr("tabindex",0),p)})),c.$headerIndexed=[],u=0;u<c.columns;u++)a=c.$headers.filter('[data-column="'+u+'"]'),c.$headerIndexed[u]=a.not(".sorter-false").length?a.not(".sorter-false").filter(":last"):a.filter(":last");t(e).find(c.selectorHeaders).attr({scope:"col",role:"columnheader"}),p(e),c.debug&&(console.log("Built headers:"+v.benchmark(h)),console.log(c.$headers))}function l(t,e,o){var n=t.config;n.$table.find(n.selectorRemove).remove(),a(n),i(t),f(n,e,o)}function p(t){var e,o,a,i,n=t.config,s=n.$headers.length;for(e=0;s>e;e++)a=n.$headers.eq(e),i=v.getColumnData(t,n.headers,e,!0),o="false"===v.getData(a,i,"sorter")||"false"===v.getData(a,i,"parser"),a[0].sortDisabled=o,a[o?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+o),t.id&&(o?a.removeAttr("aria-controls"):a.attr("aria-controls",t.id))}function h(e){var o,a,i,n,s,r,l,p,h=e.config,u=h.sortList,c=u.length,d=v.css.sortNone+" "+h.cssNone,g=[v.css.sortAsc+" "+h.cssAsc,v.css.sortDesc+" "+h.cssDesc],m=[h.cssIconAsc,h.cssIconDesc,h.cssIconNone],f=["ascending","descending"],b=t(e).find("tfoot tr").children().add(t(h.namespace+"_extra_headers")).removeClass(g.join(" "));for(h.$headers.removeClass(g.join(" ")).addClass(d).attr("aria-sort","none").find("."+v.css.icon).removeClass(m.join(" ")).addClass(m[2]),i=0;c>i;i++)if(2!==u[i][1]&&(o=h.$headers.not(".sorter-false").filter('[data-column="'+u[i][0]+'"]'+(1===c?":last":"")),o.length)){for(n=0;n<o.length;n++)o[n].sortDisabled||o.eq(n).removeClass(d).addClass(g[u[i][1]]).attr("aria-sort",f[u[i][1]]).find("."+v.css.icon).removeClass(m[2]).addClass(m[u[i][1]]);b.length&&b.filter('[data-column="'+u[i][0]+'"]').removeClass(d).addClass(g[u[i][1]])}for(c=h.$headers.length,s=h.$headers.not(".sorter-false"),i=0;c>i;i++)r=s.eq(i),r.length&&(a=s[i],l=a.order[(a.count+1)%(h.sortReset?3:2)],p=t.trim(r.text())+": "+v.language[r.hasClass(v.css.sortAsc)?"sortAsc":r.hasClass(v.css.sortDesc)?"sortDesc":"sortNone"]+v.language[0===l?"nextAsc":1===l?"nextDesc":"nextNone"],r.attr("aria-label",p))}function u(e,o){var a,i,n,s,r,l,p,h,u=e.config,c=o||u.sortList,d=c.length;for(u.sortList=[],r=0;d>r;r++)if(h=c[r],a=parseInt(h[0],10),a<u.columns&&u.$headerIndexed[a]){switch(s=u.$headerIndexed[a][0],i=(""+h[1]).match(/^(1|d|s|o|n)/),i=i?i[0]:""){case"1":case"d":i=1;break;case"s":i=l||0;break;case"o":p=s.order[(l||0)%(u.sortReset?3:2)],i=0===p?1:1===p?0:2;break;case"n":s.count=s.count+1,i=s.order[s.count%(u.sortReset?3:2)];break;default:i=0}l=0===r?i:l,n=[a,parseInt(i,10)||0],u.sortList.push(n),i=t.inArray(n[1],s.order),s.count=i>=0?i:n[1]%(u.sortReset?3:2)}}function c(t,e){return t&&t[e]?t[e].type||"":""}function d(e,o,a){if(e.isUpdating)return setTimeout(function(){d(e,o,a)},50);var i,s,r,l,p,u,c,m=e.config,f=!a[m.sortMultiSortKey],b=m.$table,x=m.$headers.length;if(b.trigger("sortStart",e),o.count=a[m.sortResetKey]?2:(o.count+1)%(m.sortReset?3:2),m.sortRestart)for(s=o,r=0;x>r;r++)c=m.$headers.eq(r),c[0]===s||!f&&c.is("."+v.css.sortDesc+",."+v.css.sortAsc)||(c[0].count=-1);if(s=parseInt(t(o).attr("data-column"),10),f){if(m.sortList=[],null!==m.sortForce)for(i=m.sortForce,l=0;l<i.length;l++)i[l][0]!==s&&m.sortList.push(i[l]);if(p=o.order[o.count],2>p&&(m.sortList.push([s,p]),o.colSpan>1))for(l=1;l<o.colSpan;l++)m.sortList.push([s+l,p])}else{if(m.sortAppend&&m.sortList.length>1)for(l=0;l<m.sortAppend.length;l++)u=v.isValueInArray(m.sortAppend[l][0],m.sortList),u>=0&&m.sortList.splice(u,1);if(v.isValueInArray(s,m.sortList)>=0)for(l=0;l<m.sortList.length;l++)u=m.sortList[l],p=m.$headerIndexed[u[0]][0],u[0]===s&&(u[1]=p.order[o.count],2===u[1]&&(m.sortList.splice(l,1),p.count=-1));else if(p=o.order[o.count],2>p&&(m.sortList.push([s,p]),o.colSpan>1))for(l=1;l<o.colSpan;l++)m.sortList.push([s+l,p])}if(null!==m.sortAppend)for(i=m.sortAppend,l=0;l<i.length;l++)i[l][0]!==s&&m.sortList.push(i[l]);b.trigger("sortBegin",e),setTimeout(function(){h(e),g(e),n(e),b.trigger("sortEnd",e)},1)}function g(t){var o,a,i,n,s,r,l,p,h,u,d,g=0,m=t.config,f=m.textSorter||"",b=m.sortList,x=b.length,y=m.$tbodies.length;if(!m.serverSideSorting&&!e(m.cache)){for(m.debug&&(s=new Date),a=0;y>a;a++)r=m.cache[a].colMax,l=m.cache[a].normalized,l.sort(function(e,a){for(o=0;x>o;o++){if(n=b[o][0],p=b[o][1],g=0===p,m.sortStable&&e[n]===a[n]&&1===x)return e[m.columns].order-a[m.columns].order;if(i=/n/i.test(c(m.parsers,n)),i&&m.strings[n]?(i="boolean"==typeof m.string[m.strings[n]]?(g?1:-1)*(m.string[m.strings[n]]?-1:1):m.strings[n]?m.string[m.strings[n]]||0:0,h=m.numberSorter?m.numberSorter(e[n],a[n],g,r[n],t):v["sortNumeric"+(g?"Asc":"Desc")](e[n],a[n],i,r[n],n,t)):(u=g?e:a,d=g?a:e,h="function"==typeof f?f(u[n],d[n],g,n,t):"object"==typeof f&&f.hasOwnProperty(n)?f[n](u[n],d[n],g,n,t):v["sortNatural"+(g?"Asc":"Desc")](e[n],a[n],n,t,m)),h)return h}return e[m.columns].order-a[m.columns].order});m.debug&&console.log("Sorting on "+b.toString()+" and dir "+p+" time"+v.benchmark(s))}}function m(e,o){e.table.isUpdating&&e.$table.trigger("updateComplete",e.table),t.isFunction(o)&&o(e.table)}function f(e,o,a){var i=t.isArray(o)?o:e.sortList,n="undefined"==typeof o?e.resort:o;n===!1||e.serverSideSorting||e.table.isProcessing?(m(e,a),v.applyWidget(e.table,!1)):i.length?e.$table.trigger("sorton",[i,function(){m(e,a)},!0]):e.$table.trigger("sortReset",[function(){m(e,a),v.applyWidget(e.table,!1)}])}function b(o){var s=o.config,c=s.$table,d="sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(s.namespace+" ");c.unbind(d.replace(/\s+/g," ")).bind("sortReset"+s.namespace,function(e,a){e.stopPropagation(),s.sortList=[],h(o),g(o),n(o),t.isFunction(a)&&a(o)}).bind("updateAll"+s.namespace,function(t,e,a){t.stopPropagation(),o.isUpdating=!0,v.refreshWidgets(o,!0,!0),r(o),v.bindEvents(o,s.$headers,!0),b(o),l(o,e,a)}).bind("update"+s.namespace+" updateRows"+s.namespace,function(t,e,a){t.stopPropagation(),o.isUpdating=!0,p(o),l(o,e,a)}).bind("updateCell"+s.namespace,function(e,a,i,n){e.stopPropagation(),o.isUpdating=!0,c.find(s.selectorRemove).remove();var r,l,p,h,u=s.$tbodies,d=t(a),g=u.index(t.fn.closest?d.closest("tbody"):d.parents("tbody").filter(":first")),m=s.cache[g],b=t.fn.closest?d.closest("tr"):d.parents("tr").filter(":first");a=d[0],u.length&&g>=0&&(l=u.eq(g).find("tr").index(b),h=m.normalized[l],p=d.index(),r=v.getParsedText(s,a,p),h[p]=r,h[s.columns].$row=b,"numeric"===(s.parsers[p].type||"").toLowerCase()&&(m.colMax[p]=Math.max(Math.abs(r)||0,m.colMax[p]||0)),r="undefined"!==i?i:s.resort,r!==!1?f(s,r,n):(t.isFunction(n)&&n(o),s.$table.trigger("updateComplete",s.table)))}).bind("addRows"+s.namespace,function(i,n,r,h){if(i.stopPropagation(),o.isUpdating=!0,e(s.cache))p(o),l(o,r,h);else{n=t(n).attr("role","row");var u,c,d,g,m,b=n.filter("tr").length,x=s.$tbodies.index(n.parents("tbody").filter(":first"));for(s.parsers&&s.parsers.length||a(s),u=0;b>u;u++){for(d=n[u].cells.length,m=[],g={child:[],$row:n.eq(u),order:s.cache[x].normalized.length},c=0;d>c;c++)m[c]=v.getParsedText(s,n[u].cells[c],c),"numeric"===(s.parsers[c].type||"").toLowerCase()&&(s.cache[x].colMax[c]=Math.max(Math.abs(m[c])||0,s.cache[x].colMax[c]||0));m.push(g),s.cache[x].normalized.push(m)}f(s,r,h)}}).bind("updateComplete"+s.namespace,function(){o.isUpdating=!1}).bind("sorton"+s.namespace,function(a,s,r,l){var p=o.config;a.stopPropagation(),c.trigger("sortStart",this),u(o,s),h(o),p.delayInit&&e(p.cache)&&i(o),c.trigger("sortBegin",this),g(o),n(o,l),c.trigger("sortEnd",this),v.applyWidget(o),t.isFunction(r)&&r(o)}).bind("appendCache"+s.namespace,function(e,a,i){e.stopPropagation(),n(o,i),t.isFunction(a)&&a(o)}).bind("updateCache"+s.namespace,function(e,n,r){s.parsers&&s.parsers.length||a(s,r),i(o,r),t.isFunction(n)&&n(o)}).bind("applyWidgetId"+s.namespace,function(t,e){t.stopPropagation(),v.getWidgetById(e).format(o,s,s.widgetOptions)}).bind("applyWidgets"+s.namespace,function(t,e){t.stopPropagation(),v.applyWidget(o,e)}).bind("refreshWidgets"+s.namespace,function(t,e,a){t.stopPropagation(),v.refreshWidgets(o,e,a)}).bind("destroy"+s.namespace,function(t,e,a){t.stopPropagation(),v.destroy(o,e,a)}).bind("resetToLoadState"+s.namespace,function(){v.removeWidget(o,!0,!1),s=t.extend(!0,v.defaults,s.originalSettings),o.hasInitialized=!1,v.setup(o,s)})}var v=this;v.version="2.22.5",v.parsers=[],v.widgets=[],v.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},v.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},v.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},v.instanceMethods={},v.getElementText=function(e,o,a){if(!o)return"";var i,n=e.textExtraction||"",s=o.jquery?o:t(o);return"string"==typeof n?"basic"===n&&"undefined"!=typeof(i=s.attr(e.textAttribute))?t.trim(i):t.trim(o.textContent||s.text()):"function"==typeof n?t.trim(n(s[0],e.table,a)):"function"==typeof(i=v.getColumnData(e.table,n,a))?t.trim(i(s[0],e.table,a)):t.trim(s[0].textContent||s.text())},v.getParsedText=function(t,e,o,a){"undefined"==typeof a&&(a=v.getElementText(t,e,o));var i=""+a,n=t.parsers[o],s=t.extractors[o];return n&&(s&&"function"==typeof s.format&&(a=s.format(a,t.table,e,o)),i="no-parser"===n.id?"":n.format(""+a,t.table,e,o),t.ignoreCase&&"string"==typeof i&&(i=i.toLowerCase())),i},v.construct=function(e){return this.each(function(){var o=this,a=t.extend(!0,{},v.defaults,e,v.instanceMethods);a.originalSettings=e,!o.hasInitialized&&v.buildTable&&"TABLE"!==this.nodeName?v.buildTable(o,a):v.setup(o,a)})},v.setup=function(e,o){if(!e||!e.tHead||0===e.tBodies.length||e.hasInitialized===!0)return void(o.debug&&(e.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody")));var n="",s=t(e),l=t.metadata;e.hasInitialized=!1,e.isProcessing=!0,e.config=o,t.data(e,"tablesorter",o),o.debug&&(console[console.group?"group":"log"]("Initializing tablesorter"),t.data(e,"startoveralltimer",new Date)),o.supportsDataObject=function(t){return t[0]=parseInt(t[0],10),t[0]>1||1===t[0]&&parseInt(t[1],10)>=4}(t.fn.jquery.split(".")),o.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},o.emptyTo=o.emptyTo.toLowerCase(),o.stringTo=o.stringTo.toLowerCase(),/tablesorter\-/.test(s.attr("class"))||(n=""!==o.theme?" tablesorter-"+o.theme:""),o.table=e,o.$table=s.addClass(v.css.table+" "+o.tableClass+n).attr("role","grid"),o.$headers=s.find(o.selectorHeaders),o.namespace?o.namespace="."+o.namespace.replace(/\W/g,""):o.namespace=".tablesorter"+Math.random().toString(16).slice(2),o.$table.children().children("tr").attr("role","row"),o.$tbodies=s.children("tbody:not(."+o.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),o.$table.children("caption").length&&(n=o.$table.children("caption")[0],n.id||(n.id=o.namespace.slice(1)+"caption"),o.$table.attr("aria-labelledby",n.id)),o.widgetInit={},o.textExtraction=o.$table.attr("data-text-extraction")||o.textExtraction||"basic",r(e),v.fixColumnWidth(e),v.applyWidgetOptions(e,o),a(o),o.totalRows=0,o.delayInit||i(e),v.bindEvents(e,o.$headers,!0),b(e),o.supportsDataObject&&"undefined"!=typeof s.data().sortlist?o.sortList=s.data().sortlist:l&&s.metadata()&&s.metadata().sortlist&&(o.sortList=s.metadata().sortlist),v.applyWidget(e,!0),o.sortList.length>0?s.trigger("sorton",[o.sortList,{},!o.initWidgets,!0]):(h(e),o.initWidgets&&v.applyWidget(e,!1)),o.showProcessing&&s.unbind("sortBegin"+o.namespace+" sortEnd"+o.namespace).bind("sortBegin"+o.namespace+" sortEnd"+o.namespace,function(t){clearTimeout(o.processTimer),v.isProcessing(e),"sortBegin"===t.type&&(o.processTimer=setTimeout(function(){v.isProcessing(e,!0)},500))}),e.hasInitialized=!0,e.isProcessing=!1,o.debug&&(console.log("Overall initialization time: "+v.benchmark(t.data(e,"startoveralltimer"))),o.debug&&console.groupEnd&&console.groupEnd()),s.trigger("tablesorter-initialized",e),"function"==typeof o.initialized&&o.initialized(e)},v.fixColumnWidth=function(e){e=t(e)[0];var o,a,i,n,s,r=e.config,l=r.$table.children("colgroup");if(l.length&&l.hasClass(v.css.colgroup)&&l.remove(),r.widthFixed&&0===r.$table.children("colgroup").length){for(l=t('<colgroup class="'+v.css.colgroup+'">'),o=r.$table.width(),i=r.$tbodies.find("tr:first").children(":visible"),n=i.length,s=0;n>s;s++)a=parseInt(i.eq(s).width()/o*1e3,10)/10+"%",l.append(t("<col>").css("width",a));r.$table.prepend(l)}},v.getColumnData=function(e,o,a,i,n){if("undefined"!=typeof o&&null!==o){e=t(e)[0];var s,r,l=e.config,p=n||l.$headers,h=l.$headerIndexed&&l.$headerIndexed[a]||p.filter('[data-column="'+a+'"]:last');if(o[a])return i?o[a]:o[p.index(h)];for(r in o)if("string"==typeof r&&(s=h.filter(r).add(h.find(r)),s.length))return o[r]}},v.computeColumnIndex=function(e){var o,a,i,n,s,r,l,p,h,u,c,d,g=[],m=[],f={};for(o=0;o<e.length;o++)for(l=e[o].cells,a=0;a<l.length;a++){for(r=l[a],s=t(r),p=r.parentNode.rowIndex,h=p+"-"+s.index(),u=r.rowSpan||1,c=r.colSpan||1,"undefined"==typeof g[p]&&(g[p]=[]),i=0;i<g[p].length+1;i++)if("undefined"==typeof g[p][i]){d=i;break}for(f[h]=d,s.attr({"data-column":d}),i=p;p+u>i;i++)for("undefined"==typeof g[i]&&(g[i]=[]),m=g[i],n=d;d+c>n;n++)m[n]="x"}return m.length},v.isProcessing=function(e,o,a){e=t(e);var i=e[0].config,n=a||e.find("."+v.css.header);o?("undefined"!=typeof a&&i.sortList.length>0&&(n=n.filter(function(){return this.sortDisabled?!1:v.isValueInArray(parseFloat(t(this).attr("data-column")),i.sortList)>=0})),e.add(n).addClass(v.css.processing+" "+i.cssProcessing)):e.add(n).removeClass(v.css.processing+" "+i.cssProcessing)},v.processTbody=function(e,o,a){e=t(e)[0];var i;return a?(e.isProcessing=!0,o.before('<colgroup class="tablesorter-savemyplace"/>'),i=t.fn.detach?o.detach():o.remove()):(i=t(e).find("colgroup.tablesorter-savemyplace"),o.insertAfter(i),i.remove(),void(e.isProcessing=!1))},v.clearTableBody=function(e){t(e)[0].config.$tbodies.children().detach()},v.bindEvents=function(o,a,n){o=t(o)[0];var s,r=null,l=o.config;n!==!0&&(a.addClass(l.namespace.slice(1)+"_extra_headers"),s=t.fn.closest?a.closest("table")[0]:a.parents("table")[0],s&&"TABLE"===s.nodeName&&s!==o&&t(s).addClass(l.namespace.slice(1)+"_extra_table")),s=(l.pointerDown+" "+l.pointerUp+" "+l.pointerClick+" sort keyup ").replace(/\s+/g," ").split(" ").join(l.namespace+" "),a.find(l.selectorSort).add(a.filter(l.selectorSort)).unbind(s).bind(s,function(n,s){var p,h,u=t(n.target),c=" "+n.type+" ";if(!(1!==(n.which||n.button)&&!c.match(" "+l.pointerClick+" | sort | keyup ")||" keyup "===c&&13!==n.which||c.match(" "+l.pointerClick+" ")&&"undefined"!=typeof n.which||c.match(" "+l.pointerUp+" ")&&r!==n.target&&s!==!0)){if(c.match(" "+l.pointerDown+" "))return r=n.target,h=u.jquery.split("."),void("1"===h[0]&&h[1]<4&&n.preventDefault());if(r=null,/(input|select|button|textarea)/i.test(n.target.nodeName)||u.hasClass(l.cssNoSort)||u.parents("."+l.cssNoSort).length>0||u.parents("button").length>0)return!l.cancelSelection;l.delayInit&&e(l.cache)&&i(o),p=t.fn.closest?t(this).closest("th, td")[0]:/TH|TD/.test(this.nodeName)?this:t(this).parents("th, td")[0],p=l.$headers[a.index(p)],p.sortDisabled||d(o,p,n)}}),l.cancelSelection&&a.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},v.restoreHeaders=function(e){var o,a,i=t(e)[0].config,n=i.$table.find(i.selectorHeaders),s=n.length;for(o=0;s>o;o++)a=n.eq(o),a.find("."+v.css.headerIn).length&&a.html(i.headerContent[o])},v.destroy=function(e,o,a){if(e=t(e)[0],e.hasInitialized){v.removeWidget(e,!0,!1);var i,n=t(e),s=e.config,r=s.debug,l=n.find("thead:first"),p=l.find("tr."+v.css.headerRow).removeClass(v.css.headerRow+" "+s.cssHeaderRow),h=n.find("tfoot:first > tr").children("th, td");o===!1&&t.inArray("uitheme",s.widgets)>=0&&(n.trigger("applyWidgetId",["uitheme"]),n.trigger("applyWidgetId",["zebra"])),l.find("tr").not(p).remove(),i="sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache "+"applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(s.namespace+" "),n.removeData("tablesorter").unbind(i.replace(/\s+/g," ")),s.$headers.add(h).removeClass([v.css.header,s.cssHeader,s.cssAsc,s.cssDesc,v.css.sortAsc,v.css.sortDesc,v.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),p.find(s.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(s.namespace+" ").replace(/\s+/g," ")),v.restoreHeaders(e),n.toggleClass(v.css.table+" "+s.tableClass+" tablesorter-"+s.theme,o===!1),e.hasInitialized=!1,delete e.config.cache,"function"==typeof a&&a(e),r&&console.log("tablesorter has been removed")}},v.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},v.sortNatural=function(t,e){if(t===e)return 0;var o,a,i,n,s,r,l,p,h=v.regex;if(h.hex.test(e)){if(a=parseInt(t.match(h.hex),16),n=parseInt(e.match(h.hex),16),n>a)return-1;if(a>n)return 1}for(o=t.replace(h.chunk,"\\0$1\\0").replace(h.chunks,"").split("\\0"),i=e.replace(h.chunk,"\\0$1\\0").replace(h.chunks,"").split("\\0"),p=Math.max(o.length,i.length),l=0;p>l;l++){if(s=isNaN(o[l])?o[l]||0:parseFloat(o[l])||0,r=isNaN(i[l])?i[l]||0:parseFloat(i[l])||0,isNaN(s)!==isNaN(r))return isNaN(s)?1:-1;if(typeof s!=typeof r&&(s+="",r+=""),r>s)return-1;if(s>r)return 1}return 0},v.sortNaturalAsc=function(t,e,o,a,i){if(t===e)return 0;var n=i.string[i.empties[o]||i.emptyTo];return""===t&&0!==n?"boolean"==typeof n?n?-1:1:-n||-1:""===e&&0!==n?"boolean"==typeof n?n?1:-1:n||1:v.sortNatural(t,e)},v.sortNaturalDesc=function(t,e,o,a,i){if(t===e)return 0;var n=i.string[i.empties[o]||i.emptyTo];return""===t&&0!==n?"boolean"==typeof n?n?-1:1:n||1:""===e&&0!==n?"boolean"==typeof n?n?1:-1:-n||-1:v.sortNatural(e,t)},v.sortText=function(t,e){return t>e?1:e>t?-1:0},v.getTextValue=function(t,e,o){if(o){var a,i=t?t.length:0,n=o+e;for(a=0;i>a;a++)n+=t.charCodeAt(a);return e*n}return 0},v.sortNumericAsc=function(t,e,o,a,i,n){if(t===e)return 0;var s=n.config,r=s.string[s.empties[i]||s.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===e&&0!==r?"boolean"==typeof r?r?1:-1:r||1:(isNaN(t)&&(t=v.getTextValue(t,o,a)),isNaN(e)&&(e=v.getTextValue(e,o,a)),t-e)},v.sortNumericDesc=function(t,e,o,a,i,n){if(t===e)return 0;var s=n.config,r=s.string[s.empties[i]||s.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===e&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:(isNaN(t)&&(t=v.getTextValue(t,o,a)),isNaN(e)&&(e=v.getTextValue(e,o,a)),e-t)},v.sortNumeric=function(t,e){return t-e},v.characterEquivalents={a:"Ã¡Ã Ã¢Ã£Ã¤ÄÃ¥",A:"ÃÃÃÃÃÄÃ",c:"Ã§ÄÄ",C:"ÃÄÄ",e:"Ã©Ã¨ÃªÃ«ÄÄ",E:"ÃÃÃÃÄÄ",i:"Ã­Ã¬Ä°Ã®Ã¯Ä±",I:"ÃÃÄ°ÃÃ",o:"Ã³Ã²Ã´ÃµÃ¶Å",O:"ÃÃÃÃÃÅ",ss:"Ã",SS:"áº",u:"ÃºÃ¹Ã»Ã¼Å¯",U:"ÃÃÃÃÅ®"},v.replaceAccents=function(t){var e,o="[",a=v.characterEquivalents;if(!v.characterRegex){v.characterRegexArray={};for(e in a)"string"==typeof e&&(o+=a[e],v.characterRegexArray[e]=new RegExp("["+a[e]+"]","g"));v.characterRegex=new RegExp(o+"]")}if(v.characterRegex.test(t))for(e in a)"string"==typeof e&&(t=t.replace(v.characterRegexArray[e],e));return t},v.isValueInArray=function(t,e){var o,a=e&&e.length||0;for(o=0;a>o;o++)if(e[o][0]===t)return o;return-1},v.addParser=function(t){var e,o=v.parsers.length,a=!0;for(e=0;o>e;e++)v.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(a=!1);a&&v.parsers.push(t)},v.addInstanceMethods=function(e){t.extend(v.instanceMethods,e)},v.getParserById=function(t){if("false"==t)return!1;var e,o=v.parsers.length;for(e=0;o>e;e++)if(v.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return v.parsers[e];return!1},v.addWidget=function(t){v.widgets.push(t)},v.hasWidget=function(e,o){return e=t(e),e.length&&e[0].config&&e[0].config.widgetInit[o]||!1},v.getWidgetById=function(t){var e,o,a=v.widgets.length;for(e=0;a>e;e++)if(o=v.widgets[e],o&&o.hasOwnProperty("id")&&o.id.toLowerCase()===t.toLowerCase())return o},v.applyWidgetOptions=function(e,o){var a,i,n=o.widgets.length,s=o.widgetOptions;if(n)for(a=0;n>a;a++)i=v.getWidgetById(o.widgets[a]),i&&"options"in i&&(s=e.config.widgetOptions=t.extend(!0,{},i.options,s))},v.applyWidget=function(e,o,a){e=t(e)[0];var i,n,s,r,l,p,h,u,c,d,g=e.config,m=g.widgetOptions,f=" "+g.table.className+" ",b=[];if(o===!1||!e.hasInitialized||!e.isApplyingWidgets&&!e.isUpdating){if(g.debug&&(h=new Date),d=new RegExp("\\s"+g.widgetClass.replace(/\{name\}/i,"([\\w-]+)")+"\\s","g"),f.match(d)&&(c=f.match(d)))for(n=c.length,i=0;n>i;i++)g.widgets.push(c[i].replace(d,"$1"));if(g.widgets.length){for(e.isApplyingWidgets=!0,g.widgets=t.grep(g.widgets,function(e,o){return t.inArray(e,g.widgets)===o}),s=g.widgets||[],n=s.length,i=0;n>i;i++)d=v.getWidgetById(s[i]),d&&d.id&&(d.priority||(d.priority=10),b[i]=d);for(b.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),n=b.length,g.debug&&console[console.group?"group":"log"]("Start "+(o?"initializing":"applying")+" widgets"),i=0;n>i;i++)r=b[i],r&&(l=r.id,p=!1,g.debug&&(u=new Date),(o||!g.widgetInit[l])&&(g.widgetInit[l]=!0,e.hasInitialized&&v.applyWidgetOptions(e,g),"init"in r&&(p=!0,g.debug&&console[console.group?"group":"log"]("Initializing "+l+" widget"),r.init(e,r,g,m))),!o&&"format"in r&&(p=!0,g.debug&&console[console.group?"group":"log"]("Updating "+l+" widget"),r.format(e,g,m,!1)),g.debug&&p&&(console.log("Completed "+(o?"initializing ":"applying ")+l+" widget"+v.benchmark(u)),console.groupEnd&&console.groupEnd()));g.debug&&console.groupEnd&&console.groupEnd(),o||"function"!=typeof a||a(e)}setTimeout(function(){e.isApplyingWidgets=!1,t.data(e,"lastWidgetApplication",new Date)},0),g.debug&&(c=g.widgets.length,console.log("Completed "+(o===!0?"initializing ":"applying ")+c+" widget"+(1!==c?"s":"")+v.benchmark(h)))}},v.removeWidget=function(e,o,a){e=t(e)[0];var i,n,s,r,l=e.config;if(o===!0)for(o=[],r=v.widgets.length,s=0;r>s;s++)n=v.widgets[s],n&&n.id&&o.push(n.id);else o=(t.isArray(o)?o.join(","):o||"").toLowerCase().split(/[\s,]+/);for(r=o.length,i=0;r>i;i++)n=v.getWidgetById(o[i]),s=t.inArray(o[i],l.widgets),n&&"remove"in n&&(l.debug&&s>=0&&console.log('Removing "'+o[i]+'" widget'),l.debug&&console.log((a?"Refreshing":"Removing")+' "'+o[i]+'" widget'),n.remove(e,l,l.widgetOptions,a),l.widgetInit[o[i]]=!1),s>=0&&a!==!0&&l.widgets.splice(s,1)},v.refreshWidgets=function(e,o,a){e=t(e)[0];var i,n=e.config,s=n.widgets,r=v.widgets,l=r.length,p=[],h=function(e){t(e).trigger("refreshComplete")};for(i=0;l>i;i++)r[i]&&r[i].id&&(o||t.inArray(r[i].id,s)<0)&&p.push(r[i].id);v.removeWidget(e,p.join(","),!0),a!==!0?(v.applyWidget(e,o||!1,h),o&&v.applyWidget(e,!1,h)):h(e)},v.getColumnText=function(o,a,i){o=t(o)[0];var n,s,r,l,p,h,u,c,d,g,m="function"==typeof i,f="all"===a,b={raw:[],parsed:[],$cell:[]},v=o.config;if(!e(v)){for(p=v.$tbodies.length,n=0;p>n;n++)for(r=v.cache[n].normalized,h=r.length,s=0;h>s;s++)g=!0,l=r[s],c=f?l.slice(0,v.columns):l[a],l=l[v.columns],u=f?l.raw:l.raw[a],d=f?l.$row.children():l.$row.children().eq(a),m&&(g=i({tbodyIndex:n,rowIndex:s,parsed:c,raw:u,$row:l.$row,$cell:d})),g!==!1&&(b.parsed.push(c),b.raw.push(u),b.$cell.push(d));return b}v.debug&&console.warn("No cache found - aborting getColumnText function!")},v.getData=function(e,o,a){var i,n,s="",r=t(e);return r.length?(i=t.metadata?r.metadata():!1,n=" "+(r.attr("class")||""),"undefined"!=typeof r.data(a)||"undefined"!=typeof r.data(a.toLowerCase())?s+=r.data(a)||r.data(a.toLowerCase()):i&&"undefined"!=typeof i[a]?s+=i[a]:o&&"undefined"!=typeof o[a]?s+=o[a]:" "!==n&&n.match(" "+a+"-")&&(s=n.match(new RegExp("\\s"+a+"-([\\w-]+)"))[1]||""),t.trim(s)):""},v.formatFloat=function(e,o){if("string"!=typeof e||""===e)return e;var a,i=o&&o.config?o.config.usNumberFormat!==!1:"undefined"!=typeof o?o:!0;return e=i?e.replace(/,/g,""):e.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(e)&&(e=e.replace(/^\s*\(([.\d]+)\)/,"-$1")),a=parseFloat(e),isNaN(a)?t.trim(e):a},v.isDigit=function(t){return isNaN(t)?/^[\-+(]?\d+[)]?$/.test(t.toString().replace(/[,.'"\s]/g,"")):""!==t}}});var e=t.tablesorter;
t.fn.extend({tablesorter:e.construct}),console&&console.log||(e.logs=[],console={},console.log=console.warn=console.error=console.table=function(){e.logs.push([Date.now(),arguments])}),e.log=function(){console.log(arguments)},e.benchmark=function(t){return" ("+((new Date).getTime()-t.getTime())+"ms)"},e.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),e.addParser({id:"text",is:function(){return!0},format:function(o,a){var i=a.config;return o&&(o=t.trim(i.ignoreCase?o.toLocaleLowerCase():o),o=i.sortLocaleCompare?e.replaceAccents(o):o),o},type:"text"}),e.addParser({id:"digit",is:function(t){return e.isDigit(t)},format:function(o,a){var i=e.formatFloat((o||"").replace(/[^\w,. \-()]/g,""),a);return o&&"number"==typeof i?i:o?t.trim(o&&a.config.ignoreCase?o.toLocaleLowerCase():o):o},type:"numeric"}),e.addParser({id:"currency",is:function(t){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((t||"").replace(/[+\-,. ]/g,""))},format:function(o,a){var i=e.formatFloat((o||"").replace(/[^\w,. \-()]/g,""),a);return o&&"number"==typeof i?i:o?t.trim(o&&a.config.ignoreCase?o.toLocaleLowerCase():o):o},type:"numeric"}),e.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\//.test(t)},format:function(e){return e?t.trim(e.replace(/(https?|ftp|file):\/\//,"")):e},parsed:!0,type:"text"}),e.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(t)},format:function(t,e){var o=t?new Date(t.replace(/-/g,"/")):t;return o instanceof Date&&isFinite(o)?o.getTime():t},type:"numeric"}),e.addParser({id:"percent",is:function(t){return/(\d\s*?%|%\s*?\d)/.test(t)&&t.length<15},format:function(t,o){return t?e.formatFloat(t.replace(/%/g,""),o):t},type:"numeric"}),e.addParser({id:"image",is:function(t,e,o,a){return a.find("img").length>0},format:function(e,o,a){return t(a).find("img").attr(o.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),e.addParser({id:"usLongDate",is:function(t){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(t)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(t)},format:function(t,e){var o=t?new Date(t.replace(/(\S)([AP]M)$/i,"$1 $2")):t;return o instanceof Date&&isFinite(o)?o.getTime():t},type:"numeric"}),e.addParser({id:"shortDate",is:function(t){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((t||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(t,o,a,i){if(t){var n,s,r=o.config,l=r.$headerIndexed[i],p=l.length&&l[0].dateFormat||e.getData(l,e.getColumnData(o,r.headers,i),"dateFormat")||r.dateFormat;return s=t.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===p?s=s.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===p?s=s.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===p&&(s=s.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")),n=new Date(s),n instanceof Date&&isFinite(n)?n.getTime():t}return t},type:"numeric"}),e.addParser({id:"time",is:function(t){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(t)},format:function(t,e){var o=t?new Date("2000/01/01 "+t.replace(/(\S)([AP]M)$/i,"$1 $2")):t;return o instanceof Date&&isFinite(o)?o.getTime():t},type:"numeric"}),e.addParser({id:"metadata",is:function(){return!1},format:function(e,o,a){var i=o.config,n=i.parserMetadataName?i.parserMetadataName:"sortValue";return t(a).metadata()[n]},type:"numeric"}),e.addWidget({id:"zebra",priority:90,format:function(e,o,a){var i,n,s,r,l,p,h,u,c=new RegExp(o.cssChildRow,"i"),d=o.$tbodies.add(t(o.namespace+"_extra_table").children("tbody:not(."+o.cssInfoBlock+")"));for(o.debug&&(l=new Date),p=0;p<d.length;p++)for(s=0,i=d.eq(p).children("tr:visible").not(o.selectorRemove),u=i.length,h=0;u>h;h++)n=i.eq(h),c.test(n[0].className)||s++,r=s%2===0,n.removeClass(a.zebra[r?1:0]).addClass(a.zebra[r?0:1])},remove:function(t,o,a,i){if(!i){var n,s,r=o.$tbodies,l=(a.zebra||["even","odd"]).join(" ");for(n=0;n<r.length;n++)s=e.processTbody(t,r.eq(n),!0),s.children().removeClass(l),e.processTbody(t,s,!1)}}})}(jQuery),!function(t,e,o){function a(){var e=t.L;i.noConflict=function(){return t.L=e,this},t.L=i}var i={version:"1.0-dev"};"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd&&define(i),"undefined"!=typeof t&&a(),i.Util={extend:function(t){var e,o,a,i;for(o=1,a=arguments.length;a>o;o++){i=arguments[o];for(e in i)t[e]=i[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var a=o.call(arguments,2);return function(){return t.apply(e,a.length?a.concat(o.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++i.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,o){var a,i,n,s;return s=function(){a=!1,i&&(n.apply(o,i),i=!1)},n=function(){a?i=arguments:(t.apply(o,arguments),setTimeout(s,e),a=!0)}},wrapNum:function(t,e,o){var a=e[1],i=e[0],n=a-i;return t===a&&o?t:((t-i)%n+n)%n+i},falseFn:function(){return!1},formatNum:function(t,e){var o=Math.pow(10,e||5);return Math.round(t*o)/o},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return i.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?i.Util.create(t.options):{});for(var o in e)t.options[o]=e[o];return t.options},getParamString:function(t,e,o){var a=[];for(var i in t)a.push(encodeURIComponent(o?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+a.join("&")},template:function(t,e){return t.replace(i.Util.templateRe,function(t,a){var i=e[a];if(i===o)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i})},templateRe:/\{ *([\w_]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var o=0;o<t.length;o++)if(t[o]===e)return o;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function o(e){var o=+new Date,i=Math.max(0,16-(o-a));return a=o+i,t.setTimeout(e,i)}var a=0,n=t.requestAnimationFrame||e("RequestAnimationFrame")||o,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};i.Util.requestAnimFrame=function(e,a,s){return s&&n===o?void e.call(a):n.call(t,i.bind(e,a))},i.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),i.extend=i.Util.extend,i.bind=i.Util.bind,i.stamp=i.Util.stamp,i.setOptions=i.Util.setOptions,i.Class=function(){},i.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,a=i.Util.create(o);a.constructor=e,e.prototype=a;for(var n in this)this.hasOwnProperty(n)&&"prototype"!==n&&(e[n]=this[n]);return t.statics&&(i.extend(e,t.statics),delete t.statics),t.includes&&(i.Util.extend.apply(null,[a].concat(t.includes)),delete t.includes),a.options&&(t.options=i.Util.extend(i.Util.create(a.options),t.options)),i.extend(a,t),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=a._initHooks.length;e>t;t++)a._initHooks[t].call(this)}},e},i.Class.include=function(t){i.extend(this.prototype,t)},i.Class.mergeOptions=function(t){i.extend(this.prototype.options,t)},i.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),o="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o)},i.Evented=i.Class.extend({on:function(t,e,o){if("object"==typeof t)for(var a in t)this._on(a,t[a],e);else{t=i.Util.splitWords(t);for(var n=0,s=t.length;s>n;n++)this._on(t[n],e,o)}return this},off:function(t,e,o){if(t)if("object"==typeof t)for(var a in t)this._off(a,t[a],e);else{t=i.Util.splitWords(t);for(var n=0,s=t.length;s>n;n++)this._off(t[n],e,o)}else delete this._events;return this},_on:function(t,e,o){var a=this._events=this._events||{},n=o&&o!==this&&i.stamp(o);if(n){var s=t+"_idx",r=t+"_len",l=a[s]=a[s]||{},p=i.stamp(e)+"_"+n;l[p]||(l[p]={fn:e,ctx:o},a[r]=(a[r]||0)+1)}else a[t]=a[t]||[],a[t].push({fn:e})},_off:function(t,e,o){var a=this._events,n=t+"_idx",s=t+"_len";if(a){if(!e)return delete a[t],delete a[n],void delete a[s];var r,l,p,h,u,c=o&&o!==this&&i.stamp(o);if(c)u=i.stamp(e)+"_"+c,r=a[n],r&&r[u]&&(h=r[u],delete r[u],a[s]--);else if(r=a[t])for(l=0,p=r.length;p>l;l++)if(r[l].fn===e){h=r[l],r.splice(l,1);break}h&&(h.fn=i.Util.falseFn)}},fire:function(t,e,o){if(!this.listens(t,o))return this;var a=i.Util.extend({},e,{type:t,target:this}),n=this._events;if(n){var s,r,l,p,h=n[t+"_idx"];if(n[t])for(l=n[t].slice(),s=0,r=l.length;r>s;s++)l[s].fn.call(this,a);for(p in h)h[p].fn.call(h[p].ctx,a)}return o&&this._propagateEvent(a),this},listens:function(t,e){var o=this._events;if(o&&(o[t]||o[t+"_len"]))return!0;if(e)for(var a in this._eventParents)if(this._eventParents[a].listens(t,e))return!0;return!1},once:function(t,e,o){if("object"==typeof t){for(var a in t)this.once(a,t[a],e);return this}var n=i.bind(function(){this.off(t,e,o).off(t,n,o)},this);return this.on(t,e,o).on(t,n,o)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i.extend({layer:t.target},t),!0)}});var n=i.Evented.prototype;n.addEventListener=n.on,n.removeEventListener=n.clearAllEventListeners=n.off,n.addOneTimeEventListener=n.once,n.fireEvent=n.fire,n.hasEventListeners=n.listens,i.Mixin={Events:n},function(){var o=navigator.userAgent.toLowerCase(),a=e.documentElement,n="ActiveXObject"in t,s=-1!==o.indexOf("webkit"),r=-1!==o.indexOf("phantom"),l=-1!==o.search("android [23]"),p=-1!==o.indexOf("chrome"),h=-1!==o.indexOf("gecko")&&!s&&!t.opera&&!n,u="undefined"!=typeof orientation||-1!==o.indexOf("mobile"),c=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!t.PointerEvent,d=t.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints||c,g=n&&"transition"in a.style,m="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!l,f="MozPerspective"in a.style,b="OTransition"in a.style,v=!t.L_NO_TOUCH&&!r&&(d||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);i.Browser={ie:n,ielt9:n&&!e.addEventListener,webkit:s,gecko:h,android:-1!==o.indexOf("android"),android23:l,chrome:p,safari:!p&&-1!==o.indexOf("safari"),ie3d:g,webkit3d:m,gecko3d:f,opera12:b,any3d:!t.L_DISABLE_3D&&(g||m||f)&&!b&&!r,mobile:u,mobileWebkit:u&&s,mobileWebkit3d:u&&m,mobileOpera:u&&t.opera,mobileGecko:u&&h,touch:!!v,msPointer:!!c,pointer:!!d,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),i.Point=function(t,e,o){this.x=o?Math.round(t):t,this.y=o?Math.round(e):e},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(t){return this.clone()._add(i.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(i.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new i.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new i.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=i.point(t);var e=t.x-this.x,o=t.y-this.y;return Math.sqrt(e*e+o*o)},equals:function(t){return t=i.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=i.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+i.Util.formatNum(this.x)+", "+i.Util.formatNum(this.y)+")"}},i.point=function(t,e,a){return t instanceof i.Point?t:i.Util.isArray(t)?new i.Point(t[0],t[1]):t===o||null===t?t:new i.Point(t,e,a)},i.Bounds=function(t,e){if(t)for(var o=e?[t,e]:t,a=0,i=o.length;i>a;a++)this.extend(o[a])},i.Bounds.prototype={extend:function(t){return t=i.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,o;return t="number"==typeof t[0]||t instanceof i.Point?i.point(t):i.bounds(t),t instanceof i.Bounds?(e=t.min,o=t.max):e=o=t,e.x>=this.min.x&&o.x<=this.max.x&&e.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=i.bounds(t);var e=this.min,o=this.max,a=t.min,n=t.max,s=n.x>=e.x&&a.x<=o.x,r=n.y>=e.y&&a.y<=o.y;return s&&r},overlaps:function(t){t=i.bounds(t);var e=this.min,o=this.max,a=t.min,n=t.max,s=n.x>e.x&&a.x<o.x,r=n.y>e.y&&a.y<o.y;return s&&r},isValid:function(){return!(!this.min||!this.max)}},i.bounds=function(t,e){return!t||t instanceof i.Bounds?t:new i.Bounds(t,e)},i.Transformation=function(t,e,o,a){this._a=t,this._b=e,this._c=o,this._d=a},i.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new i.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},i.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,o){var a=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!a||"auto"===a)&&e.defaultView){var i=e.defaultView.getComputedStyle(t,null);a=i?i[o]:null}return"auto"===a?null:a},create:function(t,o,a){var i=e.createElement(t);return i.className=o,a&&a.appendChild(i),i},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==o)return t.classList.contains(e);var a=i.DomUtil.getClass(t);return a.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(a)},addClass:function(t,e){if(t.classList!==o)for(var a=i.Util.splitWords(e),n=0,s=a.length;s>n;n++)t.classList.add(a[n]);else if(!i.DomUtil.hasClass(t,e)){var r=i.DomUtil.getClass(t);i.DomUtil.setClass(t,(r?r+" ":"")+e)}},removeClass:function(t,e){t.classList!==o?t.classList.remove(e):i.DomUtil.setClass(t,i.Util.trim((" "+i.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===o?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===o?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&i.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var o=!1,a="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(a)}catch(i){if(1===e)return}e=Math.round(100*e),o?(o.Enabled=100!==e,o.Opacity=e):t.style.filter+=" progid:"+a+"(opacity="+e+")"},testProp:function(t){for(var o=e.documentElement.style,a=0;a<t.length;a++)if(t[a]in o)return t[a];return!1},setTransform:function(t,e,o){var a=e||new i.Point(0,0);t.style[i.DomUtil.TRANSFORM]="translate3d("+a.x+"px,"+a.y+"px,0)"+(o?" scale("+o+")":"")},setPosition:function(t,e){t._leaflet_pos=e,i.Browser.any3d?i.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},function(){i.DomUtil.TRANSFORM=i.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var o=i.DomUtil.TRANSITION=i.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(i.DomUtil.TRANSITION_END="webkitTransition"===o||"OTransition"===o?o+"End":"transitionend","onselectstart"in e)i.DomUtil.disableTextSelection=function(){i.DomEvent.on(t,"selectstart",i.DomEvent.preventDefault)},i.DomUtil.enableTextSelection=function(){i.DomEvent.off(t,"selectstart",i.DomEvent.preventDefault)};else{var a=i.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);i.DomUtil.disableTextSelection=function(){if(a){var t=e.documentElement.style;this._userSelect=t[a],t[a]="none"}},i.DomUtil.enableTextSelection=function(){a&&(e.documentElement.style[a]=this._userSelect,delete this._userSelect)}}i.DomUtil.disableImageDrag=function(){i.DomEvent.on(t,"dragstart",i.DomEvent.preventDefault)},i.DomUtil.enableImageDrag=function(){i.DomEvent.off(t,"dragstart",i.DomEvent.preventDefault)},i.DomUtil.preventOutline=function(e){for(;-1===e.tabIndex;)e=e.parentNode;e&&(i.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",i.DomEvent.on(t,"keydown",i.DomUtil.restoreOutline,this))},i.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,i.DomEvent.off(t,"keydown",i.DomUtil.restoreOutline,this))}}(),i.LatLng=function(t,e,a){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,a!==o&&(this.alt=+a)},i.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=i.latLng(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return(e===o?1e-9:e)>=a},toString:function(t){return"LatLng("+i.Util.formatNum(this.lat,t)+", "+i.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return i.CRS.Earth.distance(this,i.latLng(t))},wrap:function(){return i.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,o=e/Math.cos(Math.PI/180*this.lat);return i.latLngBounds([this.lat-e,this.lng-o],[this.lat+e,this.lng+o])},clone:function(){return new i.LatLng(this.lat,this.lng,this.alt)}},i.latLng=function(t,e,a){return t instanceof i.LatLng?t:i.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new i.LatLng(t[0],t[1],t[2]):2===t.length?new i.LatLng(t[0],t[1]):null:t===o||null===t?t:"object"==typeof t&&"lat"in t?new i.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===o?null:new i.LatLng(t,e,a)},i.LatLngBounds=function(t,e){if(t)for(var o=e?[t,e]:t,a=0,i=o.length;i>a;a++)this.extend(o[a])},i.LatLngBounds.prototype={extend:function(t){var e,o,a=this._southWest,n=this._northEast;if(t instanceof i.LatLng)e=t,o=t;else{if(!(t instanceof i.LatLngBounds))return t?this.extend(i.latLng(t)||i.latLngBounds(t)):this;if(e=t._southWest,o=t._northEast,!e||!o)return this}return a||n?(a.lat=Math.min(e.lat,a.lat),a.lng=Math.min(e.lng,a.lng),n.lat=Math.max(o.lat,n.lat),n.lng=Math.max(o.lng,n.lng)):(this._southWest=new i.LatLng(e.lat,e.lng),this._northEast=new i.LatLng(o.lat,o.lng)),this},pad:function(t){var e=this._southWest,o=this._northEast,a=Math.abs(e.lat-o.lat)*t,n=Math.abs(e.lng-o.lng)*t;return new i.LatLngBounds(new i.LatLng(e.lat-a,e.lng-n),new i.LatLng(o.lat+a,o.lng+n))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new i.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t);var e,o,a=this._southWest,n=this._northEast;return t instanceof i.LatLngBounds?(e=t.getSouthWest(),o=t.getNorthEast()):e=o=t,e.lat>=a.lat&&o.lat<=n.lat&&e.lng>=a.lng&&o.lng<=n.lng},intersects:function(t){t=i.latLngBounds(t);var e=this._southWest,o=this._northEast,a=t.getSouthWest(),n=t.getNorthEast(),s=n.lat>=e.lat&&a.lat<=o.lat,r=n.lng>=e.lng&&a.lng<=o.lng;return s&&r},overlaps:function(t){t=i.latLngBounds(t);var e=this._southWest,o=this._northEast,a=t.getSouthWest(),n=t.getNorthEast(),s=n.lat>e.lat&&a.lat<o.lat,r=n.lng>e.lng&&a.lng<o.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=i.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},i.latLngBounds=function(t,e){return!t||t instanceof i.LatLngBounds?t:new i.LatLngBounds(t,e)},i.Projection={},i.Projection.LonLat={project:function(t){return new i.Point(t.lng,t.lat)},unproject:function(t){return new i.LatLng(t.y,t.x)},bounds:i.bounds([-180,-90],[180,90])},i.Projection.SphericalMercator={R:6378137,project:function(t){var e=Math.PI/180,o=1-1e-15,a=Math.max(Math.min(Math.sin(t.lat*e),o),-o);return new i.Point(this.R*t.lng*e,this.R*Math.log((1+a)/(1-a))/2)},unproject:function(t){var e=180/Math.PI;return new i.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return i.bounds([-t,-t],[t,t])}()},i.CRS={latLngToPoint:function(t,e){var o=this.projection.project(t),a=this.scale(e);return this.transformation._transform(o,a)},pointToLatLng:function(t,e){var o=this.scale(e),a=this.transformation.untransform(t,o);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,o=this.scale(t),a=this.transformation.transform(e.min,o),n=this.transformation.transform(e.max,o);return i.bounds(a,n)},wrapLatLng:function(t){var e=this.wrapLng?i.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?i.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return i.latLng(o,e,a)}},i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},distance:function(t,e){var o=e.lng-t.lng,a=e.lat-t.lat;return Math.sqrt(o*o+a*a)},infinite:!0}),i.CRS.Earth=i.extend({},i.CRS,{wrapLng:[-180,180],R:6378137,distance:function(t,e){var o=Math.PI/180,a=t.lat*o,i=e.lat*o,n=Math.sin(a)*Math.sin(i)+Math.cos(a)*Math.cos(i)*Math.cos((e.lng-t.lng)*o);return this.R*Math.acos(Math.min(n,1))}}),i.CRS.EPSG3857=i.extend({},i.CRS.Earth,{code:"EPSG:3857",projection:i.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*i.Projection.SphericalMercator.R);return new i.Transformation(t,.5,-t,.5)}()}),i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:"EPSG:900913"}),i.CRS.EPSG4326=i.extend({},i.CRS.Earth,{code:"EPSG:4326",projection:i.Projection.LonLat,transformation:new i.Transformation(1/180,1,-1/180,.5)}),i.Map=i.Evented.extend({options:{crs:i.CRS.EPSG3857,fadeAnimation:!0,trackResize:!0,markerZoomAnimation:!0,maxBoundsViscosity:0},initialize:function(t,e){e=i.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=i.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==o&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==o&&this.setView(i.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,e){return e=e===o?this.getZoom():e,this._resetView(i.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,o){var a=this.getZoomScale(e),n=this.getSize().divideBy(2),s=t instanceof i.Point?t:this.latLngToContainerPoint(t),r=s.subtract(n).multiplyBy(1-1/a),l=this.containerPointToLatLng(n.add(r));return this.setView(l,e,{zoom:o})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():i.latLngBounds(t);var o=i.point(e.paddingTopLeft||e.padding||[0,0]),a=i.point(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(t,!1,o.add(a),e.step);n=e.maxZoom?Math.min(e.maxZoom,n):n;var s=a.subtract(o).divideBy(2),r=this.project(t.getSouthWest(),n),l=this.project(t.getNorthEast(),n),p=this.unproject(r.add(l).divideBy(2).add(s),n);return{center:p,zoom:n}},fitBounds:function(t,e){var o=this._getBoundsCenterZoom(t,e);return this.setView(o.center,o.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(i.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return(t=i.latLngBounds(t))?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):this.off("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){var o=this.getCenter(),a=this._limitCenter(o,this._zoom,i.latLngBounds(t));return o.equals(a)?this:this.panTo(a,e)},invalidateSize:function(t){if(!this._loaded)return this;t=i.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),a=e.divideBy(2).round(),n=o.divideBy(2).round(),s=a.subtract(n);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},stop:function(){return i.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},addHandler:function(t,e){if(!e)return this;var o=this[t]=new e(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=o}i.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var e in this._layers)this._layers[e].remove();return this},createPane:function(t,e){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=i.DomUtil.create("div",o,e||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new i.LatLngBounds(e,o)},getMinZoom:function(){return this.options.minZoom===o?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===o?this._layersMaxZoom===o?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,o,a){t=i.latLngBounds(t),o=i.point(o||[0,0]),a=a||.15;var n,s,r=this.getMinZoom()-(e?a:0),l=(isFinite(this.getMaxZoom())?this.getMaxZoom():18)+(e?0:a),p=this.getSize(),h=t.getNorthWest(),u=t.getSouthEast(),c=!0,d=0;do n=(r+l)/2,n-=n/a%1*a,s=this.project(u,n).subtract(this.project(h,n)).add(o).floor(),e?s.contains(p)?(l=n,c=!1):(r=n,n=l):p.contains(s)?(r=n,c=!1):(l=n,n=r),d++;while(50>d&&Math.round((l-r)/a)>1);return c&&e?null:n},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new i.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var o=this._getTopLeftPoint(t,e);return new i.Bounds(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===o?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var a=this.options.crs;return e=e===o?this._zoom:e,a.scale(t)/a.scale(e)},getScaleZoom:function(t,e){return e=e===o?this._zoom:e,e+Math.log(t)/Math.LN2},project:function(t,e){return e=e===o?this._zoom:e,this.options.crs.latLngToPoint(i.latLng(t),e)},unproject:function(t,e){return e=e===o?this._zoom:e,this.options.crs.pointToLatLng(i.point(t),e)},layerPointToLatLng:function(t){var e=i.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(i.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(i.latLng(t))},distance:function(t,e){return this.options.crs.distance(i.latLng(t),i.latLng(e))},containerPointToLayerPoint:function(t){return i.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return i.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(i.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(t)))},mouseEventToContainerPoint:function(t){return i.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=i.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");i.DomEvent.addListener(e,"scroll",this._onScroll,this),e._leaflet=!0},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&i.Browser.any3d,i.DomUtil.addClass(t,"leaflet-container"+(i.Browser.touch?" leaflet-touch":"")+(i.Browser.retina?" leaflet-retina":"")+(i.Browser.ielt9?" leaflet-oldie":"")+(i.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=i.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),i.DomUtil.setPosition(this._mapPane,new i.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(i.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),i.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"));
},_resetView:function(t,e){i.DomUtil.setPosition(this._mapPane,new i.Point(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e);var a=this._zoom!==e;this._moveStart(a)._move(t,e)._moveEnd(a),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,a){e===o&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i&&this.fire("zoom",a),this.fire("move",a)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_rawPanBy:function(t){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(i.DomEvent){this._targets={},this._targets[i.stamp(this._container)]=this;var o=e?"off":"on";i.DomEvent[o](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&i.DomEvent[o](t,"resize",this._onResize,this)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=i.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_findEventTargets:function(t,e,o){for(var a,n=[];t&&(a=this._targets[i.stamp(t)],!a||!a.listens(e,!0)||(n.push(a),o))&&t!==this._container;)t=t.parentNode;return n},_handleDOMEvent:function(t){if(this._loaded&&!i.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;if("click"===t.type){var o=i.Util.extend({},t);o.type="preclick",this._handleDOMEvent(o)}"mousedown"===e&&i.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,o){"contextmenu"===e&&i.DomEvent.preventDefault(t);var a="mouseover"===e||"mouseout"===e;if(o=(o||[]).concat(this._findEventTargets(t.target||t.srcElement,e,!a)),o.length||(o=[this],!a||i.DomEvent._checkMouse(this._container,t))){var n=o[0];if("click"!==t.type||t._simulated||!this._draggableMoved(n)){var s={originalEvent:t};if("keypress"!==t.type){var r=n instanceof i.Marker;s.containerPoint=r?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=r?n.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var l=0;l<o.length;l++)if(o[l].fire(e,s,!0),s.originalEvent._stopped||o[l].options.nonBubblingEvents&&-1!==i.Util.indexOf(o[l].options.nonBubblingEvents,e))return}}},_draggableMoved:function(t){return t=t.options.draggable?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)||new i.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var a=t&&e!==o?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var o=this.getSize()._divideBy(2);return this.project(t,e)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,o){var a=this._getNewPixelOrigin(o,e);return this.project(t,e)._subtract(a)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,o){if(!o)return t;var a=this.project(t,e),n=this.getSize().divideBy(2),s=new i.Bounds(a.subtract(n),a.add(n)),r=this._getBoundsOffset(s,o,e);return this.unproject(a.add(r),e)},_limitOffset:function(t,e){if(!e)return t;var o=this.getPixelBounds(),a=new i.Bounds(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(a,e))},_getBoundsOffset:function(t,e,o){var a=this.project(e.getNorthWest(),o).subtract(t.min),n=this.project(e.getSouthEast(),o).subtract(t.max),s=this._rebound(a.x,-n.x),r=this._rebound(a.y,-n.y);return new i.Point(s,r)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),o=this.getMaxZoom();return i.Browser.any3d||(t=Math.round(t)),Math.max(e,Math.min(o,t))}}),i.map=function(t,e){return new i.Map(t,e)},i.Layer=i.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i.stamp(t)],this},isPopupOpen:function(){return this._popup.isOpen()},_layerAdd:function(t){var e=t.target;e.hasLayer(this)&&(this._map=e,this._zoomAnimated=e._zoomAnimated,this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.getEvents&&e.on(this.getEvents(),this),this.fire("add"),e.fire("layeradd",{layer:this}))}}),i.Map.include({addLayer:function(t){var e=i.stamp(t);return this._layers[e]?t:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),t.getEvents&&this.off(t.getEvents(),t),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i.stamp(t)in this._layers},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},_addLayers:function(t){t=t?i.Util.isArray(t)?t:[t]:[];for(var e=0,o=t.length;o>e;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[i.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),a=this._getZoomSpan();for(var i in this._zoomBoundLayers){var n=this._zoomBoundLayers[i].options;t=n.minZoom===o?t:Math.min(t,n.minZoom),e=n.maxZoom===o?e:Math.max(e,n.maxZoom)}this._layersMaxZoom=e===-(1/0)?o:e,this._layersMinZoom=t===1/0?o:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),i.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:i.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,o=this.R,a=t.lat*e,n=this.R_MINOR/o,s=Math.sqrt(1-n*n),r=s*Math.sin(a),l=Math.tan(Math.PI/4-a/2)/Math.pow((1-r)/(1+r),s/2);return a=-o*Math.log(Math.max(l,1e-10)),new i.Point(t.lng*e*o,a)},unproject:function(t){for(var e,o=180/Math.PI,a=this.R,n=this.R_MINOR/a,s=Math.sqrt(1-n*n),r=Math.exp(-t.y/a),l=Math.PI/2-2*Math.atan(r),p=0,h=.1;15>p&&Math.abs(h)>1e-7;p++)e=s*Math.sin(l),e=Math.pow((1-e)/(1+e),s/2),h=Math.PI/2-2*Math.atan(r*e)-l,l+=h;return new i.LatLng(l*o,t.x*o/a)}},i.CRS.EPSG3395=i.extend({},i.CRS.Earth,{code:"EPSG:3395",projection:i.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*i.Projection.Mercator.R);return new i.Transformation(t,.5,-t,.5)}()}),i.GridLayer=i.Layer.extend({options:{pane:"tilePane",tileSize:256,opacity:1,updateWhenIdle:i.Browser.mobile,updateInterval:200,attribution:null,zIndex:null,bounds:null,minZoom:0},initialize:function(t){t=i.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){i.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(i.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(i.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewreset:this._resetAll,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return e.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof i.Point?t:new i.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==o&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,o=this.getPane().children,a=-t(-(1/0),1/0),i=0,n=o.length;n>i;i++)e=o[i].style.zIndex,o[i]!==this._container&&e&&(a=t(a,+e));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map){var t=this.options.opacity;if(!i.Browser.ielt9&&!this._map._fadeAnimated)return void i.DomUtil.setOpacity(this._container,t);var e=+new Date,o=!1,a=!1;for(var n in this._tiles){var s=this._tiles[n];if(s.current&&s.loaded){var r=Math.min(1,(e-s.loaded)/200);1>r?(i.DomUtil.setOpacity(s.el,t*r),o=!0):(i.DomUtil.setOpacity(s.el,t),s.active&&(a=!0),s.active=!0)}}a&&this._pruneTiles(),o&&(i.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=i.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=i.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;for(var o in this._levels)this._levels[o].el.children.length||o===t?this._levels[o].el.style.zIndex=e-Math.abs(t-o):(i.DomUtil.remove(this._levels[o].el),delete this._levels[o]);var a=this._levels[t],n=this._map;return a||(a=this._levels[t]={},a.el=i.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=n.project(n.unproject(n.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,n.getCenter(),n.getZoom()),i.Util.falseFn(a.el.offsetWidth)),this._level=a,a},_pruneTiles:function(){var t,e,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom)return this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_resetAll:function(){for(var t in this._levels)i.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null,this._resetView()},_retainParent:function(t,e,o,a){var i=Math.floor(t/2),n=Math.floor(e/2),s=o-1,r=i+":"+n+":"+s,l=this._tiles[r];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>a?this._retainParent(i,n,s,a):!1)},_retainChildren:function(t,e,o,a){for(var i=2*t;2*t+2>i;i++)for(var n=2*e;2*e+2>n;n++){var s=i+":"+n+":"+(o+1),r=this._tiles[s];r&&r.active?r.retain=!0:(r&&r.loaded&&(r.retain=!0),a>o+1&&this._retainChildren(i,n,o+1,a))}},_resetView:function(t){var e=t&&t.pinch;this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,o,a){var n=Math.round(e),s=this._tileZoom!==n;!a&&s&&(this._abortLoading&&this._abortLoading(),this._tileZoom=n,this._updateLevels(),this._resetGrid(),i.Browser.mobileWebkit||this._update(t,n),o||this._pruneTiles()),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,e)},_setZoomTransform:function(t,e,o){var a=this._map.getZoomScale(o,t.zoom),n=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e,o)).round();i.Browser.any3d?i.DomUtil.setTransform(t.el,n,a):i.DomUtil.setPosition(t.el,n)},_resetGrid:function(){var t=this._map,e=t.options.crs,o=this._tileSize=this.getTileSize(),a=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&[Math.floor(t.project([0,e.wrapLng[0]],a).x/o.x),Math.ceil(t.project([0,e.wrapLng[1]],a).x/o.y)],this._wrapY=e.wrapLat&&[Math.floor(t.project([e.wrapLat[0],0],a).y/o.x),Math.ceil(t.project([e.wrapLat[1],0],a).y/o.y)]},_onMoveEnd:function(){this._map&&(this._update(),this._pruneTiles())},_getTiledPixelBounds:function(t,e,o){var a=this._map,n=a.getZoomScale(e,o),s=a.project(t,o).floor(),r=a.getSize().divideBy(2*n);return new i.Bounds(s.subtract(r),s.add(r))},_update:function(t,a){var n=this._map;if(n){t===o&&(t=n.getCenter()),a===o&&(a=n.getZoom());var s=Math.round(a);if(!(s>this.options.maxZoom||s<this.options.minZoom)){var r=this._getTiledPixelBounds(t,a,s),l=this._pxBoundsToTileRange(r),p=l.getCenter(),h=[];for(var u in this._tiles)this._tiles[u].current=!1;for(var c=l.min.y;c<=l.max.y;c++)for(var d=l.min.x;d<=l.max.x;d++){var g=new i.Point(d,c);if(g.z=s,this._isValidTile(g)){var m=this._tiles[this._tileCoordsToKey(g)];m?m.current=!0:h.push(g)}}if(h.sort(function(t,e){return t.distanceTo(p)-e.distanceTo(p)}),0!==h.length){this._loading||(this._loading=!0,this.fire("loading"));var f=e.createDocumentFragment();for(d=0;d<h.length;d++)this._addTile(h[d],f);this._level.el.appendChild(f)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var o=this._globalTileRange;if(!e.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!e.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return i.latLngBounds(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,o=this.getTileSize(),a=t.scaleBy(o),n=a.add(o),s=e.wrapLatLng(e.unproject(a,t.z)),r=e.wrapLatLng(e.unproject(n,t.z));return new i.LatLngBounds(s,r)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),o=new i.Point(+e[0],+e[1]);return o.z=+e[2],o},_removeTile:function(t){var e=this._tiles[t];e&&(i.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){i.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=i.Util.falseFn,t.onmousemove=i.Util.falseFn,i.Browser.ielt9&&this.options.opacity<1&&i.DomUtil.setOpacity(t,this.options.opacity),i.Browser.android&&!i.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var o=this._getTilePos(t),a=this._tileCoordsToKey(t),n=this.createTile(this._wrapCoords(t),i.bind(this._tileReady,this,t));this._initTile(n),this.createTile.length<2&&setTimeout(i.bind(this._tileReady,this,t,null,n),0),i.DomUtil.setPosition(n,o),this._tiles[a]={el:n,coords:t,current:!0},e.appendChild(n),this.fire("tileloadstart",{tile:n,coords:t})},_tileReady:function(t,e,o){if(this._map){e&&this.fire("tileerror",{error:e,tile:o,coords:t});var a=this._tileCoordsToKey(t);o=this._tiles[a],o&&(o.loaded=+new Date,this._map._fadeAnimated?(i.DomUtil.setOpacity(o.el,0),i.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=i.Util.requestAnimFrame(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i.DomUtil.addClass(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load")))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new i.Point(this._wrapX?i.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?i.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new i.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),i.gridLayer=function(t){return new i.GridLayer(t)},i.TileLayer=i.GridLayer.extend({options:{maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,maxNativeZoom:null,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=i.setOptions(this,e),e.detectRetina&&i.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom=Math.max(0,e.minZoom),e.maxZoom--),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),i.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,o){var a=e.createElement("img");return a.onload=i.bind(this._tileOnLoad,this,o,a),a.onerror=i.bind(this._tileOnError,this,o,a),this.options.crossOrigin&&(a.crossOrigin=""),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){return i.Util.template(this._url,i.extend({r:this.options.detectRetina&&i.Browser.retina&&this.options.maxZoom>0?"@2x":"",s:this._getSubdomain(t),x:t.x,y:this.options.tms?this._globalTileRange.max.y-t.y:t.y,z:this._getZoomForUrl()},this.options))},_tileOnLoad:function(t,e){i.Browser.ielt9?setTimeout(i.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,o){var a=this.options.errorTileUrl;a&&(e.src=a),t(o,e)},getTileSize:function(){var t=this._map,e=i.GridLayer.prototype.getTileSize.call(this),o=this._tileZoom+this.options.zoomOffset,a=this.options.maxNativeZoom;return null!==a&&o>a?e.divideBy(t.getZoomScale(a,o)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)e=this._tiles[t].el,e.onload=i.Util.falseFn,e.onerror=i.Util.falseFn,e.complete||(e.src=i.Util.emptyImageUrl,i.DomUtil.remove(e))}}),i.tileLayer=function(t,e){return new i.TileLayer(t,e)},i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var o=i.extend({},this.defaultWmsParams);for(var a in e)a in this.options||(o[a]=e[a]);e=i.setOptions(this,e),o.width=o.height=e.tileSize*(e.detectRetina&&i.Browser.retina?2:1),this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,i.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),o=this._crs.project(e.getNorthWest()),a=this._crs.project(e.getSouthEast()),n=(this._wmsVersion>=1.3&&this._crs===i.CRS.EPSG4326?[a.y,o.x,o.y,a.x]:[o.x,a.y,a.x,o.y]).join(","),s=i.TileLayer.prototype.getTileUrl.call(this,t);return s+i.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+n},setParams:function(t,e){return i.extend(this.wmsParams,t),e||this.redraw(),this}}),i.tileLayer.wms=function(t,e){return new i.TileLayer.WMS(t,e)},i.ImageOverlay=i.Layer.extend({options:{opacity:1,alt:"",interactive:!1},initialize:function(t,e,o){this._url=t,this._bounds=i.latLngBounds(e),i.setOptions(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(i.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){i.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&i.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&i.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=i.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=i.Util.falseFn,t.onmousemove=i.Util.falseFn,t.onload=i.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),o=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);i.DomUtil.setTransform(this._image,o,e)},_reset:function(){var t=this._image,e=new i.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=e.getSize();i.DomUtil.setPosition(t,e.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}}),i.imageOverlay=function(t,e,o){return new i.ImageOverlay(t,e,o)},i.Icon=i.Class.extend({initialize:function(t){i.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var o=this._getIconUrl(t);if(!o){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(o,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(a,t),a},_setIconStyles:function(t,e){var o=this.options,a=i.point(o[e+"Size"]),n=i.point("shadow"===e&&o.shadowAnchor||o.iconAnchor||a&&a.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(o.className||""),n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),a&&(t.style.width=a.x+"px",t.style.height=a.y+"px")},_createImg:function(t,o){return o=o||e.createElement("img"),o.src=t,o},_getIconUrl:function(t){return i.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),i.icon=function(t){return new i.Icon(t)},i.Icon.Default=i.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];var o=i.Icon.Default.imagePath;if(!o)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return o+"/marker-"+t+(i.Browser.retina&&"icon"===t?"-2x":"")+".png"}}),i.Icon.Default.imagePath=function(){var t,o,a,i,n=e.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,o=n.length;o>t;t++)if(a=n[t].src,a.match(s))return i=a.split(s)[0],(i?i+"/":"")+"images"}(),i.Marker=i.Layer.extend({options:{pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"],icon:new i.Icon.Default,interactive:!0,keyboard:!0,zIndexOffset:0,opacity:1,riseOffset:250},initialize:function(t,e){i.setOptions(this,e),this._latlng=i.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._initIcon(),this.update()},onRemove:function(){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._removeIcon(),this._removeShadow()},getEvents:function(){var t={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=i.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),a=!1;o!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(o.title=t.title),t.alt&&(o.alt=t.alt)),i.DomUtil.addClass(o,e),t.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var n=t.icon.createShadow(this._shadow),s=!1;n!==this._shadow&&(this._removeShadow(),s=!0),n&&i.DomUtil.addClass(n,e),this._shadow=n,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),n&&s&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),i.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&i.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){i.DomUtil.setPosition(this._icon,t),this._shadow&&i.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(i.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),i.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new i.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;i.DomUtil.setOpacity(this._icon,t),this._shadow&&i.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),i.marker=function(t,e){return new i.Marker(t,e)},i.DivIcon=i.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var o=t&&"DIV"===t.tagName?t:e.createElement("div"),a=this.options;return o.innerHTML=a.html!==!1?a.html:"",a.bgPos&&(o.style.backgroundPosition=-a.bgPos.x+"px "+-a.bgPos.y+"px"),this._setIconStyles(o,"icon"),o},createShadow:function(){return null}}),i.divIcon=function(t){return new i.DivIcon(t)},i.Map.mergeOptions({closePopupOnClick:!0}),i.Popup=i.Layer.extend({options:{pane:"popupPane",minWidth:50,maxWidth:300,offset:[0,7],autoPan:!0,autoPanPadding:[5,5],closeButton:!0,autoClose:!0,zoomAnimation:!0},initialize:function(t,e){i.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),t._fadeAnimated&&i.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&i.DomUtil.setOpacity(this._container,1),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this},!0)},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._fadeAnimated?(i.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(i.bind(i.DomUtil.remove,i.DomUtil,this._container),200)):i.DomUtil.remove(this._container),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this},!0)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=i.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=i.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"));if(this.options.closeButton){var o=this._closeButton=i.DomUtil.create("a",t+"-close-button",e);o.href="#close",o.innerHTML="&#215;",i.DomEvent.on(o,"click",this._onCloseButtonClick,this)}var a=this._wrapper=i.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=i.DomUtil.create("div",t+"-content",a),i.DomEvent.disableClickPropagation(a).disableScrollPropagation(this._contentNode).on(a,"contextmenu",i.DomEvent.stopPropagation),this._tipContainer=i.DomUtil.create("div",t+"-tip-container",e),this._tip=i.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),e.width=o+1+"px",e.whiteSpace="",e.height="";var a=t.offsetHeight,n=this.options.maxHeight,s="leaflet-popup-scrolled";n&&a>n?(e.height=n+"px",i.DomUtil.addClass(t,s)):i.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=i.point(this.options.offset);this._zoomAnimated?i.DomUtil.setPosition(this._container,t):e=e.add(t);var o=this._containerBottom=-e.y,a=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=a+"px"}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);i.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,o=this._containerWidth,a=new i.Point(this._containerLeft,-e-this._containerBottom);
this._zoomAnimated&&a._add(i.DomUtil.getPosition(this._container));var n=t.layerPointToContainerPoint(a),s=i.point(this.options.autoPanPadding),r=i.point(this.options.autoPanPaddingTopLeft||s),l=i.point(this.options.autoPanPaddingBottomRight||s),p=t.getSize(),h=0,u=0;n.x+o+l.x>p.x&&(h=n.x+o-p.x+l.x),n.x-h-r.x<0&&(h=n.x-r.x),n.y+e+l.y>p.y&&(u=n.y+e-p.y+l.y),n.y-u-r.y<0&&(u=n.y-r.y),(h||u)&&t.fire("autopanstart").panBy([h,u])}},_onCloseButtonClick:function(t){this._close(),i.DomEvent.stop(t)}}),i.popup=function(t,e){return new i.Popup(t,e)},i.Map.include({openPopup:function(t,e,o){return t instanceof i.Popup||(t=new i.Popup(o).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),i.Layer.include({bindPopup:function(t,e){return t instanceof i.Popup?(i.setOptions(t,e),this._popup=t,t._source=this):((!this._popup||e)&&(this._popup=new i.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this._originalPopupOffset=this._popup.options.offset,this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof i.Layer||(e=t,t=this),t instanceof i.FeatureGroup)for(var o in this._layers){t=this._layers[o];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup.options.offset=this._popupAnchor(t),this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;return this._popup&&this._map?e instanceof i.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)):void 0},_popupAnchor:function(t){var e=t._getPopupAnchor?t._getPopupAnchor():[0,0],o=this._originalPopupOffset||i.Popup.prototype.options.offset;return i.point(e).add(o)},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),i.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),i.LayerGroup=i.Layer.extend({initialize:function(t){this._layers={};var e,o;if(t)for(e=0,o=t.length;o>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,o,a=Array.prototype.slice.call(arguments,1);for(e in this._layers)o=this._layers[e],o[t]&&o[t].apply(o,a);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i.stamp(t)}}),i.layerGroup=function(t){return new i.LayerGroup(t)},i.FeatureGroup=i.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),i.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),i.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new i.LatLngBounds;for(var e in this._layers){var o=this._layers[e];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),i.featureGroup=function(t){return new i.FeatureGroup(t)},i.Renderer=i.Layer.extend({options:{padding:.1},initialize:function(t){i.setOptions(this,t),i.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&i.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){i.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._updateTransform,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom,this._zoom),o=this._map._latLngToNewLayerPoint(this._topLeft,t.zoom,t.center);i.DomUtil.setTransform(this._container,o,e)},_updateTransform:function(){var t=this._map.getZoom(),e=this._map.getCenter(),o=this._map.getZoomScale(t,this._zoom),a=this._map._latLngToNewLayerPoint(this._topLeft,t,e);i.DomUtil.setTransform(this._container,a,o)},_reset:function(){this._update(),this._updateTransform()},_update:function(){var t=this.options.padding,e=this._map.getSize(),o=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new i.Bounds(o,o.add(e.multiplyBy(1+2*t)).round()),this._topLeft=this._map.layerPointToLatLng(o),this._zoom=this._map.getZoom()}}),i.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&i.canvas()||i.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===o)return!1;var e=this._paneRenderers[t];return e===o&&(e=i.SVG&&i.svg({pane:t})||i.Canvas&&i.canvas({pane:t}),this._paneRenderers[t]=e),e}}),i.Path=i.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",fillOpacity:.2,fillRule:"evenodd",interactive:!0},onAdd:function(){this._renderer=this._map.getRenderer(this),this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return i.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(i.Browser.touch?10:0)}}),i.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var o=e*e;return t=this._reducePoints(t,o),t=this._simplifyDP(t,o)},pointToSegmentDistance:function(t,e,o){return Math.sqrt(this._sqClosestPointOnSegment(t,e,o,!0))},closestPointOnSegment:function(t,e,o){return this._sqClosestPointOnSegment(t,e,o)},_simplifyDP:function(t,e){var a=t.length,i=typeof Uint8Array!=o+""?Uint8Array:Array,n=new i(a);n[0]=n[a-1]=1,this._simplifyDPStep(t,n,e,0,a-1);var s,r=[];for(s=0;a>s;s++)n[s]&&r.push(t[s]);return r},_simplifyDPStep:function(t,e,o,a,i){var n,s,r,l=0;for(s=a+1;i-1>=s;s++)r=this._sqClosestPointOnSegment(t[s],t[a],t[i],!0),r>l&&(n=s,l=r);l>o&&(e[n]=1,this._simplifyDPStep(t,e,o,a,n),this._simplifyDPStep(t,e,o,n,i))},_reducePoints:function(t,e){for(var o=[t[0]],a=1,i=0,n=t.length;n>a;a++)this._sqDist(t[a],t[i])>e&&(o.push(t[a]),i=a);return n-1>i&&o.push(t[n-1]),o},clipSegment:function(t,e,o,a,i){var n,s,r,l=a?this._lastCode:this._getBitCode(t,o),p=this._getBitCode(e,o);for(this._lastCode=p;;){if(!(l|p))return[t,e];if(l&p)return!1;n=l||p,s=this._getEdgeIntersection(t,e,n,o,i),r=this._getBitCode(s,o),n===l?(t=s,l=r):(e=s,p=r)}},_getEdgeIntersection:function(t,e,o,a,n){var s,r,l=e.x-t.x,p=e.y-t.y,h=a.min,u=a.max;return 8&o?(s=t.x+l*(u.y-t.y)/p,r=u.y):4&o?(s=t.x+l*(h.y-t.y)/p,r=h.y):2&o?(s=u.x,r=t.y+p*(u.x-t.x)/l):1&o&&(s=h.x,r=t.y+p*(h.x-t.x)/l),new i.Point(s,r,n)},_getBitCode:function(t,e){var o=0;return t.x<e.min.x?o|=1:t.x>e.max.x&&(o|=2),t.y<e.min.y?o|=4:t.y>e.max.y&&(o|=8),o},_sqDist:function(t,e){var o=e.x-t.x,a=e.y-t.y;return o*o+a*a},_sqClosestPointOnSegment:function(t,e,o,a){var n,s=e.x,r=e.y,l=o.x-s,p=o.y-r,h=l*l+p*p;return h>0&&(n=((t.x-s)*l+(t.y-r)*p)/h,n>1?(s=o.x,r=o.y):n>0&&(s+=l*n,r+=p*n)),l=t.x-s,p=t.y-r,a?l*l+p*p:new i.Point(s,r)}},i.Polyline=i.Path.extend({options:{smoothFactor:1},initialize:function(t,e){i.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,o,a=1/0,n=null,s=i.LineUtil._sqClosestPointOnSegment,r=0,l=this._parts.length;l>r;r++)for(var p=this._parts[r],h=1,u=p.length;u>h;h++){e=p[h-1],o=p[h];var c=s(t,e,o,!0);a>c&&(a=c,n=s(t,e,o))}return n&&(n.distance=Math.sqrt(a)),n},getCenter:function(){var t,e,o,a,i,n,s,r=this._rings[0],l=r.length;if(!l)return null;for(t=0,e=0;l-1>t;t++)e+=r[t].distanceTo(r[t+1])/2;if(0===e)return this._map.layerPointToLatLng(r[0]);for(t=0,a=0;l-1>t;t++)if(i=r[t],n=r[t+1],o=i.distanceTo(n),a+=o,a>e)return s=(a-e)/o,this._map.layerPointToLatLng([n.x-s*(n.x-i.x),n.y-s*(n.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=i.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new i.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return i.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],o=i.Polyline._flat(t),a=0,n=t.length;n>a;a++)o?(e[a]=i.latLng(t[a]),this._bounds.extend(e[a])):e[a]=this._convertLatLngs(t[a]);return e},_project:function(){this._rings=[],this._projectLatlngs(this._latlngs,this._rings);var t=this._clickTolerance(),e=new i.Point(t,-t);this._bounds.isValid()&&(this._pxBounds=new i.Bounds(this._map.latLngToLayerPoint(this._bounds.getSouthWest())._subtract(e),this._map.latLngToLayerPoint(this._bounds.getNorthEast())._add(e)))},_projectLatlngs:function(t,e){var o,a,n=t[0]instanceof i.LatLng,s=t.length;if(n){for(a=[],o=0;s>o;o++)a[o]=this._map.latLngToLayerPoint(t[o]);e.push(a)}else for(o=0;s>o;o++)this._projectLatlngs(t[o],e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,o,a,n,s,r,l,p=this._parts;for(e=0,a=0,n=this._rings.length;n>e;e++)for(l=this._rings[e],o=0,s=l.length;s-1>o;o++)r=i.LineUtil.clipSegment(l[o],l[o+1],t,o,!0),r&&(p[a]=p[a]||[],p[a].push(r[0]),(r[1]!==l[o+1]||o===s-2)&&(p[a].push(r[1]),a++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,o=0,a=t.length;a>o;o++)t[o]=i.LineUtil.simplify(t[o],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),i.polyline=function(t,e){return new i.Polyline(t,e)},i.Polyline._flat=function(t){return!i.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},i.PolyUtil={},i.PolyUtil.clipPolygon=function(t,e,o){var a,n,s,r,l,p,h,u,c,d=[1,4,2,8],g=i.LineUtil;for(n=0,h=t.length;h>n;n++)t[n]._code=g._getBitCode(t[n],e);for(r=0;4>r;r++){for(u=d[r],a=[],n=0,h=t.length,s=h-1;h>n;s=n++)l=t[n],p=t[s],l._code&u?p._code&u||(c=g._getEdgeIntersection(p,l,u,e,o),c._code=g._getBitCode(c,e),a.push(c)):(p._code&u&&(c=g._getEdgeIntersection(p,l,u,e,o),c._code=g._getBitCode(c,e),a.push(c)),a.push(l));t=a}return t},i.Polygon=i.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){var t,e,o,a,i,n,s,r,l,p=this._rings[0],h=p.length;if(!h)return null;for(n=s=r=0,t=0,e=h-1;h>t;e=t++)o=p[t],a=p[e],i=o.y*a.x-a.y*o.x,s+=(o.x+a.x)*i,r+=(o.y+a.y)*i,n+=3*i;return l=0===n?p[0]:[s/n,r/n],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=i.Polyline.prototype._convertLatLngs.call(this,t),o=e.length;return o>=2&&e[0]instanceof i.LatLng&&e[0].equals(e[o-1])&&e.pop(),e},_setLatLngs:function(t){i.Polyline.prototype._setLatLngs.call(this,t),i.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return i.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,o=new i.Point(e,e);if(t=new i.Bounds(t.min.subtract(o),t.max.add(o)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var a,n=0,s=this._rings.length;s>n;n++)a=i.PolyUtil.clipPolygon(this._rings[n],t,!0),a.length&&this._parts.push(a)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),i.polygon=function(t,e){return new i.Polygon(t,e)},i.Rectangle=i.Polygon.extend({initialize:function(t,e){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=i.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),i.rectangle=function(t,e){return new i.Rectangle(t,e)},i.CircleMarker=i.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){i.setOptions(this,e),this._latlng=i.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=i.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return i.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,o=this._clickTolerance(),a=[t+o,e+o];this._pxBounds=new i.Bounds(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),i.circleMarker=function(t,e){return new i.CircleMarker(t,e)},i.Circle=i.CircleMarker.extend({initialize:function(t,e,o){i.setOptions(this,o),this._latlng=i.latLng(t),this._mRadius=e},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY];return new i.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:i.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,o=this._map,a=o.options.crs;if(a.distance===i.CRS.Earth.distance){var n=Math.PI/180,s=this._mRadius/i.CRS.Earth.R/n,r=o.project([e+s,t]),l=o.project([e-s,t]),p=r.add(l).divideBy(2),h=o.unproject(p).lat,u=Math.acos((Math.cos(s*n)-Math.sin(e*n)*Math.sin(h*n))/(Math.cos(e*n)*Math.cos(h*n)))/n;this._point=p.subtract(o.getPixelOrigin()),this._radius=isNaN(u)?0:Math.max(Math.round(p.x-o.project([h,t-u]).x),1),this._radiusY=Math.max(Math.round(p.y-r.y),1)}else{var c=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(c).x}this._updateBounds()}}),i.circle=function(t,e,o){return new i.Circle(t,e,o)},i.SVG=i.Renderer.extend({_initContainer:function(){this._container=i.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=i.SVG.create("g"),this._container.appendChild(this._rootGroup)},_update:function(){if(!this._map._animatingZoom||!this._bounds){i.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),o=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,o.setAttribute("width",e.x),o.setAttribute("height",e.y)),i.DomUtil.setPosition(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "))}},_initPath:function(t){var e=t._path=i.SVG.create("path");t.options.className&&i.DomUtil.addClass(e,t.options.className),t.options.interactive&&i.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){i.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,o=t.options;e&&(o.stroke?(e.setAttribute("stroke",o.color),e.setAttribute("stroke-opacity",o.opacity),e.setAttribute("stroke-width",o.weight),e.setAttribute("stroke-linecap",o.lineCap),e.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?e.setAttribute("stroke-dasharray",o.dashArray):e.removeAttribute("stroke-dasharray"),o.dashOffset?e.setAttribute("stroke-dashoffset",o.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),o.fill?(e.setAttribute("fill",o.fillColor||o.color),e.setAttribute("fill-opacity",o.fillOpacity),e.setAttribute("fill-rule",o.fillRule||"evenodd")):e.setAttribute("fill","none"),e.setAttribute("pointer-events",o.pointerEvents||(o.interactive?"visiblePainted":"none")))},_updatePoly:function(t,e){this._setPath(t,i.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,o=t._radius,a=t._radiusY||o,i="a"+o+","+a+" 0 1,0 ",n=t._empty()?"M0 0":"M"+(e.x-o)+","+e.y+i+2*o+",0 "+i+2*-o+",0 ";this._setPath(t,n)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){i.DomUtil.toFront(t._path)},_bringToBack:function(t){i.DomUtil.toBack(t._path)}}),i.extend(i.SVG,{create:function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var o,a,n,s,r,l,p="";for(o=0,n=t.length;n>o;o++){for(r=t[o],a=0,s=r.length;s>a;a++)l=r[a],p+=(a?"L":"M")+l.x+" "+l.y;p+=e?i.Browser.svg?"z":"x":""}return p||"M0 0"}}),i.Browser.svg=!(!e.createElementNS||!i.SVG.create("svg").createSVGRect),i.svg=function(t){return i.Browser.svg||i.Browser.vml?new i.SVG(t):null},i.Browser.vml=!i.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&"object"==typeof o.adj}catch(a){return!1}}(),i.SVG.include(i.Browser.vml?{_initContainer:function(){this._container=i.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||i.Renderer.prototype._update.call(this)},_initPath:function(t){var e=t._container=i.SVG.create("shape");i.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=i.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;i.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,o=t._fill,a=t.options,n=t._container;n.stroked=!!a.stroke,n.filled=!!a.fill,a.stroke?(e||(e=t._stroke=i.SVG.create("stroke"),n.appendChild(e)),e.weight=a.weight+"px",e.color=a.color,e.opacity=a.opacity,a.dashArray?e.dashStyle=i.Util.isArray(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=a.lineCap.replace("butt","flat"),e.joinstyle=a.lineJoin):e&&(n.removeChild(e),t._stroke=null),a.fill?(o||(o=t._fill=i.SVG.create("fill"),n.appendChild(o)),o.color=a.fillColor||a.color,o.opacity=a.fillOpacity):o&&(n.removeChild(o),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),o=Math.round(t._radius),a=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+o+","+a+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){i.DomUtil.toFront(t._container)},_bringToBack:function(t){i.DomUtil.toBack(t._container)}}:{}),i.Browser.vml&&(i.SVG.create=function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),i.Canvas=i.Renderer.extend({onAdd:function(){i.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=e.createElement("canvas");i.DomEvent.on(t,"mousemove",this._onMouseMove,this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){i.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,o=t.getSize(),a=i.Browser.retina?2:1;i.DomUtil.setPosition(e,t.min),e.width=a*o.x,e.height=a*o.y,e.style.width=o.x+"px",e.style.height=o.y+"px",i.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y)}},_initPath:function(t){this._layers[i.stamp(t)]=t},_addPath:i.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._requestRedraw(t)},_requestRedraw:function(t){this._map&&(this._redrawBounds=this._redrawBounds||new i.Bounds,this._redrawBounds.extend(t._pxBounds.min).extend(t._pxBounds.max),this._redrawRequest=this._redrawRequest||i.Util.requestAnimFrame(this._redraw,this))},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e;for(var o in this._layers)e=this._layers[o],(!this._redrawBounds||e._pxBounds.intersects(this._redrawBounds))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[o])},_updatePoly:function(t,e){var o,a,i,n,s=t._parts,r=s.length,l=this._ctx;if(r){for(l.beginPath(),o=0;r>o;o++){for(a=0,i=s[o].length;i>a;a++)n=s[o][a],l[a?"lineTo":"moveTo"](n.x,n.y);e&&l.closePath()}this._fillStroke(l,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,o=this._ctx,a=t._radius,i=(t._radiusY||a)/a;1!==i&&(o.save(),o.scale(1,i)),o.beginPath(),o.arc(e.x,e.y/i,a,0,2*Math.PI,!1),1!==i&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,e){var o=this._clear,a=e.options;t.globalCompositeOperation=o?"destination-out":"source-over",a.fill&&(t.globalAlpha=o?1:a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&0!==a.weight&&(t.globalAlpha=o?1:a.opacity,e._prevWeight=t.lineWidth=o?e._prevWeight+1:a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){var e=this._map.mouseEventToLayerPoint(t);for(var o in this._layers)this._layers[o]._containsPoint(e)&&(i.DomEvent._fakeStop(t),this._fireEvent(this._layers[o],t))},_onMouseMove:function(t){if(this._map&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var o=this._hoveredLayer;!o||"mouseout"!==t.type&&o._containsPoint(e)||(i.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent(o,t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var o,a;if(!this._hoveredLayer)for(o in this._layers)if(a=this._layers[o],a.options.interactive&&a._containsPoint(e)){i.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent(a,t,"mouseover"),this._hoveredLayer=a;break}this._hoveredLayer&&this._fireEvent(this._hoveredLayer,t)},_fireEvent:function(t,e,o){this._map._fireDOMEvent(e,o||e.type,[t])},_bringToFront:i.Util.falseFn,_bringToBack:i.Util.falseFn}),i.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),i.canvas=function(t){return i.Browser.canvas?new i.Canvas(t):null},i.Polyline.prototype._containsPoint=function(t,e){var o,a,n,s,r,l,p=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;s>o;o++)for(l=this._parts[o],a=0,r=l.length,n=r-1;r>a;n=a++)if((e||0!==a)&&i.LineUtil.pointToSegmentDistance(t,l[n],l[a])<=p)return!0;return!1},i.Polygon.prototype._containsPoint=function(t){var e,o,a,n,s,r,l,p,h=!1;if(!this._pxBounds.contains(t))return!1;for(n=0,l=this._parts.length;l>n;n++)for(e=this._parts[n],s=0,p=e.length,r=p-1;p>s;r=s++)o=e[s],a=e[r],o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(h=!h);return h||i.Polyline.prototype._containsPoint.call(this,t,!0)},i.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},i.GeoJSON=i.FeatureGroup.extend({initialize:function(t,e){i.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,o,a,n=i.Util.isArray(t)?t:t.features;if(n){for(e=0,o=n.length;o>e;e++)a=n[e],(a.geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var s=this.options;if(s.filter&&!s.filter(t))return this;var r=i.GeoJSON.geometryToLayer(t,s);return r?(r.feature=i.GeoJSON.asFeature(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return t.options=t.defaultOptions,this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),i.extend(i.GeoJSON,{geometryToLayer:function(t,e){var o,a,n,s,r="Feature"===t.type?t.geometry:t,l=r?r.coordinates:null,p=[],h=e&&e.pointToLayer,u=e&&e.coordsToLatLng||this.coordsToLatLng;if(!l&&!r)return null;switch(r.type){case"Point":return o=u(l),h?h(t,o):new i.Marker(o);case"MultiPoint":for(n=0,s=l.length;s>n;n++)o=u(l[n]),p.push(h?h(t,o):new i.Marker(o));return new i.FeatureGroup(p);case"LineString":case"MultiLineString":return a=this.coordsToLatLngs(l,"LineString"===r.type?0:1,u),new i.Polyline(a,e);case"Polygon":case"MultiPolygon":return a=this.coordsToLatLngs(l,"Polygon"===r.type?1:2,u),new i.Polygon(a,e);case"GeometryCollection":for(n=0,s=r.geometries.length;s>n;n++){var c=this.geometryToLayer({geometry:r.geometries[n],type:"Feature",properties:t.properties},e);c&&p.push(c)}return new i.FeatureGroup(p);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new i.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,o){for(var a,i=[],n=0,s=t.length;s>n;n++)a=e?this.coordsToLatLngs(t[n],e-1,o):(o||this.coordsToLatLng)(t[n]),i.push(a);return i},latLngToCoords:function(t){return t.alt!==o?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,o){for(var a=[],n=0,s=t.length;s>n;n++)a.push(e?i.GeoJSON.latLngsToCoords(t[n],e-1,o):i.GeoJSON.latLngToCoords(t[n]));return!e&&o&&a.push(a[0]),a},getFeature:function(t,e){return t.feature?i.extend({},t.feature,{geometry:e}):i.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return i.GeoJSON.getFeature(this,{type:"Point",coordinates:i.GeoJSON.latLngToCoords(this.getLatLng())})}};i.Marker.include(s),i.Circle.include(s),i.CircleMarker.include(s),i.Polyline.prototype.toGeoJSON=function(){var t=!i.Polyline._flat(this._latlngs),e=i.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return i.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},i.Polygon.prototype.toGeoJSON=function(){var t=!i.Polyline._flat(this._latlngs),e=t&&!i.Polyline._flat(this._latlngs[0]),o=i.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(o=[o]),i.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:o})},i.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),i.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,o=[];return this.eachLayer(function(t){if(t.toGeoJSON){var a=t.toGeoJSON();o.push(e?a.geometry:i.GeoJSON.asFeature(a))}}),e?i.GeoJSON.getFeature(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}}),i.geoJson=function(t,e){return new i.GeoJSON(t,e)};var r="_leaflet_events";i.DomEvent={on:function(t,e,o,a){if("object"==typeof e)for(var n in e)this._on(t,n,e[n],o);else{e=i.Util.splitWords(e);for(var s=0,r=e.length;r>s;s++)this._on(t,e[s],o,a)}return this},off:function(t,e,o,a){if("object"==typeof e)for(var n in e)this._off(t,n,e[n],o);else{e=i.Util.splitWords(e);for(var s=0,r=e.length;r>s;s++)this._off(t,e[s],o,a)}return this},_on:function(e,o,a,n){var s=o+i.stamp(a)+(n?"_"+i.stamp(n):"");if(e[r]&&e[r][s])return this;var l=function(o){return a.call(n||e,o||t.event)},p=l;return i.Browser.pointer&&0===o.indexOf("touch")?this.addPointerListener(e,o,l,s):i.Browser.touch&&"dblclick"===o&&this.addDoubleTapListener?this.addDoubleTapListener(e,l,s):"addEventListener"in e?"mousewheel"===o?(e.addEventListener("DOMMouseScroll",l,!1),e.addEventListener(o,l,!1)):"mouseenter"===o||"mouseleave"===o?(l=function(o){o=o||t.event,i.DomEvent._checkMouse(e,o)&&p(o)},e.addEventListener("mouseenter"===o?"mouseover":"mouseout",l,!1)):("click"===o&&i.Browser.android&&(l=function(t){return i.DomEvent._filterClick(t,p)}),e.addEventListener(o,l,!1)):"attachEvent"in e&&e.attachEvent("on"+o,l),e[r]=e[r]||{},e[r][s]=l,this},_off:function(t,e,o,a){var n=e+i.stamp(o)+(a?"_"+i.stamp(a):""),s=t[r]&&t[r][n];return s?(i.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):i.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r][n]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,i.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return i.DomEvent.on(t,"mousewheel MozMousePixelScroll",i.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=i.DomEvent.stopPropagation;return i.DomEvent.on(t,i.Draggable.START.join(" "),e),i.DomEvent.on(t,{click:i.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return i.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new i.Point(t.clientX,t.clientY);var o=e.getBoundingClientRect();return new i.Point(t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){
i.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var o=e.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch(a){return!1}return o!==t},_filterClick:function(t,e){var o=t.timeStamp||t.originalEvent.timeStamp,a=i.DomEvent._lastClick&&o-i.DomEvent._lastClick;return a&&a>100&&500>a||t.target._simulatedClick&&!t._simulated?void i.DomEvent.stop(t):(i.DomEvent._lastClick=o,void e(t))}},i.DomEvent.addListener=i.DomEvent.on,i.DomEvent.removeListener=i.DomEvent.off,i.Draggable=i.Evented.extend({statics:{START:i.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,o){this._element=t,this._dragStartTarget=e||t,this._preventOutline=o},enable:function(){this._enabled||(i.DomEvent.on(this._dragStartTarget,i.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(i.DomEvent.off(this._dragStartTarget,i.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(i.DomEvent.stopPropagation(t),this._preventOutline&&i.DomUtil.preventOutline(this._element),!i.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&(i.DomUtil.disableImageDrag(),i.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var o=t.touches?t.touches[0]:t;this._startPoint=new i.Point(o.clientX,o.clientY),this._startPos=this._newPos=i.DomUtil.getPosition(this._element),i.DomEvent.on(e,i.Draggable.MOVE[t.type],this._onMove,this).on(e,i.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var o=t.touches&&1===t.touches.length?t.touches[0]:t,a=new i.Point(o.clientX,o.clientY),n=a.subtract(this._startPoint);(n.x||n.y)&&(i.Browser.touch&&Math.abs(n.x)+Math.abs(n.y)<3||(i.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=i.DomUtil.getPosition(this._element).subtract(n),i.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,i.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,i.Util.cancelAnimFrame(this._animRequest),this._lastEvent=t,this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),i.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){i.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(i.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in i.Draggable.MOVE)i.DomEvent.off(e,i.Draggable.MOVE[t],this._onMove,this).off(e,i.Draggable.END[t],this._onUp,this);i.DomUtil.enableImageDrag(),i.DomUtil.enableTextSelection(),this._moved&&this._moving&&(i.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),i.Handler=i.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),i.Map.mergeOptions({dragging:!0,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1}),i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new i.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}i.DomUtil.addClass(this._map._container,"leaflet-grab"),this._draggable.enable()},removeHooks:function(){i.DomUtil.removeClass(this._map._container,"leaflet-grab"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDown:function(){this._map.stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=i.latLngBounds(this._map.options.maxBounds);this._offsetLimit=i.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),o=this._initialWorldOffset,a=this._draggable._newPos.x,i=(a-e+o)%t+e-o,n=(a+e+o)%t-e-o,s=Math.abs(i+o)<Math.abs(n+o)?i:n;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,o=e.options,a=!o.inertia||this._times.length<2;if(e.fire("dragend",t),a)e.fire("moveend");else{var n=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=o.easeLinearity,l=n.multiplyBy(r/s),p=l.distanceTo([0,0]),h=Math.min(o.inertiaMaxSpeed,p),u=l.multiplyBy(h/p),c=h/(o.inertiaDeceleration*r),d=u.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),i.Util.requestAnimFrame(function(){e.panBy(d,{duration:c,easeLinearity:r,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),i.Map.addInitHook("addHandler","dragging",i.Map.Drag),i.Map.mergeOptions({doubleClickZoom:!0}),i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,o=e.getZoom(),a=t.originalEvent.shiftKey?Math.ceil(o)-1:Math.floor(o)+1;"center"===e.options.doubleClickZoom?e.setZoom(a):e.setZoomAround(t.containerPoint,a)}}),i.Map.addInitHook("addHandler","doubleClickZoom",i.Map.DoubleClickZoom),i.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40}),i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,{mousewheel:this._onWheelScroll,MozMousePixelScroll:i.DomEvent.preventDefault},this),this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,{mousewheel:this._onWheelScroll,MozMousePixelScroll:i.DomEvent.preventDefault},this)},_onWheelScroll:function(t){var e=i.DomEvent.getWheelDelta(t),o=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i.bind(this._performZoom,this),a),i.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=this._delta,o=t.getZoom();t.stop(),e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(o+e)-o,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(o+e):t.setZoomAround(this._lastMousePos,o+e))}}),i.Map.addInitHook("addHandler","scrollWheelZoom",i.Map.ScrollWheelZoom),i.extend(i.DomEvent,{_touchstart:i.Browser.msPointer?"MSPointerDown":i.Browser.pointer?"pointerdown":"touchstart",_touchend:i.Browser.msPointer?"MSPointerUp":i.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,o){function a(t){var e;if(e=i.Browser.pointer?i.DomEvent._pointersCount:t.touches.length,!(e>1)){var o=Date.now(),a=o-(s||o);r=t.touches?t.touches[0]:t,l=a>0&&p>=a,s=o}}function n(){if(l){if(i.Browser.pointer){var t,o,a={};for(o in r)t=r[o],a[o]=t&&t.bind?t.bind(r):t;r=a}r.type="dblclick",e(r),s=null}}var s,r,l=!1,p=250,h="_leaflet_",u=this._touchstart,c=this._touchend;return t[h+u+o]=a,t[h+c+o]=n,t.addEventListener(u,a,!1),t.addEventListener(c,n,!1),this},removeDoubleTapListener:function(t,e){var o="_leaflet_",a=t[o+this._touchend+e];return t.removeEventListener(this._touchstart,t[o+this._touchstart+e],!1),t.removeEventListener(this._touchend,a,!1),this}}),i.extend(i.DomEvent,{POINTER_DOWN:i.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:i.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:i.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:i.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:{},_pointersCount:0,addPointerListener:function(t,e,o,a){return"touchstart"===e?this._addPointerStart(t,o,a):"touchmove"===e?this._addPointerMove(t,o,a):"touchend"===e&&this._addPointerEnd(t,o,a),this},removePointerListener:function(t,e,o){var a=t["_leaflet_"+e+o];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,a,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,a,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,a,!1),t.removeEventListener(this.POINTER_CANCEL,a,!1)),this},_addPointerStart:function(t,o,a){var n=i.bind(function(t){i.DomEvent.preventDefault(t),this._handlePointer(t,o)},this);if(t["_leaflet_touchstart"+a]=n,t.addEventListener(this.POINTER_DOWN,n,!1),!this._pointerDocListener){var s=i.bind(this._globalPointerUp,this);e.documentElement.addEventListener(this.POINTER_DOWN,i.bind(this._globalPointerDown,this),!0),e.documentElement.addEventListener(this.POINTER_MOVE,i.bind(this._globalPointerMove,this),!0),e.documentElement.addEventListener(this.POINTER_UP,s,!0),e.documentElement.addEventListener(this.POINTER_CANCEL,s,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var o in this._pointers)t.touches.push(this._pointers[o]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,o){var a=i.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+o]=a,t.addEventListener(this.POINTER_MOVE,a,!1)},_addPointerEnd:function(t,e,o){var a=i.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+o]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1)}}),i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23,bounceAtZoomLimits:!0}),i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(t.touches&&2===t.touches.length&&!o._animatingZoom&&!this._zooming){var a=o.mouseEventToContainerPoint(t.touches[0]),n=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),"center"!==o.options.touchZoom&&(this._pinchStartLatLng=o.containerPointToLatLng(a.add(n)._divideBy(2))),this._startDist=a.distanceTo(n),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o.stop(),i.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),i.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,o=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]),n=o.distanceTo(a)/this._startDist;if(this._zoom=e.getScaleZoom(n,this._startZoom),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===n)return}else{var s=o._add(a)._divideBy(2)._subtract(this._centerPoint);if(1===n&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng).subtract(s))}if(e.options.bounceAtZoomLimits||!(this._zoom<=e.getMinZoom()&&1>n||this._zoom>=e.getMaxZoom()&&n>1)){this._moved||(e._moveStart(!0),this._moved=!0),i.Util.cancelAnimFrame(this._animRequest);var r=i.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=i.Util.requestAnimFrame(r,this,!0,e._container),i.DomEvent.preventDefault(t)}}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,i.Util.cancelAnimFrame(this._animRequest),i.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var t=this._zoom;t=this._map._limitZoom(t-this._startZoom>0?Math.ceil(t):Math.floor(t)),this._map._animateZoom(this._center,t,!0,!0)}}),i.Map.addInitHook("addHandler","touchZoom",i.Map.TouchZoom),i.Map.mergeOptions({tap:!0,tapTolerance:15}),i.Map.Tap=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){i.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(i.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var o=t.touches[0],a=o.target;this._startPos=this._newPos=new i.Point(o.clientX,o.clientY),a.tagName&&"a"===a.tagName.toLowerCase()&&i.DomUtil.addClass(a,"leaflet-active"),this._holdTimeout=setTimeout(i.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",o))},this),1e3),this._simulateEvent("mousedown",o),i.DomEvent.on(e,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),i.DomEvent.off(e,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var o=t.changedTouches[0],a=o.target;a&&a.tagName&&"a"===a.tagName.toLowerCase()&&i.DomUtil.removeClass(a,"leaflet-active"),this._simulateEvent("mouseup",o),this._isTapValid()&&this._simulateEvent("click",o)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new i.Point(e.clientX,e.clientY)},_simulateEvent:function(o,a){var i=e.createEvent("MouseEvents");i._simulated=!0,a.target._simulatedClick=!0,i.initMouseEvent(o,!0,!0,t,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(i)}}),i.Browser.touch&&!i.Browser.pointer&&i.Map.addInitHook("addHandler","tap",i.Map.Tap),i.Map.mergeOptions({boxZoom:!0}),i.Map.BoxZoom=i.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){i.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(this._moved=!1,i.DomUtil.disableTextSelection(),i.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void i.DomEvent.on(e,{contextmenu:i.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=i.DomUtil.create("div","leaflet-zoom-box",this._container),i.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new i.Bounds(this._point,this._startPoint),o=e.getSize();i.DomUtil.setPosition(this._box,e.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(i.DomUtil.remove(this._box),i.DomUtil.removeClass(this._container,"leaflet-crosshair")),i.DomUtil.enableTextSelection(),i.DomUtil.enableImageDrag(),i.DomEvent.off(e,{contextmenu:i.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){var e=new i.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),i.Map.addInitHook("addHandler","boxZoom",i.Map.BoxZoom),i.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),i.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),i.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=e.body,a=e.documentElement,i=o.scrollTop||a.scrollTop,n=o.scrollLeft||a.scrollLeft;this._map._container.focus(),t.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,o,a=this._panKeys={},i=this.keyCodes;for(e=0,o=i.left.length;o>e;e++)a[i.left[e]]=[-1*t,0];for(e=0,o=i.right.length;o>e;e++)a[i.right[e]]=[t,0];for(e=0,o=i.down.length;o>e;e++)a[i.down[e]]=[0,t];for(e=0,o=i.up.length;o>e;e++)a[i.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,o,a=this._zoomKeys={},i=this.keyCodes;for(e=0,o=i.zoomIn.length;o>e;e++)a[i.zoomIn[e]]=t;for(e=0,o=i.zoomOut.length;o>e;e++)a[i.zoomOut[e]]=-t},_addHooks:function(){i.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,o=this._map;if(e in this._panKeys){if(o._panAnim&&o._panAnim._inProgress)return;o.panBy(this._panKeys[e]),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds)}else if(e in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e)return;o.closePopup()}i.DomEvent.stop(t)}}}),i.Map.addInitHook("addHandler","keyboard",i.Map.Keyboard),i.Handler.MarkerDrag=i.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new i.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),i.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&i.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,o=e._shadow,a=i.DomUtil.getPosition(e._icon),n=e._map.layerPointToLatLng(a);o&&i.DomUtil.setPosition(o,a),e._latlng=n,t.latlng=n,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),i.Control=i.Class.extend({options:{position:"topright"},initialize:function(t){i.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),o=this.getPosition(),a=t._controlCorners[o];return i.DomUtil.addClass(e,"leaflet-control"),-1!==o.indexOf("bottom")?a.insertBefore(e,a.firstChild):a.appendChild(e),this},remove:function(){return this._map?(i.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),i.control=function(t){return new i.Control(t)},i.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,n){var s=o+t+" "+o+n;e[t+n]=i.DomUtil.create("div",s,a)}var e=this._controlCorners={},o="leaflet-",a=this._controlContainer=i.DomUtil.create("div",o+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){i.DomUtil.remove(this._controlContainer)}}),i.Control.Zoom=i.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",o=i.DomUtil.create("div",e+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,e+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,e+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){this._disabled||this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._disabled||this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,o,a,n){var s=i.DomUtil.create("a",o,a);return s.innerHTML=t,s.href="#",s.title=e,i.DomEvent.on(s,"mousedown dblclick",i.DomEvent.stopPropagation).on(s,"click",i.DomEvent.stop).on(s,"click",n,this).on(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";i.DomUtil.removeClass(this._zoomInButton,e),i.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&i.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&i.DomUtil.addClass(this._zoomInButton,e)}}),i.Map.mergeOptions({zoomControl:!0}),i.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new i.Control.Zoom,this.addControl(this.zoomControl))}),i.control.zoom=function(t){return new i.Control.Zoom(t)},i.Control.Attribution=i.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){i.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=i.DomUtil.create("div","leaflet-control-attribution"),i.DomEvent&&i.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(" | ")}}}),i.Map.mergeOptions({attributionControl:!0}),i.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new i.Control.Attribution).addTo(this))}),i.control.attribution=function(t){return new i.Control.Attribution(t)},i.Control.Scale=i.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",o=i.DomUtil.create("div",e),a=this.options;return this._addScales(a,e+"-line",o),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,o){t.metric&&(this._mScale=i.DomUtil.create("div",e,o)),t.imperial&&(this._iScale=i.DomUtil.create("div",e,o))},_update:function(){var t=this._map,e=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),o=1e3>e?e+" m":e/1e3+" km";this._updateScale(this._mScale,o,e/t)},_updateImperial:function(t){var e,o,a,i=3.2808399*t;i>5280?(e=i/5280,o=this._getRoundNum(e),this._updateScale(this._iScale,o+" mi",o/e)):(a=this._getRoundNum(i),this._updateScale(this._iScale,a+" ft",a/i))},_updateScale:function(t,e,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),o=t/e;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,e*o}}),i.control.scale=function(t){return new i.Control.Scale(t)},i.Control.Layers=i.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,o){i.setOptions(this,o),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in e)this._addLayer(e[a],a,!0)},onAdd:function(){return this._initLayout(),this._update(),this._container},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update()},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update()},removeLayer:function(t){return t.off("add remove",this._onLayerChange,this),delete this._layers[i.stamp(t)],this._update()},_initLayout:function(){var t="leaflet-control-layers",e=this._container=i.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),i.Browser.touch?i.DomEvent.on(e,"click",i.DomEvent.stopPropagation):i.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var o=this._form=i.DomUtil.create("form",t+"-list");if(this.options.collapsed){i.Browser.android||i.DomEvent.on(e,{mouseenter:this._expand,mouseleave:this._collapse},this);var a=this._layersLink=i.DomUtil.create("a",t+"-toggle",e);a.href="#",a.title="Layers",i.Browser.touch?i.DomEvent.on(a,"click",i.DomEvent.stop).on(a,"click",this._expand,this):i.DomEvent.on(a,"focus",this._expand,this),i.DomEvent.on(o,"click",function(){setTimeout(i.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=i.DomUtil.create("div",t+"-base",o),this._separator=i.DomUtil.create("div",t+"-separator",o),this._overlaysList=i.DomUtil.create("div",t+"-overlays",o),e.appendChild(o)},_addLayer:function(t,e,o){t.on("add remove",this._onLayerChange,this);var a=i.stamp(t);this._layers[a]={layer:t,name:e,overlay:o},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;i.DomUtil.empty(this._baseLayersList),i.DomUtil.empty(this._overlaysList);var t,e,o,a,n=0;for(o in this._layers)a=this._layers[o],this._addItem(a),e=e||a.overlay,t=t||!a.overlay,n+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&n>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._layers[i.stamp(t.target)].overlay,o=e?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;o&&this._map.fire(o,t.target)},_createRadioElement:function(t,o){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",i=e.createElement("div");return i.innerHTML=a,i.firstChild},_addItem:function(t){var o,a=e.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?(o=e.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=n):o=this._createRadioElement("leaflet-base-layers",n),o.layerId=i.stamp(t.layer),i.DomEvent.on(o,"click",this._onInputClick,this);var s=e.createElement("span");s.innerHTML=" "+t.name;var r=e.createElement("div");a.appendChild(r),r.appendChild(o),r.appendChild(s);var l=t.overlay?this._overlaysList:this._baseLayersList;return l.appendChild(a),a},_onInputClick:function(){var t,e,o,a=this._form.getElementsByTagName("input"),i=[],n=[];this._handlingClick=!0;for(var s=0,r=a.length;r>s;s++)t=a[s],e=this._layers[t.layerId].layer,o=this._map.hasLayer(e),t.checked&&!o?i.push(e):!t.checked&&o&&n.push(e);for(s=0;s<n.length;s++)this._map.removeLayer(n[s]);for(s=0;s<i.length;s++)this._map.addLayer(i[s]);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){i.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");var t=this._map._size.y-4*this._container.offsetTop;t<this._form.clientHeight&&(i.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px")},_collapse:function(){i.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded")}}),i.control.layers=function(t,e,o){return new i.Control.Layers(t,e,o)},i.PosAnimation=i.Evented.extend({run:function(t,e,o,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=i.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,o=1e3*this._duration;o>e?this._runFrame(this._easeOut(e/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var o=this._startPos.add(this._offset.multiplyBy(t));e&&o._round(),i.DomUtil.setPosition(this._el,o),this.fire("step")},_complete:function(){i.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),i.Map.include({setView:function(t,e,a){if(e=e===o?this._zoom:this._limitZoom(e),t=this._limitCenter(i.latLng(t),e,this.options.maxBounds),a=a||{},this.stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==o&&(a.zoom=i.extend({animate:a.animate},a.zoom),a.pan=i.extend({animate:a.animate},a.pan));var n=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,a.zoom):this._tryAnimatedPan(t,a.pan);if(n)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=i.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),
this;if(this._panAnim||(this._panAnim=new i.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){i.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,o,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var o=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(o)?(this.panBy(o,e),(e&&e.animate)!==!1):!1}}),i.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var l=i.DomUtil.TRANSITION&&i.Browser.any3d&&!i.Browser.mobileOpera;l&&i.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),i.DomEvent.on(this._proxy,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),i.Map.include(l?{_createAnimProxy:function(){var t=this._proxy=i.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var o=i.DomUtil.TRANSFORM,a=t.style[o];i.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===t.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),o=this.getZoom();i.DomUtil.setTransform(t,this.project(e,o),this.getZoomScale(o,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/a);return o.animate===!0||this.getSize().contains(n)?(i.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),!0):!1},_animateZoom:function(t,e,o,a){o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,i.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:a})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,i.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._move(this._animateToCenter,this._animateToZoom)._moveEnd(!0)}}:{}),i.Map.include({flyTo:function(t,e,a){function n(t){var e=(v*v-b*b+(t?-1:1)*q*q*x*x)/(2*(t?v:b)*q*x);return Math.log(Math.sqrt(e*e+1)-e)}function s(t){return(Math.exp(t)-Math.exp(-t))/2}function r(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return s(t)/r(t)}function p(t){return b*(r(w)/r(w+y*t))}function h(t){return b*(r(w)*l(w+y*t)-s(w))/q}function u(t){return 1-Math.pow(1-t,1.5)}function c(){var o=(Date.now()-S)/I,a=u(o)*C;1>=o?(this._flyToFrame=i.Util.requestAnimFrame(c,this),this._move(this.unproject(d.add(g.subtract(d).multiplyBy(h(a)/x)),f),this.getScaleZoom(b/p(a),f))):this._move(t,e)._moveEnd(!0)}if(a=a||{},a.animate===!1||!i.Browser.any3d)return this.setView(t,e,a);this.stop();var d=this.project(this.getCenter()),g=this.project(t),m=this.getSize(),f=this._zoom;t=i.latLng(t),e=e===o?f:e;var b=Math.max(m.x,m.y),v=b*this.getZoomScale(f,e),x=g.distanceTo(d),y=1.42,q=y*y,w=n(0),S=Date.now(),C=(n(1)-w)/y,I=a.duration?1e3*a.duration:1e3*C*.8;return this._moveStart(!0),c.call(this),this},flyToBounds:function(t,e){var o=this._getBoundsCenterZoom(t,e);return this.flyTo(o.center,o.zoom,e)}}),i.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=i.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i.bind(this._handleGeolocationResponse,this),o=i.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,o=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+o+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,o=t.coords.longitude,a=new i.LatLng(e,o),n=a.toBounds(t.coords.accuracy),s=this._locateOptions;if(s.setView){var r=this.getBoundsZoom(n);this.setView(a,s.maxZoom?Math.min(r,s.maxZoom):r)}var l={latlng:a,bounds:n,timestamp:t.timestamp};for(var p in t.coords)"number"==typeof t.coords[p]&&(l[p]=t.coords[p]);this.fire("locationfound",l)}})}(window,document);